!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=25)}([function(e,t,n){"use strict";e.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}},function(e,t,n){"use strict";var r=n(55),o=Math.max;e.exports=function(e){return o(0,r(e))}},function(e,t,n){"use strict"},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function i(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function c(){g&&d&&(g=!1,d.length?h=d.concat(h):y=-1,h.length&&u())}function u(){if(!g){var e=o(c);g=!0;for(var t=h.length;t;){for(d=h,h=[];++y<t;)d&&d[y].run();y=-1,t=h.length}d=null,g=!1,i(e)}}function a(e,t){this.fun=e,this.array=t}function s(){}var l,f,p=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var d,h=[],g=!1,y=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new a(e,t)),1!==h.length||g||o(u)},a.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=s,p.addListener=s,p.once=s,p.off=s,p.removeListener=s,p.removeAllListeners=s,p.emit=s,p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t,n){function r(e){var t=function e(){return o.apply(e,arguments)};return t._styles=e,t.__proto__=f,t}function o(){var e=arguments,t=e.length,n=0!==t&&String(arguments[0]);if(t>1)for(var r=1;r<t;r++)n+=" "+e[r];if(!c.enabled||!n)return n;for(var o=this._styles,i=o.length;i--;){var a=u[o[i]];n=a.open+n.replace(a.closeRe,a.open)+a.close}return n}function i(e){for(var t in e)!function(t){c[t]=function(n){if("object"==typeof e[t]){var r=n;for(var o in e[t])r=c[e[t][o]](r);return r}return c[e[t]](n)}}(t)}var c={};e.exports=c,c.themes={};var u=c.styles=n(14),a=Object.defineProperties;c.supportsColor=n(38),void 0===c.enabled&&(c.enabled=c.supportsColor),c.stripColors=c.strip=function(e){return(""+e).replace(/\x1B\[\d+m/g,"")};var s=(c.stylize=function(e,t){return c.enabled?u[t].open+e+u[t].close:e+""},function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")}),l=function(){var e={};return u.grey=u.gray,Object.keys(u).forEach(function(t){u[t].closeRe=new RegExp(s(u[t].close),"g"),e[t]={get:function(){return r(this._styles.concat(t))}}}),e}(),f=a(function(){},l);c.setTheme=function(e){if("string"==typeof e)try{return c.themes[e]=!function(){var e=new Error('Cannot find module "."');throw e.code="MODULE_NOT_FOUND",e}(),i(c.themes[e]),c.themes[e]}catch(e){return console.log(e),e}else i(e)};var p=function(e,t){var n=t.split("");return n=n.map(e),n.join("")};c.trap=n(30),c.zalgo=n(31),c.maps={},c.maps.america=n(34),c.maps.zebra=n(37),c.maps.rainbow=n(35),c.maps.random=n(36);for(var d in c.maps)!function(e){c[e]=function(t){return p(c.maps[e],t)}}(d);a(c,function(){var e={};return Object.keys(l).forEach(function(t){e[t]={get:function(){return r([t])}}}),e}())},function(e,t,n){"use strict";e.exports=function(e){if(null==e)throw new TypeError("Cannot use null or undefined");return e}},function(e,t,n){"use strict";var r,o=n(18),i=n(21),c=n(59),u=n(63);r=e.exports=function(e,t){var n,r,c,a,s;return arguments.length<2||"string"!=typeof e?(a=t,t=e,e=null):a=arguments[2],null==e?(n=c=!0,r=!1):(n=u.call(e,"c"),r=u.call(e,"e"),c=u.call(e,"w")),s={value:t,configurable:n,enumerable:r,writable:c},a?o(i(a),s):s},r.gs=function(e,t,n){var r,a,s,l;return"string"!=typeof e?(s=n,n=t,t=e,e=null):s=arguments[3],null==t?t=void 0:c(t)?null==n?n=void 0:c(n)||(s=n,n=void 0):(s=t,t=n=void 0),null==e?(r=!0,a=!1):(r=u.call(e,"c"),a=u.call(e,"e")),l={get:t,set:n,configurable:r,enumerable:a},s?o(i(s),l):l}},function(e,t,n){"use strict";e.exports=n(56)("forEach")},function(e,t,n){"use strict";var r=n(1),o=n(5),i=Array.prototype.indexOf,c=Object.prototype.hasOwnProperty,u=Math.abs,a=Math.floor;e.exports=function(e){var t,n,s,l;if(e===e)return i.apply(this,arguments);for(n=r(o(this).length),s=arguments[1],s=isNaN(s)?0:s>=0?a(s):r(this.length)-a(u(s)),t=s;t<n;++t)if(c.call(this,t)&&(l=this[t])!==l)return t;return-1}},function(e,t,n){"use strict";e.exports=n(45)()?Array.from:n(46)},function(e,t,n){"use strict";(function(t,n){var r,o;r=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e},o=function(e){var t,n,o=document.createTextNode(""),i=0;return new e(function(){var e;if(t)n&&(t=n.concat(t));else{if(!n)return;t=n}if(n=t,t=null,"function"==typeof n)return e=n,n=null,void e();for(o.data=i=++i%2;n;)e=n.shift(),n.length||(n=null),e()}).observe(o,{characterData:!0}),function(e){if(r(e),t)return void("function"==typeof t?t=[t,e]:t.push(e));t=e,o.data=i=++i%2}},e.exports=function(){if("object"==typeof t&&t&&"function"==typeof t.nextTick)return t.nextTick;if("object"==typeof document&&document){if("function"==typeof MutationObserver)return o(MutationObserver);if("function"==typeof WebKitMutationObserver)return o(WebKitMutationObserver)}return"function"==typeof n?function(e){n(r(e))}:"function"==typeof setTimeout||"object"==typeof setTimeout?function(e){setTimeout(r(e),0)}:null}()}).call(t,n(3),n(94).setImmediate)},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r=n(100);e.exports=n(39).spawnable(r.name)},function(e,t){function n(e){throw new Error("Cannot find module '"+e+"'.")}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=13},function(e,t){var n={};e.exports=n;var r={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(r).forEach(function(e){var t=r[e],o=n[e]=[];o.open="["+t[0]+"m",o.close="["+t[1]+"m"})},function(e,t,n){e.exports=function(e,t){var r=n(42),o=n(41);return t=t||{formatArgs:!0},e=e||n(16),e=r(e),e=o({debugApi:e,options:t})}},function(e,t,n){(function(r){function o(){return!("undefined"==typeof window||!window||void 0===window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document&&"WebkitAppearance"in document.documentElement.style||"undefined"!=typeof window&&window&&window.console&&(console.firebug||console.exception&&console.table)||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function i(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var o=0,i=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))}),e.splice(i,0,r)}}function c(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function u(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}}function a(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e}t=e.exports=n(44),t.log=c,t.formatArgs=i,t.save=u,t.load=a,t.useColors=o,t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(a())}).call(t,n(3))},function(e,t,n){"use strict";var r,o,i,c,u=n(1),a=function(e,t){};try{Object.defineProperty(a,"length",{configurable:!0,writable:!1,enumerable:!1,value:1})}catch(e){}1===a.length?(r={configurable:!0,writable:!1,enumerable:!1},o=Object.defineProperty,e.exports=function(e,t){return t=u(t),e.length===t?e:(r.value=t,o(e,"length",r))}):(c=n(20),i=function(){var e=[];return function(t){var n,r=0;if(e[t])return e[t];for(n=[];t--;)n.push("a"+(++r).toString(36));return new Function("fn","return function ("+n.join(", ")+") { return fn.apply(this, arguments); };")}}(),e.exports=function(e,t){var n;if(t=u(t),e.length===t)return e;n=i(t)(e);try{c(n,e)}catch(e){}return n})},function(e,t,n){"use strict";e.exports=n(57)()?Object.assign:n(58)},function(e,t,n){"use strict";var r=n(0),o=n(7),i=Function.prototype.call;e.exports=function(e,t){var n={},c=arguments[2];return r(t),o(e,function(e,r,o,u){n[r]=i.call(t,c,e,r,o,u)}),n}},function(e,t,n){"use strict";var r=n(5),o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols;e.exports=function(e,t){var n,a=Object(r(t));if(e=Object(r(e)),c(a).forEach(function(r){try{o(e,r,i(t,r))}catch(e){n=e}}),"function"==typeof u&&u(a).forEach(function(r){try{o(e,r,i(t,r))}catch(e){n=e}}),void 0!==n)throw n;return e}},function(e,t,n){"use strict";var r=Array.prototype.forEach,o=Object.create,i=function(e,t){var n;for(n in e)t[n]=e[n]};e.exports=function(e){var t=o(null);return r.call(arguments,function(e){null!=e&&i(Object(e),t)}),t}},function(e,t){function n(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}e.exports=n},function(e,t,n){"use strict";var r=n(1);e.exports=function(e,t,n){var o;return isNaN(e)?(o=t,o>=0?n&&o?o-1:o:1):!1!==e&&r(e)}},function(e,t,n){"use strict";e.exports=n(28)},function(e,t,n){"use strict";window.preacher=n(24)},function(e,t,n){"use strict";var r=n(93),o=n(91),i=function(e,t){var n=void 0,r=o.parse(e[t].getFileName());return n="index"===r.name?o.basename(r.dir)+"/index":r.name,{filename:n,lineNumber:e[t].getLineNumber()}},c=function(e,t){return function(){var n=r.parse(new Error),o=i(n,1);"color-wrap/index"===o.filename&&(o=i(n,2));for(var c="["+o.filename+":"+o.lineNumber+"]",u=arguments.length,a=Array(u),s=0;s<u;s++)a[s]=arguments[s];return a.unshift(c),"function"==typeof a[1]&&(a[1]=a[1]()),e.apply(t,a)}},u=function(e,t){return function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return"function"==typeof r[0]&&(r[0]=r[0]()),e.apply(t,r)}};e.exports={getFileAndLine:i,decorateOutput:c,resolveOutput:u}},function(e,t,n){"use strict";(function(t){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(12).spawn("logger"),c=function(){};e.exports=function(e){var u=e.loggerToWrap,a=e.decorLevels,s=e.doFileLine,l=e.debugApi,f=e.levelFns,p=n(29),d=n(80),h=n(26);i(function(){return{loggerToWrap:u,decorLevels:a,doFileLine:s,debugApi:l,levelFns:f}});var g=function(){function e(n,o){r(this,e);var i=void 0,d=void 0;if(this.base=n,this.namespace=o,"string"!=typeof this.namespace)throw new Error("invalid logging namespace");""===this.namespace?(i=this.base+":__default_namespace__:",d=!0):(this.namespace.endsWith(":")||(this.namespace+=":"),i=this.base+":"+this.namespace),this.decorLevels=a;var g=l(i);g.log=function(){var e=[].slice.call(arguments,0);return u.debug.apply(u,e)},g.enabled?!d&&!s||t.window?this.debug=h.resolveOutput(g):this.debug=h.decorateOutput(g):this.debug=c;var y=!0,v=!1,m=void 0;try{for(var b,w=Array.from(f)[Symbol.iterator]();!(y=(b=w.next()).done);y=!0){var x=b.value;(null!=this.decorLevels?this.decorLevels.indexOf(x):void 0)>=0?!d&&!s||t.window?this[x]=h.resolveOutput(u[x],u):this[x]=h.decorateOutput(u[x],u):this[x]=c}}catch(e){v=!0,m=e}finally{try{!y&&w.return&&w.return()}finally{if(v)throw m}}p(this)}return o(e,[{key:"spawn",value:function(t){return e.getLogger(this.base,this.namespace+t)}},{key:"isEnabled",value:function(e){null==e&&(e="");var t=""===e||e.endsWith(":")?"":":";return l.enabled(this.namespace+e+t)}}]),e}(),y=function(e,t){return new g(e,t)};return g.getLogger=d(y,{primitive:!0}),g}}).call(t,n(11))},function(e,t,n){"use strict";(function(t){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(12).spawn("loggerFactory");e.exports=function(e){var i=e.loggerToWrap,c=e.debugApi,u=e.enable,a=e.levelFns,s=e.doFileLine,l=e.decorLevels;null==c&&(c=n(16));var f=["info","warn","error"];if(null==a&&(a=f),null==l&&(l=a),a.length||(a=f,l=[]),u){o(function(){return"enabled"});for(var p=u.split(/[, ]/g),d=0;d<p.length;d++){var h=p[d];h.endsWith("*")||(h.endsWith(":")?p[d]=h+"*":p[d]=h+":*")}p=p.concat((t.env.DEBUG||"").split(",")),c.enable(p.join(","))}else o(function(){return"not enabled, defaulting to DEBUG env"}),c.enable(t.env.DEBUG||null);if(!i)throw new Error("baselogger undefined");var g=function(e){if(null==e)return!1;var t=!0,n=!1,r=void 0;try{for(var o,i=Array.from(a)[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var c=o.value;if(null==e[c]||"function"!=typeof e[c])return c}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}return!0}(i);if(!g)throw new Error("baselogger is invalid");if(r("string")===g)throw new Error("baselogger is invalid on funciton "+g);var y=n(27)({loggerToWrap:i,decorLevels:l,doFileLine:s,debugApi:c,levelFns:a});return o(function(){return"Logger Bootstrapped"}),function(e){return o(function(){return"creating log wrapper"}),y.getLogger(e,"")}}}).call(t,n(3))},function(e,t,n){var r=n(33),o=n(14),i=n(99),c=["debug","info","warn","error","log"];e.exports=function(e,t){t=t||c;var n,u;for(n in t)u=t instanceof Array?t[n]:n,function(t){var n=e[t];n&&"function"==typeof n&&Object.keys(o).forEach(function(e){n[e]=function(){var t=i.format.apply(i,arguments);return n(r[e](t))}})}(u);return e}},function(e,t){e.exports=function(e,t){var n="";e=e||"Run the trap, drop the bass",e=e.split("");var r={a:["@","Ä„","Èº","É…","Î”","Î›","Ð”"],b:["ÃŸ","Æ","Éƒ","É®","Î²","à¸¿"],c:["Â©","È»","Ï¾"],d:["Ã","ÆŠ","Ô€","Ô","Ô‚","Ôƒ"],e:["Ã‹","Ä•","ÆŽ","É˜","Î£","Î¾","Ò¼","à©¬"],f:["Óº"],g:["É¢"],h:["Ä¦","Æ•","Ò¢","Òº","Ó‡","ÔŠ"],i:["à¼"],j:["Ä´"],k:["Ä¸","Ò ","Óƒ","Ôž"],l:["Ä¹"],m:["Ê","Ó","ÓŽ","Ô ","Ô¡","àµ©"],n:["Ã‘","Å‹","Æ","Í¶","Î ","ÒŠ"],o:["Ã˜","Ãµ","Ã¸","Ç¾","Ê˜","Ñº","×","Û","à¹"],p:["Ç·","ÒŽ"],q:["à§"],r:["Â®","Æ¦","È","ÉŒ","Ê€","Ð¯"],s:["Â§","Ïž","ÏŸ","Ï¨"],t:["Å","Å¦","Í³"],u:["Æ±","Õ"],v:["×˜"],w:["Ð¨","Ñ ","Ñ¼","àµ°"],x:["Ò²","Ó¾","Ó¼","Ó½"],y:["Â¥","Ò°","Ó‹"],z:["Æµ","É€"]};return e.forEach(function(e){e=e.toLowerCase();var t=r[e]||[" "],o=Math.floor(Math.random()*t.length);n+=void 0!==r[e]?r[e][o]:e}),n}},function(e,t){e.exports=function(e,t){function n(e){return Math.floor(Math.random()*e)}function r(e){var t=!1;return i.filter(function(n){t=n===e}),t}e=e||"   he is here   ";var o={up:["Ì","ÌŽ","Ì„","Ì…","Ì¿","Ì‘","Ì†","Ì","Í’","Í—","Í‘","Ì‡","Ìˆ","ÌŠ","Í‚","Ì“","Ìˆ","ÍŠ","Í‹","ÍŒ","Ìƒ","Ì‚","ÌŒ","Í","Ì€","Ì","Ì‹","Ì","Ì’","Ì“","Ì”","Ì½","Ì‰","Í£","Í¤","Í¥","Í¦","Í§","Í¨","Í©","Íª","Í«","Í¬","Í­","Í®","Í¯","Ì¾","Í›","Í†","Ìš"],down:["Ì–","Ì—","Ì˜","Ì™","Ìœ","Ì","Ìž","ÌŸ","Ì ","Ì¤","Ì¥","Ì¦","Ì©","Ìª","Ì«","Ì¬","Ì­","Ì®","Ì¯","Ì°","Ì±","Ì²","Ì³","Ì¹","Ìº","Ì»","Ì¼","Í…","Í‡","Íˆ","Í‰","Í","ÍŽ","Í“","Í”","Í•","Í–","Í™","Íš","Ì£"],mid:["Ì•","Ì›","Ì€","Ì","Í˜","Ì¡","Ì¢","Ì§","Ì¨","Ì´","Ìµ","Ì¶","Íœ","Í","Íž","ÍŸ","Í ","Í¢","Ì¸","Ì·","Í¡"," Ò‰"]},i=[].concat(o.up,o.down,o.mid);return function(e,t){var i,c,u="";t=t||{},t.up=void 0===t.up||t.up,t.mid=void 0===t.mid||t.mid,t.down=void 0===t.down||t.down,t.size=void 0!==t.size?t.size:"maxi",e=e.split("");for(c in e)if(!r(c)){switch(u+=e[c],i={up:0,down:0,mid:0},t.size){case"mini":i.up=n(8),i.mid=n(2),i.down=n(8);break;case"maxi":i.up=n(16)+3,i.mid=n(4)+1,i.down=n(64)+3;break;default:i.up=n(8)+1,i.mid=n(6)/2,i.down=n(8)+1}var a=["up","mid","down"];for(var s in a)for(var l=a[s],f=0;f<=i[l];f++)t[l]&&(u+=o[l][n(o[l].length)])}return u}(e,t)}},function(e,t,n){var r=n(4);e.exports=function(){function e(e){var n=["__defineGetter__","__defineSetter__","__lookupGetter__","__lookupSetter__","charAt","constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf","charCodeAt","indexOf","lastIndexof","length","localeCompare","match","replace","search","slice","split","substring","toLocaleLowerCase","toLocaleUpperCase","toLowerCase","toUpperCase","trim","trimLeft","trimRight"];Object.keys(e).forEach(function(o){-1!==n.indexOf(o)?console.log("warn: ".red+("String.prototype"+o).magenta+" is probably something you don't want to override. Ignoring style name"):"string"==typeof e[o]?(r[o]=r[e[o]],t(o,function(){return r[e[o]](this)})):t(o,function(){for(var t=this,n=0;n<e[o].length;n++)t=r[e[o][n]](t);return t})})}var t=function(e,t){String.prototype.__defineGetter__(e,t)};t("strip",function(){return r.strip(this)}),t("stripColors",function(){return r.strip(this)}),t("trap",function(){return r.trap(this)}),t("zalgo",function(){return r.zalgo(this)}),t("zebra",function(){return r.zebra(this)}),t("rainbow",function(){return r.rainbow(this)}),t("random",function(){return r.random(this)}),t("america",function(){return r.america(this)}),Object.keys(r.styles).forEach(function(e){t(e,function(){return r.stylize(this,e)})}),r.setTheme=function(t){if("string"==typeof t)try{return r.themes[t]=!function(){var e=new Error('Cannot find module "."');throw e.code="MODULE_NOT_FOUND",e}(),e(r.themes[t]),r.themes[t]}catch(e){return console.log(e),e}else e(t)}}},function(e,t,n){var r=n(4);e.exports=r,n(32)()},function(e,t,n){var r=n(4);e.exports=function(){return function(e,t,n){if(" "===e)return e;switch(t%3){case 0:return r.red(e);case 1:return r.white(e);case 2:return r.blue(e)}}}()},function(e,t,n){var r=n(4);e.exports=function(){var e=["red","yellow","green","blue","magenta"];return function(t,n,o){return" "===t?t:r[e[n++%e.length]](t)}}()},function(e,t,n){var r=n(4);e.exports=function(){var e=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta"];return function(t,n,o){return" "===t?t:r[e[Math.round(Math.random()*(e.length-1))]](t)}}()},function(e,t,n){var r=n(4);e.exports=function(e,t,n){return t%2==0?e:r.inverse(e)}},function(e,t,n){(function(t){var n=t.argv;e.exports=function(){return-1===n.indexOf("--no-color")&&-1===n.indexOf("--color=false")&&(-1!==n.indexOf("--color")||-1!==n.indexOf("--color=true")||-1!==n.indexOf("--color=always")||!(t.stdout&&!t.stdout.isTTY)&&("win32"===t.platform||("COLORTERM"in t.env||"dumb"!==t.env.TERM&&!!/^screen|^xterm|^vt100|color|ansi|cygwin|linux/i.test(t.env.TERM))))}()}).call(t,n(3))},function(e,t,n){e.exports=n(15),e.exports.spawnable=n(43)},function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,c,u=r(e),a=1;a<arguments.length;a++){n=Object(arguments[a]);for(var s in n)o.call(n,s)&&(u[s]=n[s]);if(Object.getOwnPropertySymbols){c=Object.getOwnPropertySymbols(n);for(var l=0;l<c.length;l++)i.call(n,c[l])&&(u[c[l]]=n[c[l]])}}return u}},function(e,t){e.exports=function(e){var t=e.debugApi,n=e.options;return 1==n.formatArgs?t.formatArgs=function(){return this.useColors?arguments[0]="  [9"+this.color+"m"+this.namespace+" [0m"+arguments[0]:arguments[0]="  "+this.namespace+" "+arguments[0],arguments}:"function"==typeof n.formatArgs&&(t.formatArgs=n.formatArgs),t}},function(e,t,n){function r(e,t){var n=function(){var n;return n=1<=arguments.length?i.call(arguments,0):[],"function"==typeof n[0]&&(n[0]=n[0]()),e.apply(t,n)};return c(n,e),n}function o(e){var t=e,n=function(){};return e=function(e){var o=t(e);return o.enabled?o=r(o):(c(n,o),o=n),o},c(e,t),e}var i=[].slice,c=n(40);e.exports=o},function(e,t,n){function r(e,t){function r(e,n){e=e||"",n=n||"";var r=n?e+":"+n:e,o=t(r);this.debug=o,this.debug.spawn=this.spawn}return e=e||"",t||(t=n(15)()),r.prototype.spawn=function(e){return new r(this.namespace,e).debug},new r(e).debug}e.exports=r},function(e,t,n){function r(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}function o(e){function n(){if(n.enabled){var e=n,r=+new Date,o=r-(s||r);e.diff=o,e.prev=s,e.curr=r,s=r;for(var i=new Array(arguments.length),c=0;c<i.length;c++)i[c]=arguments[c];i[0]=t.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var u=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;u++;var o=t.formatters[r];if("function"==typeof o){var c=i[u];n=o.call(e,c),i.splice(u,1),u--}return n}),t.formatArgs.call(e,i);(n.log||t.log||console.log.bind(console)).apply(e,i)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=r(e),"function"==typeof t.init&&t.init(n),n}function i(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length,o=0;o<r;o++)n[o]&&(e=n[o].replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function c(){t.enable("")}function u(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1}function a(e){return e instanceof Error?e.stack||e.message:e}t=e.exports=o.debug=o.default=o,t.coerce=a,t.disable=c,t.enable=i,t.enabled=u,t.humanize=n(90),t.names=[],t.skips=[],t.formatters={};var s},function(e,t,n){"use strict";e.exports=function(){var e,t,n=Array.from;return"function"==typeof n&&(e=["raz","dwa"],t=n(e),Boolean(t&&t!==e&&"dwa"===t[1]))}},function(e,t,n){"use strict";var r=n(67).iterator,o=n(49),i=n(50),c=n(1),u=n(0),a=n(5),s=n(66),l=Array.isArray,f=Function.prototype.call,p={configurable:!0,enumerable:!0,writable:!0,value:null},d=Object.defineProperty;e.exports=function(e){var t,n,h,g,y,v,m,b,w,x,O=arguments[1],j=arguments[2];if(e=Object(a(e)),null!=O&&u(O),this&&this!==Array&&i(this))t=this;else{if(!O){if(o(e))return 1!==(y=e.length)?Array.apply(null,e):(g=new Array(1),g[0]=e[0],g);if(l(e)){for(g=new Array(y=e.length),n=0;n<y;++n)g[n]=e[n];return g}}g=[]}if(!l(e))if(void 0!==(w=e[r])){for(m=u(w).call(e),t&&(g=new t),b=m.next(),n=0;!b.done;)x=O?f.call(O,j,b.value,n):b.value,t?(p.value=x,d(g,n,p)):g[n]=x,b=m.next(),++n;y=n}else if(s(e)){for(y=e.length,t&&(g=new t),n=0,h=0;n<y;++n)x=e[n],n+1<y&&(v=x.charCodeAt(0))>=55296&&v<=56319&&(x+=e[++n]),x=O?f.call(O,j,x,h):x,t?(p.value=x,d(g,h,p)):g[h]=x,++h;y=h}if(void 0===y)for(y=c(e.length),t&&(g=new t(y)),n=0;n<y;++n)x=O?f.call(O,j,e[n],n):e[n],t?(p.value=x,d(g,n,p)):g[n]=x;return t&&(p.value=null,g.length=y),g}},function(e,t,n){"use strict";var r=n(9),o=Array.isArray;e.exports=function(e){return o(e)?e:r(e)}},function(e,t,n){"use strict";var r=n(18),o=Error.captureStackTrace;t=e.exports=function(e){var n=new Error(e),i=arguments[1],c=arguments[2];return null==c&&i&&"object"==typeof i&&(c=i,i=null),null!=c&&r(n,c),null!=i&&(n.code=String(i)),o&&o(n,t),n}},function(e,t,n){"use strict";var r=Object.prototype.toString,o=r.call(function(){return arguments}());e.exports=function(e){return r.call(e)===o}},function(e,t,n){"use strict";var r=Object.prototype.toString,o=r.call(n(51));e.exports=function(e){return"function"==typeof e&&r.call(e)===o}},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){"use strict";e.exports=n(53)()?Math.sign:n(54)},function(e,t,n){"use strict";e.exports=function(){var e=Math.sign;return"function"==typeof e&&(1===e(10)&&-1===e(-20))}},function(e,t,n){"use strict";e.exports=function(e){return e=Number(e),isNaN(e)||0===e?e:e>0?1:-1}},function(e,t,n){"use strict";var r=n(52),o=Math.abs,i=Math.floor;e.exports=function(e){return isNaN(e)?0:(e=Number(e),0!==e&&isFinite(e)?r(e)*i(o(e)):e)}},function(e,t,n){"use strict";var r=n(0),o=n(5),i=Function.prototype.bind,c=Function.prototype.call,u=Object.keys,a=Object.prototype.propertyIsEnumerable;e.exports=function(e,t){return function(n,s){var l,f=arguments[2],p=arguments[3];return n=Object(o(n)),r(s),l=u(n),p&&l.sort("function"==typeof p?i.call(p,n):void 0),"function"!=typeof e&&(e=l[e]),c.call(e,l,function(e,r){return a.call(n,e)?c.call(s,f,n[e],e,n,r):t})}}},function(e,t,n){"use strict";e.exports=function(){var e,t=Object.assign;return"function"==typeof t&&(e={foo:"raz"},t(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},function(e,t,n){"use strict";var r=n(60),o=n(5),i=Math.max;e.exports=function(e,t){var n,c,u,a=i(arguments.length,2);for(e=Object(o(e)),u=function(r){try{e[r]=t[r]}catch(e){n||(n=e)}},c=1;c<a;++c)t=arguments[c],r(t).forEach(u);if(void 0!==n)throw n;return e}},function(e,t,n){"use strict";e.exports=function(e){return"function"==typeof e}},function(e,t,n){"use strict";e.exports=n(61)()?Object.keys:n(62)},function(e,t,n){"use strict";e.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},function(e,t,n){"use strict";var r=Object.keys;e.exports=function(e){return r(null==e?e:Object(e))}},function(e,t,n){"use strict";e.exports=n(64)()?String.prototype.contains:n(65)},function(e,t,n){"use strict";var r="razdwatrzy";e.exports=function(){return"function"==typeof r.contains&&(!0===r.contains("dwa")&&!1===r.contains("foo"))}},function(e,t,n){"use strict";var r=String.prototype.indexOf;e.exports=function(e){return r.call(this,e,arguments[1])>-1}},function(e,t,n){"use strict";var r=Object.prototype.toString,o=r.call("");e.exports=function(e){return"string"==typeof e||e&&"object"==typeof e&&(e instanceof String||r.call(e)===o)||!1}},function(e,t,n){"use strict";e.exports=n(68)()?Symbol:n(70)},function(e,t,n){"use strict";var r={object:!0,symbol:!0};e.exports=function(){var e;if("function"!=typeof Symbol)return!1;e=Symbol("test symbol");try{String(e)}catch(e){return!1}return!!r[typeof Symbol.iterator]&&(!!r[typeof Symbol.toPrimitive]&&!!r[typeof Symbol.toStringTag])}},function(e,t,n){"use strict";e.exports=function(e){return!!e&&("symbol"==typeof e||!!e.constructor&&("Symbol"===e.constructor.name&&"Symbol"===e[e.constructor.toStringTag]))}},function(e,t,n){"use strict";var r,o,i,c,u=n(6),a=n(71),s=Object.create,l=Object.defineProperties,f=Object.defineProperty,p=Object.prototype,d=s(null);if("function"==typeof Symbol){r=Symbol;try{String(r()),c=!0}catch(e){}}var h=function(){var e=s(null);return function(t){for(var n,r,o=0;e[t+(o||"")];)++o;return t+=o||"",e[t]=!0,n="@@"+t,f(p,n,u.gs(null,function(e){r||(r=!0,f(this,n,u(e)),r=!1)})),n}}();i=function(e){if(this instanceof i)throw new TypeError("Symbol is not a constructor");return o(e)},e.exports=o=function e(t){var n;if(this instanceof e)throw new TypeError("Symbol is not a constructor");return c?r(t):(n=s(i.prototype),t=void 0===t?"":String(t),l(n,{__description__:u("",t),__name__:u("",h(t))}))},l(o,{for:u(function(e){return d[e]?d[e]:d[e]=o(String(e))}),keyFor:u(function(e){var t;a(e);for(t in d)if(d[t]===e)return t}),hasInstance:u("",r&&r.hasInstance||o("hasInstance")),isConcatSpreadable:u("",r&&r.isConcatSpreadable||o("isConcatSpreadable")),iterator:u("",r&&r.iterator||o("iterator")),match:u("",r&&r.match||o("match")),replace:u("",r&&r.replace||o("replace")),search:u("",r&&r.search||o("search")),species:u("",r&&r.species||o("species")),split:u("",r&&r.split||o("split")),toPrimitive:u("",r&&r.toPrimitive||o("toPrimitive")),toStringTag:u("",r&&r.toStringTag||o("toStringTag")),unscopables:u("",r&&r.unscopables||o("unscopables"))}),l(i.prototype,{constructor:u(o),toString:u("",function(){return this.__name__})}),l(o.prototype,{toString:u(function(){return"Symbol ("+a(this).__description__+")"}),valueOf:u(function(){return a(this)})}),f(o.prototype,o.toPrimitive,u("",function(){var e=a(this);return"symbol"==typeof e?e:e.toString()})),f(o.prototype,o.toStringTag,u("c","Symbol")),f(i.prototype,o.toStringTag,u("c",o.prototype[o.toStringTag])),f(i.prototype,o.toPrimitive,u("c",o.prototype[o.toPrimitive]))},function(e,t,n){"use strict";var r=n(69);e.exports=function(e){if(!r(e))throw new TypeError(e+" is not a symbol");return e}},function(e,t,n){"use strict";var r,o,i,c,u,a,s,l=n(6),f=n(0),p=Function.prototype.apply,d=Function.prototype.call,h=Object.create,g=Object.defineProperty,y=Object.defineProperties,v=Object.prototype.hasOwnProperty,m={configurable:!0,enumerable:!1,writable:!0};r=function(e,t){var n;return f(t),v.call(this,"__ee__")?n=this.__ee__:(n=m.value=h(null),g(this,"__ee__",m),m.value=null),n[e]?"object"==typeof n[e]?n[e].push(t):n[e]=[n[e],t]:n[e]=t,this},o=function(e,t){var n,o;return f(t),o=this,r.call(this,e,n=function(){i.call(o,e,n),p.call(t,this,arguments)}),n.__eeOnceListener__=t,this},i=function(e,t){var n,r,o,i;if(f(t),!v.call(this,"__ee__"))return this;if(n=this.__ee__,!n[e])return this;if("object"==typeof(r=n[e]))for(i=0;o=r[i];++i)o!==t&&o.__eeOnceListener__!==t||(2===r.length?n[e]=r[i?0:1]:r.splice(i,1));else r!==t&&r.__eeOnceListener__!==t||delete n[e];return this},c=function(e){var t,n,r,o,i;if(v.call(this,"__ee__")&&(o=this.__ee__[e]))if("object"==typeof o){for(n=arguments.length,i=new Array(n-1),t=1;t<n;++t)i[t-1]=arguments[t];for(o=o.slice(),t=0;r=o[t];++t)p.call(r,this,i)}else switch(arguments.length){case 1:d.call(o,this);break;case 2:d.call(o,this,arguments[1]);break;case 3:d.call(o,this,arguments[1],arguments[2]);break;default:for(n=arguments.length,i=new Array(n-1),t=1;t<n;++t)i[t-1]=arguments[t];p.call(o,this,i)}},u={on:r,once:o,off:i,emit:c},a={on:l(r),once:l(o),off:l(i),emit:l(c)},s=y({},a),e.exports=t=function(e){return null==e?h(s):y(Object(e),a)},t.methods=u},function(e,t,n){"use strict";var r=n(1),o=Object.create,i=Object.prototype.hasOwnProperty;e.exports=function(e){var t,n=0,c=1,u=o(null),a=o(null),s=0;return e=r(e),{hit:function(r){var o=a[r],l=++s;if(u[l]=r,a[r]=l,!o){if(++n<=e)return;return r=u[c],t(r),r}if(delete u[o],c===o)for(;!i.call(u,++c);)continue},delete:t=function(e){var t=a[e];if(t&&(delete u[t],delete a[e],--n,c===t)){if(!n)return s=0,void(c=1);for(;!i.call(u,++c);)continue}},clear:function(){n=0,c=1,u=o(null),a=o(null),s=0}}}},function(e,t,n){"use strict";var r=n(9),o=n(19),i=n(20),c=n(17),u=n(10),a=Array.prototype.slice,s=Function.prototype.apply,l=Object.create,f=Object.prototype.hasOwnProperty;n(2).async=function(e,t){var n,p,d,h=l(null),g=l(null),y=t.memoized,v=t.original;t.memoized=c(function(e){var t=arguments,r=t[t.length-1];return"function"==typeof r&&(n=r,t=a.call(t,0,-1)),y.apply(p=this,d=t)},y);try{i(t.memoized,y)}catch(e){}t.on("get",function(e){var r,o,i;if(n){if(h[e])return"function"==typeof h[e]?h[e]=[h[e],n]:h[e].push(n),void(n=null);r=n,o=p,i=d,n=p=d=null,u(function(){var c;f.call(g,e)?(c=g[e],t.emit("getasync",e,i,o),s.call(r,c.context,c.args)):(n=r,p=o,d=i,y.apply(o,i))})}}),t.original=function(){var e,o,i,c;return n?(e=r(arguments),o=function e(n){var o,i,a=e.id;return null==a?void u(s.bind(e,this,arguments)):(delete e.id,o=h[a],delete h[a],o?(i=r(arguments),t.has(a)&&(n?t.delete(a):(g[a]={context:this,args:i},t.emit("setasync",a,"function"==typeof o?1:o.length))),"function"==typeof o?c=s.call(o,this,i):o.forEach(function(e){c=s.call(e,this,i)},this),c):void 0)},i=n,n=p=d=null,e.push(o),c=s.call(v,this,e),o.cb=i,n=o,c):s.call(v,this,arguments)},t.on("set",function(e){if(!n)return void t.delete(e);h[e]?"function"==typeof h[e]?h[e]=[h[e],n.cb]:h[e].push(n.cb):h[e]=n.cb,delete n.cb,n.id=e,n=null}),t.on("delete",function(e){var n;f.call(h,e)||g[e]&&(n=g[e],delete g[e],t.emit("deleteasync",e,a.call(n.args,1)))}),t.on("clear",function(){var e=g;g=l(null),t.emit("clearasync",o(e,function(e){return a.call(e.args,1)}))})}},function(e,t,n){"use strict";var r=n(0),o=n(7),i=n(2),c=Function.prototype.apply;i.dispose=function(e,t,n){var u;if(r(e),n.async&&i.async||n.promise&&i.promise)return t.on("deleteasync",u=function(t,n){c.call(e,null,n)}),void t.on("clearasync",function(e){o(e,function(e,t){u(t,e)})});t.on("delete",u=function(t,n){e(n)}),t.on("clear",function(e){o(e,function(e,t){u(t,e)})})}},function(e,t,n){"use strict";var r=n(9),o=n(7),i=n(10),c=n(22),u=n(96),a=n(2),s=Function.prototype,l=Math.max,f=Math.min,p=Object.create;a.maxAge=function(e,t,n){var d,h,g,y;(e=u(e))&&(d=p(null),h=n.async&&a.async||n.promise&&a.promise?"async":"",t.on("set"+h,function(n){d[n]=setTimeout(function(){t.delete(n)},e),y&&(y[n]&&"nextTick"!==y[n]&&clearTimeout(y[n]),y[n]=setTimeout(function(){delete y[n]},g))}),t.on("delete"+h,function(e){clearTimeout(d[e]),delete d[e],y&&("nextTick"!==y[e]&&clearTimeout(y[e]),delete y[e])}),n.preFetch&&(g=!0===n.preFetch||isNaN(n.preFetch)?.333:l(f(Number(n.preFetch),1),0))&&(y={},g=(1-g)*e,t.on("get"+h,function(e,o,u){y[e]||(y[e]="nextTick",i(function(){var i;"nextTick"===y[e]&&(delete y[e],t.delete(e),n.async&&(o=r(o),o.push(s)),i=t.memoized.apply(u,o),n.promise&&c(i)&&("function"==typeof i.done?i.done(s,s):i.then(s,s)))}))})),t.on("clear"+h,function(){o(d,function(e){clearTimeout(e)}),d={},y&&(o(y,function(e){"nextTick"!==e&&clearTimeout(e)}),y={})}))}},function(e,t,n){"use strict";var r=n(1),o=n(73),i=n(2);i.max=function(e,t,n){var c,u,a;(e=r(e))&&(u=o(e),c=n.async&&i.async||n.promise&&i.promise?"async":"",t.on("set"+c,a=function(e){void 0!==(e=u.hit(e))&&t.delete(e)}),t.on("get"+c,a),t.on("delete"+c,u.delete),t.on("clear"+c,u.clear))}},function(e,t,n){"use strict";var r=n(19),o=n(22),i=n(10),c=Object.create,u=Object.prototype.hasOwnProperty;n(2).promise=function(e,t){var n=c(null),a=c(null),s=c(null);t.on("set",function(r,c,u){var l=!1;if(!o(u))return a[r]=u,void t.emit("setasync",r,1);n[r]=1,s[r]=u;var f=function(e){var o=n[r];if(l)throw new Error("Memoizee error: Promise resolved with both failure and success, this can be result of unordered done & finally resolution.\nInstead of `promise: true` consider configuring memoization via `promise: 'then'` or `promise: 'done'");o&&(delete n[r],a[r]=e,t.emit("setasync",r,o))},p=function(){l=!0,n[r]&&(delete n[r],delete s[r],t.delete(r))};"then"!==e&&"function"==typeof u.done?"done"!==e&&"function"==typeof u.finally?(u.done(f),u.finally(p)):u.done(f,p):u.then(function(e){i(f.bind(this,e))},function(){i(p)})}),t.on("get",function(e,r,c){var u;if(n[e])return void++n[e];u=s[e];var a=function(){t.emit("getasync",e,r,c)};o(u)?"function"==typeof u.done?u.done(a):u.then(function(){i(a)}):a()}),t.on("delete",function(e){if(delete s[e],n[e])return void delete n[e];if(u.call(a,e)){var r=a[e];delete a[e],t.emit("deleteasync",e,[r])}}),t.on("clear",function(){var e=a;a=c(null),n=c(null),s=c(null),t.emit("clearasync",r(e,function(e){return[e]}))})}},function(e,t,n){"use strict";var r=n(6),o=n(2),i=Object.create,c=Object.defineProperties;o.refCounter=function(e,t,n){var u,a;u=i(null),a=n.async&&o.async||n.promise&&o.promise?"async":"",t.on("set"+a,function(e,t){u[e]=t||1}),t.on("get"+a,function(e){++u[e]}),t.on("delete"+a,function(e){delete u[e]}),t.on("clear"+a,function(){u={}}),c(t.memoized,{deleteRef:r(function(){var e=t.get(arguments);return null===e?null:u[e]?!--u[e]&&(t.delete(e),!0):null}),getRefCount:r(function(){var e=t.get(arguments);return null===e?0:u[e]?u[e]:0})})}},function(e,t,n){"use strict";var r=n(21),o=n(23),i=n(89);e.exports=function(e){var t,c=r(arguments[1]);return c.normalizer||0!==(t=c.length=o(c.length,e.length,c.async))&&(c.primitive?!1===t?c.normalizer=n(88):t>1&&(c.normalizer=n(86)(t)):c.normalizer=!1===t?n(87)():1===t?n(84)():n(85)(t)),c.async&&n(74),c.promise&&n(78),c.dispose&&n(75),c.maxAge&&n(76),c.max&&n(77),c.refCounter&&n(79),i(e,c)}},function(e,t,n){"use strict";var r=n(48),o=n(17),i=n(6),c=n(72).methods,u=n(83),a=n(82),s=Function.prototype.apply,l=Function.prototype.call,f=Object.create,p=Object.prototype.hasOwnProperty,d=Object.defineProperties,h=c.on,g=c.emit;e.exports=function(e,t,n){var c,y,v,m,b,w,x,O,j,_,T,S,E,k,A,z=f(null);return y=!1!==t?t:isNaN(e.length)?1:e.length,n.normalizer&&(_=a(n.normalizer),v=_.get,m=_.set,b=_.delete,w=_.clear),null!=n.resolvers&&(A=u(n.resolvers)),k=v?o(function(t){var n,o,i=arguments;if(A&&(i=A(i)),null!==(n=v(i))&&p.call(z,n))return T&&c.emit("get",n,i,this),z[n];if(o=1===i.length?l.call(e,this,i[0]):s.call(e,this,i),null===n){if(null!==(n=v(i)))throw r("Circular invocation","CIRCULAR_INVOCATION");n=m(i)}else if(p.call(z,n))throw r("Circular invocation","CIRCULAR_INVOCATION");return z[n]=o,S&&c.emit("set",n,null,o),o},y):0===t?function(){var t;if(p.call(z,"data"))return T&&c.emit("get","data",arguments,this),z.data;if(t=arguments.length?s.call(e,this,arguments):l.call(e,this),p.call(z,"data"))throw r("Circular invocation","CIRCULAR_INVOCATION");return z.data=t,S&&c.emit("set","data",null,t),t}:function(t){var n,o,i=arguments;if(A&&(i=A(arguments)),o=String(i[0]),p.call(z,o))return T&&c.emit("get",o,i,this),z[o];if(n=1===i.length?l.call(e,this,i[0]):s.call(e,this,i),p.call(z,o))throw r("Circular invocation","CIRCULAR_INVOCATION");return z[o]=n,S&&c.emit("set",o,null,n),n},c={original:e,memoized:k,get:function(e){return A&&(e=A(e)),v?v(e):String(e[0])},has:function(e){return p.call(z,e)},delete:function(e){var t;p.call(z,e)&&(b&&b(e),t=z[e],delete z[e],E&&c.emit("delete",e,t))},clear:function(){var e=z;w&&w(),z=f(null),c.emit("clear",e)},on:function(e,t){return"get"===e?T=!0:"set"===e?S=!0:"delete"===e&&(E=!0),h.call(this,e,t)},emit:g,updateEnv:function(){e=c.original}},x=v?o(function(e){var t,n=arguments;A&&(n=A(n)),null!==(t=v(n))&&c.delete(t)},y):0===t?function(){return c.delete("data")}:function(e){return A&&(e=A(arguments)[0]),c.delete(e)},O=o(function(){var e,t=arguments;return A&&(t=A(t)),e=v(t),z[e]}),j=o(function(){var e,t=arguments;return A&&(t=A(t)),null!==(e=v(t))&&c.has(e)}),d(k,{__memoized__:i(!0),delete:i(x),clear:i(c.clear),_get:i(O),_has:i(j)}),c}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e){var t;return"function"==typeof e?{set:e,get:e}:(t={get:r(e.get)},void 0!==e.set?(t.set=r(e.set),e.delete&&(t.delete=r(e.delete)),e.clear&&(t.clear=r(e.clear)),t):(t.set=t.get,t))}},function(e,t,n){"use strict";var r,o=n(47),i=n(0),c=Array.prototype.slice;r=function(e){return this.map(function(t,n){return t?t(e[n]):e[n]}).concat(c.call(e,this.length))},e.exports=function(e){return e=o(e),e.forEach(function(e){null!=e&&i(e)}),r.bind(e)}},function(e,t,n){"use strict";var r=n(8);e.exports=function(){var e=0,t=[],n=[];return{get:function(e){var o=r.call(t,e[0]);return-1===o?null:n[o]},set:function(r){return t.push(r[0]),n.push(++e),e},delete:function(e){var o=r.call(n,e);-1!==o&&(t.splice(o,1),n.splice(o,1))},clear:function(){t=[],n=[]}}}},function(e,t,n){"use strict";var r=n(8),o=Object.create;e.exports=function(e){var t=0,n=[[],[]],i=o(null);return{get:function(t){for(var o,i=0,c=n;i<e-1;){if(-1===(o=r.call(c[0],t[i])))return null;c=c[1][o],++i}return o=r.call(c[0],t[i]),-1===o?null:c[1][o]||null},set:function(o){for(var c,u=0,a=n;u<e-1;)c=r.call(a[0],o[u]),-1===c&&(c=a[0].push(o[u])-1,a[1].push([[],[]])),a=a[1][c],++u;return c=r.call(a[0],o[u]),-1===c&&(c=a[0].push(o[u])-1),a[1][c]=++t,i[t]=o,t},delete:function(t){for(var o,c=0,u=n,a=[],s=i[t];c<e-1;){if(-1===(o=r.call(u[0],s[c])))return;a.push(u,o),u=u[1][o],++c}if(-1!==(o=r.call(u[0],s[c]))){for(t=u[1][o],u[0].splice(o,1),u[1].splice(o,1);!u[0].length&&a.length;)o=a.pop(),u=a.pop(),u[0].splice(o,1),u[1].splice(o,1);delete i[t]}},clear:function(){n=[[],[]],i=o(null)}}}},function(e,t,n){"use strict";e.exports=function(e){return e?function(t){for(var n=String(t[0]),r=0,o=e;--o;)n+=""+t[++r];return n}:function(){return""}}},function(e,t,n){"use strict";var r=n(8),o=Object.create;e.exports=function(){var e=0,t=[],n=o(null);return{get:function(e){var n,o=0,i=t,c=e.length;if(0===c)return i[c]||null;if(i=i[c]){for(;o<c-1;){if(-1===(n=r.call(i[0],e[o])))return null;i=i[1][n],++o}return n=r.call(i[0],e[o]),-1===n?null:i[1][n]||null}return null},set:function(o){var i,c=0,u=t,a=o.length;if(0===a)u[a]=++e;else{for(u[a]||(u[a]=[[],[]]),u=u[a];c<a-1;)i=r.call(u[0],o[c]),-1===i&&(i=u[0].push(o[c])-1,u[1].push([[],[]])),u=u[1][i],++c;i=r.call(u[0],o[c]),-1===i&&(i=u[0].push(o[c])-1),u[1][i]=++e}return n[e]=o,e},delete:function(e){var o,i=0,c=t,u=n[e],a=u.length,s=[];if(0===a)delete c[a];else if(c=c[a]){for(;i<a-1;){if(-1===(o=r.call(c[0],u[i])))return;s.push(c,o),c=c[1][o],++i}if(-1===(o=r.call(c[0],u[i])))return;for(e=c[1][o],c[0].splice(o,1),c[1].splice(o,1);!c[0].length&&s.length;)o=s.pop(),c=s.pop(),c[0].splice(o,1),c[1].splice(o,1)}delete n[e]},clear:function(){t=[],n=o(null)}}}},function(e,t,n){"use strict";e.exports=function(e){var t,n,r=e.length;if(!r)return"";for(t=String(e[n=0]);--r;)t+=""+e[++n];return t}},function(e,t,n){"use strict";var r=n(0),o=n(7),i=n(2),c=n(81),u=n(23),a=Object.prototype.hasOwnProperty;e.exports=function e(t){var n,s,l;if(r(t),n=Object(arguments[1]),n.async&&n.promise)throw new Error("Options 'async' and 'promise' cannot be used together");return a.call(t,"__memoized__")&&!n.force?t:(s=u(n.length,t.length,n.async&&i.async),l=c(t,s,n),o(i,function(e,t){n[t]&&e(n[t],l,n)}),e.__profiler__&&e.__profiler__(l),l.updateEnv(),l.memoized)}},function(e,t){function n(e){if(e=String(e),!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*l;case"days":case"day":case"d":return n*s;case"hours":case"hour":case"hrs":case"hr":case"h":return n*a;case"minutes":case"minute":case"mins":case"min":case"m":return n*u;case"seconds":case"second":case"secs":case"sec":case"s":return n*c;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function r(e){return e>=s?Math.round(e/s)+"d":e>=a?Math.round(e/a)+"h":e>=u?Math.round(e/u)+"m":e>=c?Math.round(e/c)+"s":e+"ms"}function o(e){return i(e,s,"day")||i(e,a,"hour")||i(e,u,"minute")||i(e,c,"second")||e+" ms"}function i(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var c=1e3,u=60*c,a=60*u,s=24*a,l=365.25*s;e.exports=function(e,t){t=t||{};var i=typeof e;if("string"===i&&e.length>0)return n(e);if("number"===i&&!1===isNaN(e))return t.long?o(e):r(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var o=e[r];"."===o?e.splice(r,1):".."===o?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(e){return o.exec(e).slice(1)};t.resolve=function(){for(var t="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var c=i>=0?arguments[i]:e.cwd();if("string"!=typeof c)throw new TypeError("Arguments to path.resolve must be strings");c&&(t=c+"/"+t,o="/"===c.charAt(0))}return t=n(r(t.split("/"),function(e){return!!e}),!o).join("/"),(o?"/":"")+t||"."},t.normalize=function(e){var o=t.isAbsolute(e),i="/"===c(e,-1);return e=n(r(e.split("/"),function(e){return!!e}),!o).join("/"),e||o||(e="."),e&&i&&(e+="/"),(o?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var o=r(e.split("/")),i=r(n.split("/")),c=Math.min(o.length,i.length),u=c,a=0;a<c;a++)if(o[a]!==i[a]){u=a;break}for(var s=[],a=u;a<o.length;a++)s.push("..");return s=s.concat(i.slice(u)),s.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=i(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},t.basename=function(e,t){var n=i(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){return i(e)[3]};var c="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(t,n(3))},function(e,t,n){(function(e,t){!function(e,n){"use strict";function r(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return s[a]=r,u(a),a++}function o(e){delete s[e]}function i(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function c(e){if(l)setTimeout(c,0,e);else{var t=s[e];if(t){l=!0;try{i(t)}finally{o(e),l=!1}}}}if(!e.setImmediate){var u,a=1,s={},l=!1,f=e.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,"[object process]"==={}.toString.call(e.process)?function(){u=function(e){t.nextTick(function(){c(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&c(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),u=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){c(e.data)},u=function(t){e.port2.postMessage(t)}}():f&&"onreadystatechange"in f.createElement("script")?function(){var e=f.documentElement;u=function(t){var n=f.createElement("script");n.onreadystatechange=function(){c(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){u=function(e){setTimeout(c,0,e)}}(),p.setImmediate=r,p.clearImmediate=o}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,n(11),n(3))},function(e,t){t.get=function(e){var n=Error.stackTraceLimit;Error.stackTraceLimit=1/0;var r={},o=Error.prepareStackTrace;Error.prepareStackTrace=function(e,t){return t},Error.captureStackTrace(r,e||t.get);var i=r.stack;return Error.prepareStackTrace=o,Error.stackTraceLimit=n,i},t.parse=function(e){if(!e.stack)return[];var t=this;return e.stack.split("\n").slice(1).map(function(e){if(e.match(/^\s*[-]{4,}$/))return t._createParsedCallSite({fileName:e,lineNumber:null,functionName:null,typeName:null,methodName:null,columnNumber:null,native:null});var n=e.match(/at (?:(.+)\s+)?\(?(?:(.+?):(\d+):(\d+)|([^)]+))\)?/);if(n){var r=null,o=null,i=null,c=null,u=null,a="native"===n[5];if(n[1]){var s=n[1].match(/([^\.]+)(?:\.(.+))?/);r=s[1],o=s[2],i=n[1],c="Object"}o&&(c=r,u=o),"<anonymous>"===o&&(u=null,i="");var l={fileName:n[2]||null,lineNumber:parseInt(n[3],10)||null,functionName:i,typeName:c,methodName:u,columnNumber:parseInt(n[4],10)||null,native:a};return t._createParsedCallSite(l)}}).filter(function(e){return!!e})},t._createParsedCallSite=function(e){var t={};for(var n in e){var r="get";"native"===n&&(r="is");var o=r+n.substr(0,1).toUpperCase()+n.substr(1);!function(n){t[o]=function(){return e[n]}}(n)}var i=Object.create(t);for(var n in e)i[n]=e[n];return i}},function(e,t,n){function r(e,t){this._id=e,this._clearFn=t}var o=Function.prototype.apply;t.setTimeout=function(){return new r(o.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(o.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(92),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e,t,n){"use strict";e.exports=2147483647},function(e,t,n){"use strict";var r=n(1),o=n(95);e.exports=function(e){if((e=r(e))>o)throw new TypeError(e+" exceeds maximum possible timeout");return e}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t,n){(function(e,r){function o(e,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),g(n)?r.showHidden=n:n&&t._extend(r,n),x(r.showHidden)&&(r.showHidden=!1),x(r.depth)&&(r.depth=2),x(r.colors)&&(r.colors=!1),x(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=i),a(r,e,r.depth)}function i(e,t){var n=o.styles[t];return n?"["+o.colors[n][0]+"m"+e+"["+o.colors[n][1]+"m":e}function c(e,t){return e}function u(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function a(e,n,r){if(e.customInspect&&n&&S(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,e);return b(o)||(o=a(e,o,r)),o}var i=s(e,n);if(i)return i;var c=Object.keys(n),g=u(c);if(e.showHidden&&(c=Object.getOwnPropertyNames(n)),T(n)&&(c.indexOf("message")>=0||c.indexOf("description")>=0))return l(n);if(0===c.length){if(S(n)){var y=n.name?": "+n.name:"";return e.stylize("[Function"+y+"]","special")}if(O(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(_(n))return e.stylize(Date.prototype.toString.call(n),"date");if(T(n))return l(n)}var v="",m=!1,w=["{","}"];if(h(n)&&(m=!0,w=["[","]"]),S(n)){v=" [Function"+(n.name?": "+n.name:"")+"]"}if(O(n)&&(v=" "+RegExp.prototype.toString.call(n)),_(n)&&(v=" "+Date.prototype.toUTCString.call(n)),T(n)&&(v=" "+l(n)),0===c.length&&(!m||0==n.length))return w[0]+v+w[1];if(r<0)return O(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special");e.seen.push(n);var x;return x=m?f(e,n,r,g,c):c.map(function(t){return p(e,n,r,g,t,m)}),e.seen.pop(),d(x,v,w)}function s(e,t){if(x(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return m(t)?e.stylize(""+t,"number"):g(t)?e.stylize(""+t,"boolean"):y(t)?e.stylize("null","null"):void 0}function l(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,o){for(var i=[],c=0,u=t.length;c<u;++c)C(t,String(c))?i.push(p(e,t,n,r,String(c),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(p(e,t,n,r,o,!0))}),i}function p(e,t,n,r,o,i){var c,u,s;if(s=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]},s.get?u=s.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):s.set&&(u=e.stylize("[Setter]","special")),C(r,o)||(c="["+o+"]"),u||(e.seen.indexOf(s.value)<0?(u=y(n)?a(e,s.value,null):a(e,s.value,n-1),u.indexOf("\n")>-1&&(u=i?u.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+u.split("\n").map(function(e){return"   "+e}).join("\n"))):u=e.stylize("[Circular]","special")),x(c)){if(i&&o.match(/^\d+$/))return u;c=JSON.stringify(""+o),c.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(c=c.substr(1,c.length-2),c=e.stylize(c,"name")):(c=c.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),c=e.stylize(c,"string"))}return c+": "+u}function d(e,t,n){var r=0;return e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function h(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function y(e){return null===e}function v(e){return null==e}function m(e){return"number"==typeof e}function b(e){return"string"==typeof e}function w(e){return"symbol"==typeof e}function x(e){return void 0===e}function O(e){return j(e)&&"[object RegExp]"===k(e)}function j(e){return"object"==typeof e&&null!==e}function _(e){return j(e)&&"[object Date]"===k(e)}function T(e){return j(e)&&("[object Error]"===k(e)||e instanceof Error)}function S(e){return"function"==typeof e}function E(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function k(e){return Object.prototype.toString.call(e)}function A(e){return e<10?"0"+e.toString(10):e.toString(10)}function z(){var e=new Date,t=[A(e.getHours()),A(e.getMinutes()),A(e.getSeconds())].join(":");return[e.getDate(),P[e.getMonth()],t].join(" ")}function C(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(o(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,i=r.length,c=String(e).replace(/%[sdj%]/g,function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),u=r[n];n<i;u=r[++n])y(u)||!j(u)?c+=" "+u:c+=" "+o(u);return c},t.deprecate=function(n,o){function i(){if(!c){if(r.throwDeprecation)throw new Error(o);r.traceDeprecation?console.trace(o):console.error(o),c=!0}return n.apply(this,arguments)}if(x(e.process))return function(){return t.deprecate(n,o).apply(this,arguments)};if(!0===r.noDeprecation)return n;var c=!1;return i};var N,M={};t.debuglog=function(e){if(x(N)&&(N=r.env.NODE_DEBUG||""),e=e.toUpperCase(),!M[e])if(new RegExp("\\b"+e+"\\b","i").test(N)){var n=r.pid;M[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else M[e]=function(){};return M[e]},t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=g,t.isNull=y,t.isNullOrUndefined=v,t.isNumber=m,t.isString=b,t.isSymbol=w,t.isUndefined=x,t.isRegExp=O,t.isObject=j,t.isDate=_,t.isError=T,t.isFunction=S,t.isPrimitive=E,t.isBuffer=n(98);var P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",z(),t.format.apply(t,arguments))},t.inherits=n(97),t._extend=function(e,t){if(!t||!j(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(t,n(11),n(3))},function(e,t){e.exports={name:"preacher",version:"0.0.1",description:"Logging wrapper to extend console or your favorite logger.",main:"dist/preacher.js",scripts:{lint:"eslint *.js ./**/*.js --ignore-path ./.eslintignore --quiet",mocha:"mocha --colors --compilers js:babel-register $@",test:"npm run lint && mocha --colors --compilers js:babel-register ./test/**/*test.js ./test/*.test.js","build:browser":"webpack -p","build:node":"mkdir -p dist/ && babel ./src --out-dir dist",build:"npm run build:browser && npm run build:node",start:"webpack-dev-server --progress --inline --hot --open",prepublish:"npm run build:node"},repository:{type:"git",url:"http://www.github.com/nmccready/preacher"},keywords:["logging","logger","lazy-eval","debug"],author:"Nicholas McCready",contributors:["Joe Ibershoff"],license:"MIT",dependencies:{"color-wrap":"0.0.3","debug-fabulous":"0.1.X",memoizee:"0.4.X","object-assign":"4.1.X","stack-trace":"0.0.9"},devDependencies:{"babel-cli":"^6.24.1","babel-core":"^6.3.26","babel-eslint":"^6.1.0","babel-loader":"^6.4.1","babel-plugin-transform-class-properties":"^6.24.1","babel-plugin-transform-export-extensions":"^6.22.0","babel-plugin-transform-object-assign":"^6.22.0","babel-plugin-transform-object-rest-spread":"^6.23.0","babel-preset-es2015":"^6.3.13","babel-preset-react":"^6.3.13","babel-register":"^6.3.13",bluebird:"^3.5.0",chai:"3.X",eslint:"3.X","hook-std":"0.X",mocha:"3.X",rimraf:"^2.6.1",sinon:"^2.1.0",webpack:"^2.4.1","webpack-dev-server":"^2.4.4",winston:"^2.3.1"}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vYnJvd3NlclByZWFjaGVyLmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCA5N2RjYTVjZGZhZWNjYjdjOTM5OSIsIndlYnBhY2s6Ly8vLi9+L2VzNS1leHQvb2JqZWN0L3ZhbGlkLWNhbGxhYmxlLmpzIiwid2VicGFjazovLy8uL34vZXM1LWV4dC9udW1iZXIvdG8tcG9zLWludGVnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9wcm9jZXNzL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb2xvcnMvbGliL2NvbG9ycy5qcyIsIndlYnBhY2s6Ly8vLi9+L2VzNS1leHQvb2JqZWN0L3ZhbGlkLXZhbHVlLmpzIiwid2VicGFjazovLy8uL34vZC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2VzNS1leHQvb2JqZWN0L2Zvci1lYWNoLmpzIiwid2VicGFjazovLy8uL34vZXM1LWV4dC9hcnJheS8jL2UtaW5kZXgtb2YuanMiLCJ3ZWJwYWNrOi8vLy4vfi9lczUtZXh0L2FycmF5L2Zyb20vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9uZXh0LXRpY2svaW5kZXguanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZGVidWcuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb2xvcnMvbGliIiwid2VicGFjazovLy8uL34vY29sb3JzL2xpYi9zdHlsZXMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9kZWJ1Zy1mYWJ1bG91cy9zcmMvZGVidWdGYWJGYWN0b3J5LmpzIiwid2VicGFjazovLy8uL34vZGVidWcvc3JjL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9lczUtZXh0L2Z1bmN0aW9uL19kZWZpbmUtbGVuZ3RoLmpzIiwid2VicGFjazovLy8uL34vZXM1LWV4dC9vYmplY3QvYXNzaWduL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vZXM1LWV4dC9vYmplY3QvbWFwLmpzIiwid2VicGFjazovLy8uL34vZXM1LWV4dC9vYmplY3QvbWl4aW4uanMiLCJ3ZWJwYWNrOi8vLy4vfi9lczUtZXh0L29iamVjdC9ub3JtYWxpemUtb3B0aW9ucy5qcyIsIndlYnBhY2s6Ly8vLi9+L2lzLXByb21pc2UvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9tZW1vaXplZS9saWIvcmVzb2x2ZS1sZW5ndGguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovLy8uL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xvZ2dlci5pbnRlcm5hbHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xvZ2dlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbG9nZ2VyRmFjdG9yeS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvbG9yLXdyYXAvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb2xvcnMvbGliL2N1c3RvbS90cmFwLmpzIiwid2VicGFjazovLy8uL34vY29sb3JzL2xpYi9jdXN0b20vemFsZ28uanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb2xvcnMvbGliL2V4dGVuZFN0cmluZ1Byb3RvdHlwZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvbG9ycy9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb2xvcnMvbGliL21hcHMvYW1lcmljYS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvbG9ycy9saWIvbWFwcy9yYWluYm93LmpzIiwid2VicGFjazovLy8uL34vY29sb3JzL2xpYi9tYXBzL3JhbmRvbS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvbG9ycy9saWIvbWFwcy96ZWJyYS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvbG9ycy9saWIvc3lzdGVtL3N1cHBvcnRzLWNvbG9ycy5qcyIsIndlYnBhY2s6Ly8vLi9+L2RlYnVnLWZhYnVsb3VzL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vZGVidWctZmFidWxvdXMvfi9vYmplY3QtYXNzaWduL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vZGVidWctZmFidWxvdXMvc3JjL2Zvcm1hdEFyZ3MuanMiLCJ3ZWJwYWNrOi8vLy4vfi9kZWJ1Zy1mYWJ1bG91cy9zcmMvbGF6eS1ldmFsLmpzIiwid2VicGFjazovLy8uL34vZGVidWctZmFidWxvdXMvc3JjL3NwYXduLmpzIiwid2VicGFjazovLy8uL34vZGVidWcvc3JjL2RlYnVnLmpzIiwid2VicGFjazovLy8uL34vZXM1LWV4dC9hcnJheS9mcm9tL2lzLWltcGxlbWVudGVkLmpzIiwid2VicGFjazovLy8uL34vZXM1LWV4dC9hcnJheS9mcm9tL3NoaW0uanMiLCJ3ZWJwYWNrOi8vLy4vfi9lczUtZXh0L2FycmF5L3RvLWFycmF5LmpzIiwid2VicGFjazovLy8uL34vZXM1LWV4dC9lcnJvci9jdXN0b20uanMiLCJ3ZWJwYWNrOi8vLy4vfi9lczUtZXh0L2Z1bmN0aW9uL2lzLWFyZ3VtZW50cy5qcyIsIndlYnBhY2s6Ly8vLi9+L2VzNS1leHQvZnVuY3Rpb24vaXMtZnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vfi9lczUtZXh0L2Z1bmN0aW9uL25vb3AuanMiLCJ3ZWJwYWNrOi8vLy4vfi9lczUtZXh0L21hdGgvc2lnbi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2VzNS1leHQvbWF0aC9zaWduL2lzLWltcGxlbWVudGVkLmpzIiwid2VicGFjazovLy8uL34vZXM1LWV4dC9tYXRoL3NpZ24vc2hpbS5qcyIsIndlYnBhY2s6Ly8vLi9+L2VzNS1leHQvbnVtYmVyL3RvLWludGVnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9lczUtZXh0L29iamVjdC9faXRlcmF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2VzNS1leHQvb2JqZWN0L2Fzc2lnbi9pcy1pbXBsZW1lbnRlZC5qcyIsIndlYnBhY2s6Ly8vLi9+L2VzNS1leHQvb2JqZWN0L2Fzc2lnbi9zaGltLmpzIiwid2VicGFjazovLy8uL34vZXM1LWV4dC9vYmplY3QvaXMtY2FsbGFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9lczUtZXh0L29iamVjdC9rZXlzL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vZXM1LWV4dC9vYmplY3Qva2V5cy9pcy1pbXBsZW1lbnRlZC5qcyIsIndlYnBhY2s6Ly8vLi9+L2VzNS1leHQvb2JqZWN0L2tleXMvc2hpbS5qcyIsIndlYnBhY2s6Ly8vLi9+L2VzNS1leHQvc3RyaW5nLyMvY29udGFpbnMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9lczUtZXh0L3N0cmluZy8jL2NvbnRhaW5zL2lzLWltcGxlbWVudGVkLmpzIiwid2VicGFjazovLy8uL34vZXM1LWV4dC9zdHJpbmcvIy9jb250YWlucy9zaGltLmpzIiwid2VicGFjazovLy8uL34vZXM1LWV4dC9zdHJpbmcvaXMtc3RyaW5nLmpzIiwid2VicGFjazovLy8uL34vZXM2LXN5bWJvbC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2VzNi1zeW1ib2wvaXMtaW1wbGVtZW50ZWQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9lczYtc3ltYm9sL2lzLXN5bWJvbC5qcyIsIndlYnBhY2s6Ly8vLi9+L2VzNi1zeW1ib2wvcG9seWZpbGwuanMiLCJ3ZWJwYWNrOi8vLy4vfi9lczYtc3ltYm9sL3ZhbGlkYXRlLXN5bWJvbC5qcyIsIndlYnBhY2s6Ly8vLi9+L2V2ZW50LWVtaXR0ZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9scnUtcXVldWUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9tZW1vaXplZS9leHQvYXN5bmMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9tZW1vaXplZS9leHQvZGlzcG9zZS5qcyIsIndlYnBhY2s6Ly8vLi9+L21lbW9pemVlL2V4dC9tYXgtYWdlLmpzIiwid2VicGFjazovLy8uL34vbWVtb2l6ZWUvZXh0L21heC5qcyIsIndlYnBhY2s6Ly8vLi9+L21lbW9pemVlL2V4dC9wcm9taXNlLmpzIiwid2VicGFjazovLy8uL34vbWVtb2l6ZWUvZXh0L3JlZi1jb3VudGVyLmpzIiwid2VicGFjazovLy8uL34vbWVtb2l6ZWUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9tZW1vaXplZS9saWIvY29uZmlndXJlLW1hcC5qcyIsIndlYnBhY2s6Ly8vLi9+L21lbW9pemVlL2xpYi9yZXNvbHZlLW5vcm1hbGl6ZS5qcyIsIndlYnBhY2s6Ly8vLi9+L21lbW9pemVlL2xpYi9yZXNvbHZlLXJlc29sdmUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9tZW1vaXplZS9ub3JtYWxpemVycy9nZXQtMS5qcyIsIndlYnBhY2s6Ly8vLi9+L21lbW9pemVlL25vcm1hbGl6ZXJzL2dldC1maXhlZC5qcyIsIndlYnBhY2s6Ly8vLi9+L21lbW9pemVlL25vcm1hbGl6ZXJzL2dldC1wcmltaXRpdmUtZml4ZWQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9tZW1vaXplZS9ub3JtYWxpemVycy9nZXQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9tZW1vaXplZS9ub3JtYWxpemVycy9wcmltaXRpdmUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9tZW1vaXplZS9wbGFpbi5qcyIsIndlYnBhY2s6Ly8vLi9+L21zL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vcGF0aC1icm93c2VyaWZ5L2luZGV4LmpzIiwid2VicGFjazovLy8uL34vc2V0aW1tZWRpYXRlL3NldEltbWVkaWF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9+L3N0YWNrLXRyYWNlL2xpYi9zdGFjay10cmFjZS5qcyIsIndlYnBhY2s6Ly8vLi9+L3RpbWVycy1icm93c2VyaWZ5L21haW4uanMiLCJ3ZWJwYWNrOi8vLy4vfi90aW1lcnMtZXh0L21heC10aW1lb3V0LmpzIiwid2VicGFjazovLy8uL34vdGltZXJzLWV4dC92YWxpZC10aW1lb3V0LmpzIiwid2VicGFjazovLy8uL34vdXRpbC9+L2luaGVyaXRzL2luaGVyaXRzX2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi91dGlsL3N1cHBvcnQvaXNCdWZmZXJCcm93c2VyLmpzIiwid2VicGFjazovLy8uL34vdXRpbC91dGlsLmpzIiwid2VicGFjazovLy8uL3BhY2thZ2UuanNvbiJdLCJuYW1lcyI6WyJtb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaW5zdGFsbGVkTW9kdWxlcyIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsImNhbGwiLCJtIiwiYyIsInZhbHVlIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0IiwibiIsIl9fZXNNb2R1bGUiLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJmbiIsIlR5cGVFcnJvciIsInRvSW50ZWdlciIsIm1heCIsIk1hdGgiLCJkZWZhdWx0U2V0VGltb3V0IiwiRXJyb3IiLCJkZWZhdWx0Q2xlYXJUaW1lb3V0IiwicnVuVGltZW91dCIsImZ1biIsImNhY2hlZFNldFRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiZSIsInRoaXMiLCJydW5DbGVhclRpbWVvdXQiLCJtYXJrZXIiLCJjYWNoZWRDbGVhclRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJjbGVhblVwTmV4dFRpY2siLCJkcmFpbmluZyIsImN1cnJlbnRRdWV1ZSIsImxlbmd0aCIsInF1ZXVlIiwiY29uY2F0IiwicXVldWVJbmRleCIsImRyYWluUXVldWUiLCJ0aW1lb3V0IiwibGVuIiwicnVuIiwiSXRlbSIsImFycmF5Iiwibm9vcCIsInByb2Nlc3MiLCJuZXh0VGljayIsImFyZ3MiLCJBcnJheSIsImFyZ3VtZW50cyIsInB1c2giLCJhcHBseSIsInRpdGxlIiwiYnJvd3NlciIsImVudiIsImFyZ3YiLCJ2ZXJzaW9uIiwidmVyc2lvbnMiLCJvbiIsImFkZExpc3RlbmVyIiwib25jZSIsIm9mZiIsInJlbW92ZUxpc3RlbmVyIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiZW1pdCIsImJpbmRpbmciLCJjd2QiLCJjaGRpciIsImRpciIsInVtYXNrIiwiYnVpbGQiLCJfc3R5bGVzIiwiYnVpbGRlciIsImFwcGx5U3R5bGUiLCJfX3Byb3RvX18iLCJwcm90byIsImFyZ3NMZW4iLCJzdHIiLCJTdHJpbmciLCJhIiwiY29sb3JzIiwiZW5hYmxlZCIsIm5lc3RlZFN0eWxlcyIsImNvZGUiLCJhbnNpU3R5bGVzIiwib3BlbiIsInJlcGxhY2UiLCJjbG9zZVJlIiwiY2xvc2UiLCJhcHBseVRoZW1lIiwidGhlbWUiLCJzdHlsZSIsIm91dCIsInRoZW1lcyIsInN0eWxlcyIsImRlZmluZVByb3BzIiwiZGVmaW5lUHJvcGVydGllcyIsInN1cHBvcnRzQ29sb3IiLCJzdHJpcENvbG9ycyIsInN0cmlwIiwiZXNjYXBlU3RyaW5nUmVnZXhwIiwic3R5bGl6ZSIsInJldCIsImdyZXkiLCJncmF5Iiwia2V5cyIsImZvckVhY2giLCJrZXkiLCJSZWdFeHAiLCJzZXRUaGVtZSIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJzZXF1ZW5jZXIiLCJtYXAiLCJleHBsb2RlZCIsInNwbGl0Iiwiam9pbiIsInRyYXAiLCJ6YWxnbyIsIm1hcHMiLCJhbWVyaWNhIiwiemVicmEiLCJyYWluYm93IiwicmFuZG9tIiwiYXNzaWduIiwibm9ybWFsaXplT3B0cyIsImlzQ2FsbGFibGUiLCJjb250YWlucyIsImRzY3IiLCJ3Iiwib3B0aW9ucyIsImRlc2MiLCJ3cml0YWJsZSIsImdzIiwic2V0IiwidW5kZWZpbmVkIiwidG9Qb3NJbnQiLCJpbmRleE9mIiwiYWJzIiwiZmxvb3IiLCJzZWFyY2hFbGVtZW50IiwiZnJvbUluZGV4IiwidmFsIiwiaXNOYU4iLCJmcm9tIiwic2V0SW1tZWRpYXRlIiwiY2FsbGFibGUiLCJieU9ic2VydmVyIiwiT2JzZXJ2ZXIiLCJub2RlIiwiZG9jdW1lbnQiLCJjcmVhdGVUZXh0Tm9kZSIsImNhbGxiYWNrIiwiZGF0YSIsInNoaWZ0Iiwib2JzZXJ2ZSIsImNoYXJhY3RlckRhdGEiLCJNdXRhdGlvbk9ic2VydmVyIiwiV2ViS2l0TXV0YXRpb25PYnNlcnZlciIsImNiIiwiZyIsIkZ1bmN0aW9uIiwiZXZhbCIsIndpbmRvdyIsInBrZyIsInNwYXduYWJsZSIsIndlYnBhY2tFbXB0eUNvbnRleHQiLCJyZXEiLCJyZXNvbHZlIiwiaWQiLCJjb2RlcyIsInJlc2V0IiwiYm9sZCIsImRpbSIsIml0YWxpYyIsInVuZGVybGluZSIsImludmVyc2UiLCJoaWRkZW4iLCJzdHJpa2V0aHJvdWdoIiwiYmxhY2siLCJyZWQiLCJncmVlbiIsInllbGxvdyIsImJsdWUiLCJtYWdlbnRhIiwiY3lhbiIsIndoaXRlIiwiYmdCbGFjayIsImJnUmVkIiwiYmdHcmVlbiIsImJnWWVsbG93IiwiYmdCbHVlIiwiYmdNYWdlbnRhIiwiYmdDeWFuIiwiYmdXaGl0ZSIsImJsYWNrQkciLCJyZWRCRyIsImdyZWVuQkciLCJ5ZWxsb3dCRyIsImJsdWVCRyIsIm1hZ2VudGFCRyIsImN5YW5CRyIsIndoaXRlQkciLCJkZWJ1Z0FwaSIsIndyYXBMYXp5RXZhbCIsImZvcm1hdEFyZ3MiLCJ1c2VDb2xvcnMiLCJ0eXBlIiwiZG9jdW1lbnRFbGVtZW50IiwiZmlyZWJ1ZyIsImV4Y2VwdGlvbiIsInRhYmxlIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwidG9Mb3dlckNhc2UiLCJtYXRjaCIsInBhcnNlSW50IiwiJDEiLCJuYW1lc3BhY2UiLCJodW1hbml6ZSIsImRpZmYiLCJjb2xvciIsInNwbGljZSIsImluZGV4IiwibGFzdEMiLCJzYXZlIiwibmFtZXNwYWNlcyIsInN0b3JhZ2UiLCJyZW1vdmVJdGVtIiwiZGVidWciLCJsb2FkIiwiciIsIkRFQlVHIiwiY2hyb21lIiwibG9jYWwiLCJsb2NhbFN0b3JhZ2UiLCJmb3JtYXR0ZXJzIiwiaiIsInYiLCJKU09OIiwic3RyaW5naWZ5IiwibWVzc2FnZSIsImVuYWJsZSIsImdlbmVyYXRlIiwibWl4aW4iLCJ0ZXN0IiwiYiIsImlnbm9yZSIsImNhY2hlIiwidG9TdHJpbmciLCJzcmMiLCJ0YXJnZXQiLCJvYmoiLCJ0aGlzQXJnIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImdldE93blByb3BlcnR5U3ltYm9scyIsInNvdXJjZSIsImVycm9yIiwic291cmNlT2JqZWN0Iiwic3ltYm9sIiwiY3JlYXRlIiwicmVzdWx0IiwiaXNQcm9taXNlIiwidGhlbiIsIm9wdHNMZW5ndGgiLCJmbkxlbmd0aCIsImlzQXN5bmMiLCJwcmVhY2hlciIsInN0YWNrVHJhY2UiLCJwYXRoIiwiZ2V0RmlsZUFuZExpbmUiLCJ0cmFjZSIsImZpbGVuYW1lIiwiZmlsZWluZm8iLCJwYXJzZSIsImdldEZpbGVOYW1lIiwiYmFzZW5hbWUiLCJsaW5lTnVtYmVyIiwiZ2V0TGluZU51bWJlciIsImRlY29yYXRlT3V0cHV0IiwiZnVuYyIsImJpbmRUaGlzIiwiaW5mbyIsImRlY29yYXRvciIsIl9sZW4iLCJfa2V5IiwidW5zaGlmdCIsInJlc29sdmVPdXRwdXQiLCJfbGVuMiIsIl9rZXkyIiwiZ2xvYmFsIiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIl9jcmVhdGVDbGFzcyIsInByb3BzIiwiZGVzY3JpcHRvciIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIm91ckRlYnVnIiwic3Bhd24iLCJfcmVmIiwibG9nZ2VyVG9XcmFwIiwiZGVjb3JMZXZlbHMiLCJkb0ZpbGVMaW5lIiwibGV2ZWxGbnMiLCJjb2xvcldyYXAiLCJtZW1vaXplIiwiaW50ZXJuYWxzIiwiTG9nZ2VyIiwiYmFzZSIsImF1Z21lbnRlZE5hbWVzcGFjZSIsImZvcmNlRGVidWdGaWxlQW5kTGluZSIsImVuZHNXaXRoIiwiZGVidWdJbnN0YW5jZSIsInNsaWNlIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiIsIl9kaWRJdGVyYXRvckVycm9yIiwiX2l0ZXJhdG9yRXJyb3IiLCJfc3RlcCIsIl9pdGVyYXRvciIsIlN5bWJvbCIsIml0ZXJhdG9yIiwibmV4dCIsImRvbmUiLCJsdmwiLCJyZXR1cm4iLCJzdWJOYW1lc3BhY2UiLCJnZXRMb2dnZXIiLCJzdWZmaXgiLCJfZ2V0TG9nZ2VyIiwiYmFzZU5hbWVzcGFjZSIsInByaW1pdGl2ZSIsIl90eXBlb2YiLCJjb25zdHJ1Y3RvciIsIm5vcm1hbExldmVscyIsIm5hbWVzIiwidmFsaWQiLCJsb2dPYmplY3QiLCJ1dGlsIiwiZGVmYXVsdExldmVscyIsImxvZ2dlciIsImxldmVscyIsImtleU9ySW5kZXhMZXZlbCIsImxldmVsIiwibG9nRm4iLCJmb3JtYXR0ZWQiLCJmb3JtYXQiLCJ0ZXh0IiwiZiIsImgiLCJrIiwicSIsInQiLCJ1IiwieCIsInkiLCJ6IiwiY2hhcnMiLCJyYW5kIiwicmFuZG9tTnVtYmVyIiwicmFuZ2UiLCJpc19jaGFyIiwiY2hhcmFjdGVyIiwiYm9vbCIsImFsbCIsImZpbHRlciIsInNvdWwiLCJ1cCIsImRvd24iLCJtaWQiLCJjb3VudHMiLCJzaXplIiwiYXJyIiwic3RyaW5nUHJvdG90eXBlQmxhY2tsaXN0IiwicHJvcCIsImFkZFByb3BlcnR5IiwiX19kZWZpbmVHZXR0ZXJfXyIsImxldHRlciIsInJhaW5ib3dDb2xvcnMiLCJhdmFpbGFibGUiLCJyb3VuZCIsInN0ZG91dCIsImlzVFRZIiwicGxhdGZvcm0iLCJURVJNIiwidG9PYmplY3QiLCJwcm9wSXNFbnVtZXJhYmxlIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJ0ZXN0MSIsInRlc3QyIiwiZnJvbUNoYXJDb2RlIiwidGVzdDMiLCJzeW1ib2xzIiwidG8iLCJfcmVzb2x2ZU91dHB1dCIsIndyYXBwZWQiLCJvYmplY3RBc3NpZ24iLCJ3cmFwRXZhbCIsImRlYnVnT3JpZyIsInNwYXduRmFjdG9yeSIsImRlYnVnRmFiRmFjdG9yeSIsIkRlYnVnZ2VyIiwibnMiLCJuZXdOcyIsInNlbGVjdENvbG9yIiwiaGFzaCIsImNoYXJDb2RlQXQiLCJjcmVhdGVEZWJ1ZyIsInNlbGYiLCJjdXJyIiwiRGF0ZSIsIm1zIiwicHJldlRpbWUiLCJwcmV2IiwiY29lcmNlIiwiZm9ybWF0dGVyIiwiYmluZCIsImluaXQiLCJza2lwcyIsInN1YnN0ciIsImRpc2FibGUiLCJzdGFjayIsIkJvb2xlYW4iLCJpdGVyYXRvclN5bWJvbCIsImlzQXJndW1lbnRzIiwiaXNGdW5jdGlvbiIsInZhbGlkVmFsdWUiLCJpc1N0cmluZyIsImlzQXJyYXkiLCJhcnJheUxpa2UiLCJnZXRJdGVyYXRvciIsIm1hcEZuIiwiY2FwdHVyZVN0YWNrVHJhY2UiLCJleHQiLCJzaWduIiwiTnVtYmVyIiwiaXNGaW5pdGUiLCJtZXRob2QiLCJkZWZWYWwiLCJsaXN0IiwiY29tcGFyZUZuIiwic29ydCIsImZvbyIsImJhciIsInRyenkiLCJkZXN0Iiwic2VhcmNoU3RyaW5nIiwidmFsaWRUeXBlcyIsInRvUHJpbWl0aXZlIiwidG9TdHJpbmdUYWciLCJOYXRpdmVTeW1ib2wiLCJTeW1ib2xQb2x5ZmlsbCIsIkhpZGRlblN5bWJvbCIsImlzTmF0aXZlU2FmZSIsInZhbGlkYXRlU3ltYm9sIiwib2JqUHJvdG90eXBlIiwiZ2xvYmFsU3ltYm9scyIsImdlbmVyYXRlTmFtZSIsImNyZWF0ZWQiLCJpZTExQnVnV29ya2Fyb3VuZCIsInBvc3RmaXgiLCJkZXNjcmlwdGlvbiIsIl9fZGVzY3JpcHRpb25fXyIsIl9fbmFtZV9fIiwiZm9yIiwia2V5Rm9yIiwiaGFzSW5zdGFuY2UiLCJpc0NvbmNhdFNwcmVhZGFibGUiLCJzZWFyY2giLCJzcGVjaWVzIiwidW5zY29wYWJsZXMiLCJ2YWx1ZU9mIiwiaXNTeW1ib2wiLCJtZXRob2RzIiwiZGVzY3JpcHRvcnMiLCJsaXN0ZW5lciIsIl9fZWVfXyIsIl9fZWVPbmNlTGlzdGVuZXJfXyIsImxpc3RlbmVycyIsImNhbmRpZGF0ZSIsImxpbWl0IiwiZGVsIiwiaGl0Iiwib2xkSW5kZXgiLCJudUluZGV4IiwiZGVsZXRlIiwiY2xlYXIiLCJhRnJvbSIsIm9iamVjdE1hcCIsImRlZmluZUxlbmd0aCIsImFzeW5jIiwidGJpIiwiY29uZiIsImN1cnJlbnRDYWxsYmFjayIsImN1cnJlbnRDb250ZXh0IiwiY3VycmVudEFyZ3MiLCJ3YWl0aW5nIiwibWVtb2l6ZWQiLCJvcmlnaW5hbCIsImFyZyIsImxhc3QiLCJjb250ZXh0Iiwib3JpZ0NiIiwiaGFzIiwib2xkQ2FjaGUiLCJleHRlbnNpb25zIiwiZGlzcG9zZSIsInByb21pc2UiLCJyZXN1bHRBcnJheSIsIm1pbiIsIm1heEFnZSIsInRpbWVvdXRzIiwicHJlRmV0Y2hBZ2UiLCJwcmVGZXRjaFRpbWVvdXRzIiwicHJlRmV0Y2giLCJ0b1Bvc0ludGVnZXIiLCJscnVRdWV1ZSIsIm1vZGUiLCJwcm9taXNlcyIsImlzRmFpbGVkIiwib25TdWNjZXNzIiwiY291bnQiLCJvbkZhaWx1cmUiLCJmaW5hbGx5IiwicmVmQ291bnRlciIsImRlbGV0ZVJlZiIsImdldFJlZkNvdW50IiwicmVzb2x2ZUxlbmd0aCIsInBsYWluIiwibm9ybWFsaXplciIsImN1c3RvbUVycm9yIiwiZWUiLCJyZXNvbHZlUmVzb2x2ZSIsInJlc29sdmVOb3JtYWxpemUiLCJtZW1MZW5ndGgiLCJleHREZWwiLCJleHRHZXQiLCJleHRIYXMiLCJnZXRMaXN0ZW5lcnMiLCJzZXRMaXN0ZW5lcnMiLCJkZWxldGVMaXN0ZW5lcnMiLCJyZXNvbHZlcnMiLCJ1cGRhdGVFbnYiLCJfX21lbW9pemVkX18iLCJfZ2V0IiwiX2hhcyIsInVzZXJOb3JtYWxpemVyIiwicmVzb2x2ZUFyZ3MiLCJ0b0FycmF5IiwibGFzdElkIiwiYXJnc01hcCIsInBvcCIsImNvbmZpZ3VyZSIsImZvcmNlIiwiX19wcm9maWxlcl9fIiwiZXhlYyIsInBhcnNlRmxvYXQiLCJmbXRTaG9ydCIsImZtdExvbmciLCJwbHVyYWwiLCJjZWlsIiwibG9uZyIsIm5vcm1hbGl6ZUFycmF5IiwicGFydHMiLCJhbGxvd0Fib3ZlUm9vdCIsInhzIiwicmVzIiwic3BsaXRQYXRoUmUiLCJzcGxpdFBhdGgiLCJyZXNvbHZlZFBhdGgiLCJyZXNvbHZlZEFic29sdXRlIiwiY2hhckF0Iiwibm9ybWFsaXplIiwiaXNBYnNvbHV0ZSIsInRyYWlsaW5nU2xhc2giLCJwYXRocyIsInJlbGF0aXZlIiwidHJpbSIsInN0YXJ0IiwiZW5kIiwiZnJvbVBhcnRzIiwidG9QYXJ0cyIsInNhbWVQYXJ0c0xlbmd0aCIsIm91dHB1dFBhcnRzIiwic2VwIiwiZGVsaW1pdGVyIiwiZGlybmFtZSIsInJvb3QiLCJleHRuYW1lIiwidGFzayIsInRhc2tzQnlIYW5kbGUiLCJuZXh0SGFuZGxlIiwicmVnaXN0ZXJJbW1lZGlhdGUiLCJjbGVhckltbWVkaWF0ZSIsImhhbmRsZSIsInJ1bklmUHJlc2VudCIsImN1cnJlbnRseVJ1bm5pbmdBVGFzayIsImRvYyIsImF0dGFjaFRvIiwiZ2V0UHJvdG90eXBlT2YiLCJwb3N0TWVzc2FnZSIsImltcG9ydFNjcmlwdHMiLCJwb3N0TWVzc2FnZUlzQXN5bmNocm9ub3VzIiwib2xkT25NZXNzYWdlIiwib25tZXNzYWdlIiwibWVzc2FnZVByZWZpeCIsIm9uR2xvYmFsTWVzc2FnZSIsImV2ZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImF0dGFjaEV2ZW50IiwiTWVzc2FnZUNoYW5uZWwiLCJjaGFubmVsIiwicG9ydDEiLCJwb3J0MiIsImNyZWF0ZUVsZW1lbnQiLCJodG1sIiwic2NyaXB0Iiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVtb3ZlQ2hpbGQiLCJhcHBlbmRDaGlsZCIsImJlbG93Rm4iLCJvbGRMaW1pdCIsInN0YWNrVHJhY2VMaW1pdCIsIkluZmluaXR5IiwiZHVtbXlPYmplY3QiLCJ2OEhhbmRsZXIiLCJwcmVwYXJlU3RhY2tUcmFjZSIsInY4U3RhY2tUcmFjZSIsImxpbmUiLCJfY3JlYXRlUGFyc2VkQ2FsbFNpdGUiLCJmaWxlTmFtZSIsImZ1bmN0aW9uTmFtZSIsInR5cGVOYW1lIiwibWV0aG9kTmFtZSIsImNvbHVtbk51bWJlciIsIm5hdGl2ZSIsImxpbmVNYXRjaCIsImlzTmF0aXZlIiwibWV0aG9kTWF0Y2giLCJwcm9wZXJ0aWVzIiwiY2FsbFNpdGUiLCJwcmVmaXgiLCJ0b1VwcGVyQ2FzZSIsIlRpbWVvdXQiLCJjbGVhckZuIiwiX2lkIiwiX2NsZWFyRm4iLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJ1bnJlZiIsInJlZiIsImVucm9sbCIsIml0ZW0iLCJtc2VjcyIsIl9pZGxlVGltZW91dElkIiwiX2lkbGVUaW1lb3V0IiwidW5lbnJvbGwiLCJfdW5yZWZBY3RpdmUiLCJhY3RpdmUiLCJfb25UaW1lb3V0IiwibWF4VGltZW91dCIsImN0b3IiLCJzdXBlckN0b3IiLCJzdXBlcl8iLCJUZW1wQ3RvciIsImNvcHkiLCJmaWxsIiwicmVhZFVJbnQ4IiwiaW5zcGVjdCIsIm9wdHMiLCJjdHgiLCJzZWVuIiwic3R5bGl6ZU5vQ29sb3IiLCJkZXB0aCIsImlzQm9vbGVhbiIsInNob3dIaWRkZW4iLCJfZXh0ZW5kIiwiaXNVbmRlZmluZWQiLCJjdXN0b21JbnNwZWN0Iiwic3R5bGl6ZVdpdGhDb2xvciIsImZvcm1hdFZhbHVlIiwic3R5bGVUeXBlIiwiYXJyYXlUb0hhc2giLCJpZHgiLCJyZWN1cnNlVGltZXMiLCJmb3JtYXRQcmltaXRpdmUiLCJ2aXNpYmxlS2V5cyIsImlzRXJyb3IiLCJmb3JtYXRFcnJvciIsImlzUmVnRXhwIiwiaXNEYXRlIiwiYnJhY2VzIiwidG9VVENTdHJpbmciLCJvdXRwdXQiLCJmb3JtYXRBcnJheSIsImZvcm1hdFByb3BlcnR5IiwicmVkdWNlVG9TaW5nbGVTdHJpbmciLCJzaW1wbGUiLCJpc051bWJlciIsImlzTnVsbCIsIm51bUxpbmVzRXN0IiwicmVkdWNlIiwiY3VyIiwiYXIiLCJpc051bGxPclVuZGVmaW5lZCIsInJlIiwiaXNPYmplY3QiLCJvYmplY3RUb1N0cmluZyIsImlzUHJpbWl0aXZlIiwicGFkIiwidGltZXN0YW1wIiwidGltZSIsImdldEhvdXJzIiwiZ2V0TWludXRlcyIsImdldFNlY29uZHMiLCJnZXREYXRlIiwibW9udGhzIiwiZ2V0TW9udGgiLCJvYmplY3RzIiwiXyIsImRlcHJlY2F0ZSIsIm1zZyIsImRlcHJlY2F0ZWQiLCJ3YXJuZWQiLCJ0aHJvd0RlcHJlY2F0aW9uIiwidHJhY2VEZXByZWNhdGlvbiIsIm5vRGVwcmVjYXRpb24iLCJkZWJ1Z0Vudmlyb24iLCJkZWJ1Z3MiLCJkZWJ1Z2xvZyIsIk5PREVfREVCVUciLCJwaWQiLCJzcGVjaWFsIiwibnVtYmVyIiwiYm9vbGVhbiIsIm51bGwiLCJzdHJpbmciLCJkYXRlIiwicmVnZXhwIiwiaXNCdWZmZXIiLCJpbmhlcml0cyIsIm9yaWdpbiIsImFkZCIsIm1haW4iLCJzY3JpcHRzIiwibGludCIsIm1vY2hhIiwiYnVpbGQ6YnJvd3NlciIsImJ1aWxkOm5vZGUiLCJwcmVwdWJsaXNoIiwicmVwb3NpdG9yeSIsInVybCIsImtleXdvcmRzIiwiYXV0aG9yIiwiY29udHJpYnV0b3JzIiwibGljZW5zZSIsImRlcGVuZGVuY2llcyIsImNvbG9yLXdyYXAiLCJkZWJ1Zy1mYWJ1bG91cyIsIm1lbW9pemVlIiwib2JqZWN0LWFzc2lnbiIsInN0YWNrLXRyYWNlIiwiZGV2RGVwZW5kZW5jaWVzIiwiYmFiZWwtY2xpIiwiYmFiZWwtY29yZSIsImJhYmVsLWVzbGludCIsImJhYmVsLWxvYWRlciIsImJhYmVsLXBsdWdpbi10cmFuc2Zvcm0tY2xhc3MtcHJvcGVydGllcyIsImJhYmVsLXBsdWdpbi10cmFuc2Zvcm0tZXhwb3J0LWV4dGVuc2lvbnMiLCJiYWJlbC1wbHVnaW4tdHJhbnNmb3JtLW9iamVjdC1hc3NpZ24iLCJiYWJlbC1wbHVnaW4tdHJhbnNmb3JtLW9iamVjdC1yZXN0LXNwcmVhZCIsImJhYmVsLXByZXNldC1lczIwMTUiLCJiYWJlbC1wcmVzZXQtcmVhY3QiLCJiYWJlbC1yZWdpc3RlciIsImJsdWViaXJkIiwiY2hhaSIsImVzbGludCIsImhvb2stc3RkIiwicmltcmFmIiwic2lub24iLCJ3ZWJwYWNrIiwid2VicGFjay1kZXYtc2VydmVyIiwid2luc3RvbiJdLCJtYXBwaW5ncyI6IkNBQVMsU0FBVUEsR0NJbkIsUUFBQUMsR0FBQUMsR0FHQSxHQUFBQyxFQUFBRCxHQUNBLE1BQUFDLEdBQUFELEdBQUFFLE9BR0EsSUFBQUMsR0FBQUYsRUFBQUQsSUFDQUksRUFBQUosRUFDQUssR0FBQSxFQUNBSCxXQVVBLE9BTkFKLEdBQUFFLEdBQUFNLEtBQUFILEVBQUFELFFBQUFD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LFNBQ0FDLHFCQUFBLFNBQ0FDLFFBQUEiLCJmaWxlIjoiYnJvd3NlclByZWFjaGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRpOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGw6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge31cbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGlkZW50aXR5IGZ1bmN0aW9uIGZvciBjYWxsaW5nIGhhcm1vbnkgaW1wb3J0cyB3aXRoIHRoZSBjb3JyZWN0IGNvbnRleHRcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5pID0gZnVuY3Rpb24odmFsdWUpIHsgcmV0dXJuIHZhbHVlOyB9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuLyoqKioqKi8gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbi8qKioqKiovIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4vKioqKioqLyBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4vKioqKioqLyBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4vKioqKioqLyBcdFx0XHRcdGdldDogZ2V0dGVyXG4vKioqKioqLyBcdFx0XHR9KTtcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbi8qKioqKiovIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuLyoqKioqKi8gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbi8qKioqKiovIFx0XHRyZXR1cm4gZ2V0dGVyO1xuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMjUpO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChmbikge1xuXHRpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB0aHJvdyBuZXcgVHlwZUVycm9yKGZuICsgXCIgaXMgbm90IGEgZnVuY3Rpb25cIik7XG5cdHJldHVybiBmbjtcbn07XG5cblxuLyoqKi8gfSksXG4vKiAxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciB0b0ludGVnZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU1KVxuXG4gICwgbWF4ID0gTWF0aC5tYXg7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiBtYXgoMCwgdG9JbnRlZ2VyKHZhbHVlKSk7IH07XG5cblxuLyoqKi8gfSksXG4vKiAyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cblxuLyoqKi8gfSksXG4vKiAzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG5cblxuLyoqKi8gfSksXG4vKiA0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qXG5cblRoZSBNSVQgTGljZW5zZSAoTUlUKVxuXG5PcmlnaW5hbCBMaWJyYXJ5IFxuICAtIENvcHlyaWdodCAoYykgTWFyYWsgU3F1aXJlc1xuXG5BZGRpdGlvbmFsIGZ1bmN0aW9uYWxpdHlcbiAtIENvcHlyaWdodCAoYykgU2luZHJlIFNvcmh1cyA8c2luZHJlc29yaHVzQGdtYWlsLmNvbT4gKHNpbmRyZXNvcmh1cy5jb20pXG5cblBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcblxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbmFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG5JTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cblRIRSBTT0ZUV0FSRS5cblxuKi9cblxudmFyIGNvbG9ycyA9IHt9O1xubW9kdWxlWydleHBvcnRzJ10gPSBjb2xvcnM7XG5cbmNvbG9ycy50aGVtZXMgPSB7fTtcblxudmFyIGFuc2lTdHlsZXMgPSBjb2xvcnMuc3R5bGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCk7XG52YXIgZGVmaW5lUHJvcHMgPSBPYmplY3QuZGVmaW5lUHJvcGVydGllcztcblxuY29sb3JzLnN1cHBvcnRzQ29sb3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM4KTtcblxuaWYgKHR5cGVvZiBjb2xvcnMuZW5hYmxlZCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICBjb2xvcnMuZW5hYmxlZCA9IGNvbG9ycy5zdXBwb3J0c0NvbG9yO1xufVxuXG5jb2xvcnMuc3RyaXBDb2xvcnMgPSBjb2xvcnMuc3RyaXAgPSBmdW5jdGlvbihzdHIpe1xuICByZXR1cm4gKFwiXCIgKyBzdHIpLnJlcGxhY2UoL1xceDFCXFxbXFxkK20vZywgJycpO1xufTtcblxuXG52YXIgc3R5bGl6ZSA9IGNvbG9ycy5zdHlsaXplID0gZnVuY3Rpb24gc3R5bGl6ZSAoc3RyLCBzdHlsZSkge1xuICBpZiAoIWNvbG9ycy5lbmFibGVkKSB7XG4gICAgcmV0dXJuIHN0cisnJztcbiAgfVxuXG4gIHJldHVybiBhbnNpU3R5bGVzW3N0eWxlXS5vcGVuICsgc3RyICsgYW5zaVN0eWxlc1tzdHlsZV0uY2xvc2U7XG59XG5cbnZhciBtYXRjaE9wZXJhdG9yc1JlID0gL1t8XFxcXHt9KClbXFxdXiQrKj8uXS9nO1xudmFyIGVzY2FwZVN0cmluZ1JlZ2V4cCA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgaWYgKHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgYSBzdHJpbmcnKTtcbiAgfVxuICByZXR1cm4gc3RyLnJlcGxhY2UobWF0Y2hPcGVyYXRvcnNSZSwgICdcXFxcJCYnKTtcbn1cblxuZnVuY3Rpb24gYnVpbGQoX3N0eWxlcykge1xuICB2YXIgYnVpbGRlciA9IGZ1bmN0aW9uIGJ1aWxkZXIoKSB7XG4gICAgcmV0dXJuIGFwcGx5U3R5bGUuYXBwbHkoYnVpbGRlciwgYXJndW1lbnRzKTtcbiAgfTtcbiAgYnVpbGRlci5fc3R5bGVzID0gX3N0eWxlcztcbiAgLy8gX19wcm90b19fIGlzIHVzZWQgYmVjYXVzZSB3ZSBtdXN0IHJldHVybiBhIGZ1bmN0aW9uLCBidXQgdGhlcmUgaXNcbiAgLy8gbm8gd2F5IHRvIGNyZWF0ZSBhIGZ1bmN0aW9uIHdpdGggYSBkaWZmZXJlbnQgcHJvdG90eXBlLlxuICBidWlsZGVyLl9fcHJvdG9fXyA9IHByb3RvO1xuICByZXR1cm4gYnVpbGRlcjtcbn1cblxudmFyIHN0eWxlcyA9IChmdW5jdGlvbiAoKSB7XG4gIHZhciByZXQgPSB7fTtcbiAgYW5zaVN0eWxlcy5ncmV5ID0gYW5zaVN0eWxlcy5ncmF5O1xuICBPYmplY3Qua2V5cyhhbnNpU3R5bGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBhbnNpU3R5bGVzW2tleV0uY2xvc2VSZSA9IG5ldyBSZWdFeHAoZXNjYXBlU3RyaW5nUmVnZXhwKGFuc2lTdHlsZXNba2V5XS5jbG9zZSksICdnJyk7XG4gICAgcmV0W2tleV0gPSB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGJ1aWxkKHRoaXMuX3N0eWxlcy5jb25jYXQoa2V5KSk7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG4gIHJldHVybiByZXQ7XG59KSgpO1xuXG52YXIgcHJvdG8gPSBkZWZpbmVQcm9wcyhmdW5jdGlvbiBjb2xvcnMoKSB7fSwgc3R5bGVzKTtcblxuZnVuY3Rpb24gYXBwbHlTdHlsZSgpIHtcbiAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gIHZhciBhcmdzTGVuID0gYXJncy5sZW5ndGg7XG4gIHZhciBzdHIgPSBhcmdzTGVuICE9PSAwICYmIFN0cmluZyhhcmd1bWVudHNbMF0pO1xuICBpZiAoYXJnc0xlbiA+IDEpIHtcbiAgICBmb3IgKHZhciBhID0gMTsgYSA8IGFyZ3NMZW47IGErKykge1xuICAgICAgc3RyICs9ICcgJyArIGFyZ3NbYV07XG4gICAgfVxuICB9XG5cbiAgaWYgKCFjb2xvcnMuZW5hYmxlZCB8fCAhc3RyKSB7XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxuXG4gIHZhciBuZXN0ZWRTdHlsZXMgPSB0aGlzLl9zdHlsZXM7XG5cbiAgdmFyIGkgPSBuZXN0ZWRTdHlsZXMubGVuZ3RoO1xuICB3aGlsZSAoaS0tKSB7XG4gICAgdmFyIGNvZGUgPSBhbnNpU3R5bGVzW25lc3RlZFN0eWxlc1tpXV07XG4gICAgc3RyID0gY29kZS5vcGVuICsgc3RyLnJlcGxhY2UoY29kZS5jbG9zZVJlLCBjb2RlLm9wZW4pICsgY29kZS5jbG9zZTtcbiAgfVxuXG4gIHJldHVybiBzdHI7XG59XG5cbmZ1bmN0aW9uIGFwcGx5VGhlbWUgKHRoZW1lKSB7XG4gIGZvciAodmFyIHN0eWxlIGluIHRoZW1lKSB7XG4gICAgKGZ1bmN0aW9uKHN0eWxlKXtcbiAgICAgIGNvbG9yc1tzdHlsZV0gPSBmdW5jdGlvbihzdHIpe1xuICAgICAgICBpZiAodHlwZW9mIHRoZW1lW3N0eWxlXSA9PT0gJ29iamVjdCcpe1xuICAgICAgICAgIHZhciBvdXQgPSBzdHI7XG4gICAgICAgICAgZm9yICh2YXIgaSBpbiB0aGVtZVtzdHlsZV0pe1xuICAgICAgICAgICAgb3V0ID0gY29sb3JzW3RoZW1lW3N0eWxlXVtpXV0ob3V0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG91dDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29sb3JzW3RoZW1lW3N0eWxlXV0oc3RyKTtcbiAgICAgIH07XG4gICAgfSkoc3R5bGUpXG4gIH1cbn1cblxuY29sb3JzLnNldFRoZW1lID0gZnVuY3Rpb24gKHRoZW1lKSB7XG4gIGlmICh0eXBlb2YgdGhlbWUgPT09ICdzdHJpbmcnKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbG9ycy50aGVtZXNbdGhlbWVdID0gIShmdW5jdGlvbiB3ZWJwYWNrTWlzc2luZ01vZHVsZSgpIHsgdmFyIGUgPSBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgXFxcIi5cXFwiXCIpOyBlLmNvZGUgPSAnTU9EVUxFX05PVF9GT1VORCc7IHRocm93IGU7IH0oKSk7XG4gICAgICBhcHBseVRoZW1lKGNvbG9ycy50aGVtZXNbdGhlbWVdKTtcbiAgICAgIHJldHVybiBjb2xvcnMudGhlbWVzW3RoZW1lXTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICByZXR1cm4gZXJyO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBhcHBseVRoZW1lKHRoZW1lKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gaW5pdCgpIHtcbiAgdmFyIHJldCA9IHt9O1xuICBPYmplY3Qua2V5cyhzdHlsZXMpLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICByZXRbbmFtZV0gPSB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGJ1aWxkKFtuYW1lXSk7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG4gIHJldHVybiByZXQ7XG59XG5cbnZhciBzZXF1ZW5jZXIgPSBmdW5jdGlvbiBzZXF1ZW5jZXIgKG1hcCwgc3RyKSB7XG4gIHZhciBleHBsb2RlZCA9IHN0ci5zcGxpdChcIlwiKSwgaSA9IDA7XG4gIGV4cGxvZGVkID0gZXhwbG9kZWQubWFwKG1hcCk7XG4gIHJldHVybiBleHBsb2RlZC5qb2luKFwiXCIpO1xufTtcblxuLy8gY3VzdG9tIGZvcm1hdHRlciBtZXRob2RzXG5jb2xvcnMudHJhcCA9IF9fd2VicGFja19yZXF1aXJlX18oMzApO1xuY29sb3JzLnphbGdvID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSk7XG5cbi8vIG1hcHNcbmNvbG9ycy5tYXBzID0ge307XG5jb2xvcnMubWFwcy5hbWVyaWNhID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNCk7XG5jb2xvcnMubWFwcy56ZWJyYSA9IF9fd2VicGFja19yZXF1aXJlX18oMzcpO1xuY29sb3JzLm1hcHMucmFpbmJvdyA9IF9fd2VicGFja19yZXF1aXJlX18oMzUpO1xuY29sb3JzLm1hcHMucmFuZG9tID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNilcblxuZm9yICh2YXIgbWFwIGluIGNvbG9ycy5tYXBzKSB7XG4gIChmdW5jdGlvbihtYXApe1xuICAgIGNvbG9yc1ttYXBdID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgcmV0dXJuIHNlcXVlbmNlcihjb2xvcnMubWFwc1ttYXBdLCBzdHIpO1xuICAgIH1cbiAgfSkobWFwKVxufVxuXG5kZWZpbmVQcm9wcyhjb2xvcnMsIGluaXQoKSk7XG5cbi8qKiovIH0pLFxuLyogNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRpZiAodmFsdWUgPT0gbnVsbCkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB1c2UgbnVsbCBvciB1bmRlZmluZWRcIik7XG5cdHJldHVybiB2YWx1ZTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiA2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBhc3NpZ24gICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOClcbiAgLCBub3JtYWxpemVPcHRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSlcbiAgLCBpc0NhbGxhYmxlICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1OSlcbiAgLCBjb250YWlucyAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MylcblxuICAsIGQ7XG5cbmQgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChkc2NyLCB2YWx1ZS8qLCBvcHRpb25zKi8pIHtcblx0dmFyIGMsIGUsIHcsIG9wdGlvbnMsIGRlc2M7XG5cdGlmICgoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHx8ICh0eXBlb2YgZHNjciAhPT0gJ3N0cmluZycpKSB7XG5cdFx0b3B0aW9ucyA9IHZhbHVlO1xuXHRcdHZhbHVlID0gZHNjcjtcblx0XHRkc2NyID0gbnVsbDtcblx0fSBlbHNlIHtcblx0XHRvcHRpb25zID0gYXJndW1lbnRzWzJdO1xuXHR9XG5cdGlmIChkc2NyID09IG51bGwpIHtcblx0XHRjID0gdyA9IHRydWU7XG5cdFx0ZSA9IGZhbHNlO1xuXHR9IGVsc2Uge1xuXHRcdGMgPSBjb250YWlucy5jYWxsKGRzY3IsICdjJyk7XG5cdFx0ZSA9IGNvbnRhaW5zLmNhbGwoZHNjciwgJ2UnKTtcblx0XHR3ID0gY29udGFpbnMuY2FsbChkc2NyLCAndycpO1xuXHR9XG5cblx0ZGVzYyA9IHsgdmFsdWU6IHZhbHVlLCBjb25maWd1cmFibGU6IGMsIGVudW1lcmFibGU6IGUsIHdyaXRhYmxlOiB3IH07XG5cdHJldHVybiAhb3B0aW9ucyA/IGRlc2MgOiBhc3NpZ24obm9ybWFsaXplT3B0cyhvcHRpb25zKSwgZGVzYyk7XG59O1xuXG5kLmdzID0gZnVuY3Rpb24gKGRzY3IsIGdldCwgc2V0LyosIG9wdGlvbnMqLykge1xuXHR2YXIgYywgZSwgb3B0aW9ucywgZGVzYztcblx0aWYgKHR5cGVvZiBkc2NyICE9PSAnc3RyaW5nJykge1xuXHRcdG9wdGlvbnMgPSBzZXQ7XG5cdFx0c2V0ID0gZ2V0O1xuXHRcdGdldCA9IGRzY3I7XG5cdFx0ZHNjciA9IG51bGw7XG5cdH0gZWxzZSB7XG5cdFx0b3B0aW9ucyA9IGFyZ3VtZW50c1szXTtcblx0fVxuXHRpZiAoZ2V0ID09IG51bGwpIHtcblx0XHRnZXQgPSB1bmRlZmluZWQ7XG5cdH0gZWxzZSBpZiAoIWlzQ2FsbGFibGUoZ2V0KSkge1xuXHRcdG9wdGlvbnMgPSBnZXQ7XG5cdFx0Z2V0ID0gc2V0ID0gdW5kZWZpbmVkO1xuXHR9IGVsc2UgaWYgKHNldCA9PSBudWxsKSB7XG5cdFx0c2V0ID0gdW5kZWZpbmVkO1xuXHR9IGVsc2UgaWYgKCFpc0NhbGxhYmxlKHNldCkpIHtcblx0XHRvcHRpb25zID0gc2V0O1xuXHRcdHNldCA9IHVuZGVmaW5lZDtcblx0fVxuXHRpZiAoZHNjciA9PSBudWxsKSB7XG5cdFx0YyA9IHRydWU7XG5cdFx0ZSA9IGZhbHNlO1xuXHR9IGVsc2Uge1xuXHRcdGMgPSBjb250YWlucy5jYWxsKGRzY3IsICdjJyk7XG5cdFx0ZSA9IGNvbnRhaW5zLmNhbGwoZHNjciwgJ2UnKTtcblx0fVxuXG5cdGRlc2MgPSB7IGdldDogZ2V0LCBzZXQ6IHNldCwgY29uZmlndXJhYmxlOiBjLCBlbnVtZXJhYmxlOiBlIH07XG5cdHJldHVybiAhb3B0aW9ucyA/IGRlc2MgOiBhc3NpZ24obm9ybWFsaXplT3B0cyhvcHRpb25zKSwgZGVzYyk7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNTYpKCdmb3JFYWNoJyk7XG5cblxuLyoqKi8gfSksXG4vKiA4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciB0b1Bvc0ludCA9IF9fd2VicGFja19yZXF1aXJlX18oMSlcbiAgLCB2YWx1ZSAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNSlcblxuICAsIGluZGV4T2YgPSBBcnJheS5wcm90b3R5cGUuaW5kZXhPZlxuICAsIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eVxuICAsIGFicyA9IE1hdGguYWJzLCBmbG9vciA9IE1hdGguZmxvb3I7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHNlYXJjaEVsZW1lbnQvKiwgZnJvbUluZGV4Ki8pIHtcblx0dmFyIGksIGwsIGZyb21JbmRleCwgdmFsO1xuXHRpZiAoc2VhcmNoRWxlbWVudCA9PT0gc2VhcmNoRWxlbWVudCkgeyAvL2pzbGludDogaWdub3JlXG5cdFx0cmV0dXJuIGluZGV4T2YuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0fVxuXG5cdGwgPSB0b1Bvc0ludCh2YWx1ZSh0aGlzKS5sZW5ndGgpO1xuXHRmcm9tSW5kZXggPSBhcmd1bWVudHNbMV07XG5cdGlmIChpc05hTihmcm9tSW5kZXgpKSBmcm9tSW5kZXggPSAwO1xuXHRlbHNlIGlmIChmcm9tSW5kZXggPj0gMCkgZnJvbUluZGV4ID0gZmxvb3IoZnJvbUluZGV4KTtcblx0ZWxzZSBmcm9tSW5kZXggPSB0b1Bvc0ludCh0aGlzLmxlbmd0aCkgLSBmbG9vcihhYnMoZnJvbUluZGV4KSk7XG5cblx0Zm9yIChpID0gZnJvbUluZGV4OyBpIDwgbDsgKytpKSB7XG5cdFx0aWYgKGhhc093blByb3BlcnR5LmNhbGwodGhpcywgaSkpIHtcblx0XHRcdHZhbCA9IHRoaXNbaV07XG5cdFx0XHRpZiAodmFsICE9PSB2YWwpIHJldHVybiBpOyAvL2pzbGludDogaWdub3JlXG5cdFx0fVxuXHR9XG5cdHJldHVybiAtMTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiA5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NSkoKVxuXHQ/IEFycmF5LmZyb21cblx0OiBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ2KTtcblxuXG4vKioqLyB9KSxcbi8qIDEwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHByb2Nlc3MsIHNldEltbWVkaWF0ZSkge1xuXG52YXIgY2FsbGFibGUsIGJ5T2JzZXJ2ZXI7XG5cbmNhbGxhYmxlID0gZnVuY3Rpb24gKGZuKSB7XG5cdGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHRocm93IG5ldyBUeXBlRXJyb3IoZm4gKyBcIiBpcyBub3QgYSBmdW5jdGlvblwiKTtcblx0cmV0dXJuIGZuO1xufTtcblxuYnlPYnNlcnZlciA9IGZ1bmN0aW9uIChPYnNlcnZlcikge1xuXHR2YXIgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKSwgcXVldWUsIGN1cnJlbnRRdWV1ZSwgaSA9IDA7XG5cdG5ldyBPYnNlcnZlcihmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIGNhbGxiYWNrO1xuXHRcdGlmICghcXVldWUpIHtcblx0XHRcdGlmICghY3VycmVudFF1ZXVlKSByZXR1cm47XG5cdFx0XHRxdWV1ZSA9IGN1cnJlbnRRdWV1ZTtcblx0XHR9IGVsc2UgaWYgKGN1cnJlbnRRdWV1ZSkge1xuXHRcdFx0cXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcblx0XHR9XG5cdFx0Y3VycmVudFF1ZXVlID0gcXVldWU7XG5cdFx0cXVldWUgPSBudWxsO1xuXHRcdGlmICh0eXBlb2YgY3VycmVudFF1ZXVlID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRjYWxsYmFjayA9IGN1cnJlbnRRdWV1ZTtcblx0XHRcdGN1cnJlbnRRdWV1ZSA9IG51bGw7XG5cdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRub2RlLmRhdGEgPSAoaSA9ICsraSAlIDIpOyAvLyBJbnZva2Ugb3RoZXIgYmF0Y2gsIHRvIGhhbmRsZSBsZWZ0b3ZlciBjYWxsYmFja3MgaW4gY2FzZSBvZiBjcmFzaFxuXHRcdHdoaWxlIChjdXJyZW50UXVldWUpIHtcblx0XHRcdGNhbGxiYWNrID0gY3VycmVudFF1ZXVlLnNoaWZ0KCk7XG5cdFx0XHRpZiAoIWN1cnJlbnRRdWV1ZS5sZW5ndGgpIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG5cdFx0XHRjYWxsYmFjaygpO1xuXHRcdH1cblx0fSkub2JzZXJ2ZShub2RlLCB7IGNoYXJhY3RlckRhdGE6IHRydWUgfSk7XG5cdHJldHVybiBmdW5jdGlvbiAoZm4pIHtcblx0XHRjYWxsYWJsZShmbik7XG5cdFx0aWYgKHF1ZXVlKSB7XG5cdFx0XHRpZiAodHlwZW9mIHF1ZXVlID09PSAnZnVuY3Rpb24nKSBxdWV1ZSA9IFtxdWV1ZSwgZm5dO1xuXHRcdFx0ZWxzZSBxdWV1ZS5wdXNoKGZuKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0cXVldWUgPSBmbjtcblx0XHRub2RlLmRhdGEgPSAoaSA9ICsraSAlIDIpO1xuXHR9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24gKCkge1xuXHQvLyBOb2RlLmpzXG5cdGlmICgodHlwZW9mIHByb2Nlc3MgPT09ICdvYmplY3QnKSAmJiBwcm9jZXNzICYmICh0eXBlb2YgcHJvY2Vzcy5uZXh0VGljayA9PT0gJ2Z1bmN0aW9uJykpIHtcblx0XHRyZXR1cm4gcHJvY2Vzcy5uZXh0VGljaztcblx0fVxuXG5cdC8vIE11dGF0aW9uT2JzZXJ2ZXJcblx0aWYgKCh0eXBlb2YgZG9jdW1lbnQgPT09ICdvYmplY3QnKSAmJiBkb2N1bWVudCkge1xuXHRcdGlmICh0eXBlb2YgTXV0YXRpb25PYnNlcnZlciA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuIGJ5T2JzZXJ2ZXIoTXV0YXRpb25PYnNlcnZlcik7XG5cdFx0aWYgKHR5cGVvZiBXZWJLaXRNdXRhdGlvbk9ic2VydmVyID09PSAnZnVuY3Rpb24nKSByZXR1cm4gYnlPYnNlcnZlcihXZWJLaXRNdXRhdGlvbk9ic2VydmVyKTtcblx0fVxuXG5cdC8vIFczQyBEcmFmdFxuXHQvLyBodHRwOi8vZHZjcy53My5vcmcvaGcvd2VicGVyZi9yYXctZmlsZS90aXAvc3BlY3Mvc2V0SW1tZWRpYXRlL092ZXJ2aWV3Lmh0bWxcblx0aWYgKHR5cGVvZiBzZXRJbW1lZGlhdGUgPT09ICdmdW5jdGlvbicpIHtcblx0XHRyZXR1cm4gZnVuY3Rpb24gKGNiKSB7IHNldEltbWVkaWF0ZShjYWxsYWJsZShjYikpOyB9O1xuXHR9XG5cblx0Ly8gV2lkZSBhdmFpbGFibGUgc3RhbmRhcmRcblx0aWYgKCh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykgfHwgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnb2JqZWN0JykpIHtcblx0XHRyZXR1cm4gZnVuY3Rpb24gKGNiKSB7IHNldFRpbWVvdXQoY2FsbGFibGUoY2IpLCAwKTsgfTtcblx0fVxuXG5cdHJldHVybiBudWxsO1xufSgpKTtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMyksIF9fd2VicGFja19yZXF1aXJlX18oOTQpLnNldEltbWVkaWF0ZSkpXG5cbi8qKiovIH0pLFxuLyogMTEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxudmFyIGc7XHJcblxyXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxyXG5nID0gKGZ1bmN0aW9uKCkge1xyXG5cdHJldHVybiB0aGlzO1xyXG59KSgpO1xyXG5cclxudHJ5IHtcclxuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcclxuXHRnID0gZyB8fCBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCkgfHwgKDEsZXZhbCkoXCJ0aGlzXCIpO1xyXG59IGNhdGNoKGUpIHtcclxuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxyXG5cdGlmKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpXHJcblx0XHRnID0gd2luZG93O1xyXG59XHJcblxyXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXHJcbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXHJcbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZztcclxuXG5cbi8qKiovIH0pLFxuLyogMTIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIHBrZyA9IF9fd2VicGFja19yZXF1aXJlX18oMTAwKTtcbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOSkuc3Bhd25hYmxlKHBrZy5uYW1lKTtcblxuLyoqKi8gfSksXG4vKiAxMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5mdW5jdGlvbiB3ZWJwYWNrRW1wdHlDb250ZXh0KHJlcSkge1xuXHR0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgcmVxICsgXCInLlwiKTtcbn1cbndlYnBhY2tFbXB0eUNvbnRleHQua2V5cyA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gW107IH07XG53ZWJwYWNrRW1wdHlDb250ZXh0LnJlc29sdmUgPSB3ZWJwYWNrRW1wdHlDb250ZXh0O1xubW9kdWxlLmV4cG9ydHMgPSB3ZWJwYWNrRW1wdHlDb250ZXh0O1xud2VicGFja0VtcHR5Q29udGV4dC5pZCA9IDEzO1xuXG4vKioqLyB9KSxcbi8qIDE0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbi8qXG5UaGUgTUlUIExpY2Vuc2UgKE1JVClcblxuQ29weXJpZ2h0IChjKSBTaW5kcmUgU29yaHVzIDxzaW5kcmVzb3JodXNAZ21haWwuY29tPiAoc2luZHJlc29yaHVzLmNvbSlcblxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxub2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xudG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG5mdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG5cblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG5BVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG5MSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuVEhFIFNPRlRXQVJFLlxuXG4qL1xuXG52YXIgc3R5bGVzID0ge307XG5tb2R1bGVbJ2V4cG9ydHMnXSA9IHN0eWxlcztcblxudmFyIGNvZGVzID0ge1xuICByZXNldDogWzAsIDBdLFxuXG4gIGJvbGQ6IFsxLCAyMl0sXG4gIGRpbTogWzIsIDIyXSxcbiAgaXRhbGljOiBbMywgMjNdLFxuICB1bmRlcmxpbmU6IFs0LCAyNF0sXG4gIGludmVyc2U6IFs3LCAyN10sXG4gIGhpZGRlbjogWzgsIDI4XSxcbiAgc3RyaWtldGhyb3VnaDogWzksIDI5XSxcblxuICBibGFjazogWzMwLCAzOV0sXG4gIHJlZDogWzMxLCAzOV0sXG4gIGdyZWVuOiBbMzIsIDM5XSxcbiAgeWVsbG93OiBbMzMsIDM5XSxcbiAgYmx1ZTogWzM0LCAzOV0sXG4gIG1hZ2VudGE6IFszNSwgMzldLFxuICBjeWFuOiBbMzYsIDM5XSxcbiAgd2hpdGU6IFszNywgMzldLFxuICBncmF5OiBbOTAsIDM5XSxcbiAgZ3JleTogWzkwLCAzOV0sXG5cbiAgYmdCbGFjazogWzQwLCA0OV0sXG4gIGJnUmVkOiBbNDEsIDQ5XSxcbiAgYmdHcmVlbjogWzQyLCA0OV0sXG4gIGJnWWVsbG93OiBbNDMsIDQ5XSxcbiAgYmdCbHVlOiBbNDQsIDQ5XSxcbiAgYmdNYWdlbnRhOiBbNDUsIDQ5XSxcbiAgYmdDeWFuOiBbNDYsIDQ5XSxcbiAgYmdXaGl0ZTogWzQ3LCA0OV0sXG5cbiAgLy8gbGVnYWN5IHN0eWxlcyBmb3IgY29sb3JzIHByZSB2MS4wLjBcbiAgYmxhY2tCRzogWzQwLCA0OV0sXG4gIHJlZEJHOiBbNDEsIDQ5XSxcbiAgZ3JlZW5CRzogWzQyLCA0OV0sXG4gIHllbGxvd0JHOiBbNDMsIDQ5XSxcbiAgYmx1ZUJHOiBbNDQsIDQ5XSxcbiAgbWFnZW50YUJHOiBbNDUsIDQ5XSxcbiAgY3lhbkJHOiBbNDYsIDQ5XSxcbiAgd2hpdGVCRzogWzQ3LCA0OV1cblxufTtcblxuT2JqZWN0LmtleXMoY29kZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICB2YXIgdmFsID0gY29kZXNba2V5XTtcbiAgdmFyIHN0eWxlID0gc3R5bGVzW2tleV0gPSBbXTtcbiAgc3R5bGUub3BlbiA9ICdcXHUwMDFiWycgKyB2YWxbMF0gKyAnbSc7XG4gIHN0eWxlLmNsb3NlID0gJ1xcdTAwMWJbJyArIHZhbFsxXSArICdtJztcbn0pO1xuXG4vKioqLyB9KSxcbi8qIDE1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZGVidWdGYWN0b3J5KGRlYnVnQXBpLCBvcHRpb25zKSB7XG4gIHZhciB3cmFwTGF6eUV2YWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQyKTtcbiAgdmFyIGZvcm1hdEFyZ3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQxKTtcblxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7XG4gICAgZm9ybWF0QXJnczogdHJ1ZVxuICB9O1xuXG4gIGRlYnVnQXBpID0gZGVidWdBcGkgPyBkZWJ1Z0FwaSA6IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xuICBkZWJ1Z0FwaSA9IHdyYXBMYXp5RXZhbChkZWJ1Z0FwaSk7XG4gIGRlYnVnQXBpID0gZm9ybWF0QXJncyh7XG4gICAgZGVidWdBcGk6IGRlYnVnQXBpLFxuICAgIG9wdGlvbnM6IG9wdGlvbnNcbiAgfSk7XG5cbiAgcmV0dXJuIGRlYnVnQXBpO1xufVxuXG5cbi8qKiovIH0pLFxuLyogMTYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHByb2Nlc3MpIHsvKipcbiAqIFRoaXMgaXMgdGhlIHdlYiBicm93c2VyIGltcGxlbWVudGF0aW9uIG9mIGBkZWJ1ZygpYC5cbiAqXG4gKiBFeHBvc2UgYGRlYnVnKClgIGFzIHRoZSBtb2R1bGUuXG4gKi9cblxuZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NCk7XG5leHBvcnRzLmxvZyA9IGxvZztcbmV4cG9ydHMuZm9ybWF0QXJncyA9IGZvcm1hdEFyZ3M7XG5leHBvcnRzLnNhdmUgPSBzYXZlO1xuZXhwb3J0cy5sb2FkID0gbG9hZDtcbmV4cG9ydHMudXNlQ29sb3JzID0gdXNlQ29sb3JzO1xuZXhwb3J0cy5zdG9yYWdlID0gJ3VuZGVmaW5lZCcgIT0gdHlwZW9mIGNocm9tZVxuICAgICAgICAgICAgICAgJiYgJ3VuZGVmaW5lZCcgIT0gdHlwZW9mIGNocm9tZS5zdG9yYWdlXG4gICAgICAgICAgICAgICAgICA/IGNocm9tZS5zdG9yYWdlLmxvY2FsXG4gICAgICAgICAgICAgICAgICA6IGxvY2Fsc3RvcmFnZSgpO1xuXG4vKipcbiAqIENvbG9ycy5cbiAqL1xuXG5leHBvcnRzLmNvbG9ycyA9IFtcbiAgJ2xpZ2h0c2VhZ3JlZW4nLFxuICAnZm9yZXN0Z3JlZW4nLFxuICAnZ29sZGVucm9kJyxcbiAgJ2RvZGdlcmJsdWUnLFxuICAnZGFya29yY2hpZCcsXG4gICdjcmltc29uJ1xuXTtcblxuLyoqXG4gKiBDdXJyZW50bHkgb25seSBXZWJLaXQtYmFzZWQgV2ViIEluc3BlY3RvcnMsIEZpcmVmb3ggPj0gdjMxLFxuICogYW5kIHRoZSBGaXJlYnVnIGV4dGVuc2lvbiAoYW55IEZpcmVmb3ggdmVyc2lvbikgYXJlIGtub3duXG4gKiB0byBzdXBwb3J0IFwiJWNcIiBDU1MgY3VzdG9taXphdGlvbnMuXG4gKlxuICogVE9ETzogYWRkIGEgYGxvY2FsU3RvcmFnZWAgdmFyaWFibGUgdG8gZXhwbGljaXRseSBlbmFibGUvZGlzYWJsZSBjb2xvcnNcbiAqL1xuXG5mdW5jdGlvbiB1c2VDb2xvcnMoKSB7XG4gIC8vIE5COiBJbiBhbiBFbGVjdHJvbiBwcmVsb2FkIHNjcmlwdCwgZG9jdW1lbnQgd2lsbCBiZSBkZWZpbmVkIGJ1dCBub3QgZnVsbHlcbiAgLy8gaW5pdGlhbGl6ZWQuIFNpbmNlIHdlIGtub3cgd2UncmUgaW4gQ2hyb21lLCB3ZSdsbCBqdXN0IGRldGVjdCB0aGlzIGNhc2VcbiAgLy8gZXhwbGljaXRseVxuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93ICYmIHR5cGVvZiB3aW5kb3cucHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnByb2Nlc3MudHlwZSA9PT0gJ3JlbmRlcmVyJykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gaXMgd2Via2l0PyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNjQ1OTYwNi8zNzY3NzNcbiAgLy8gZG9jdW1lbnQgaXMgdW5kZWZpbmVkIGluIHJlYWN0LW5hdGl2ZTogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0LW5hdGl2ZS9wdWxsLzE2MzJcbiAgcmV0dXJuICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIGRvY3VtZW50ICYmICdXZWJraXRBcHBlYXJhbmNlJyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUpIHx8XG4gICAgLy8gaXMgZmlyZWJ1Zz8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMzk4MTIwLzM3Njc3M1xuICAgICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cgJiYgd2luZG93LmNvbnNvbGUgJiYgKGNvbnNvbGUuZmlyZWJ1ZyB8fCAoY29uc29sZS5leGNlcHRpb24gJiYgY29uc29sZS50YWJsZSkpKSB8fFxuICAgIC8vIGlzIGZpcmVmb3ggPj0gdjMxP1xuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvVG9vbHMvV2ViX0NvbnNvbGUjU3R5bGluZ19tZXNzYWdlc1xuICAgICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2ZpcmVmb3hcXC8oXFxkKykvKSAmJiBwYXJzZUludChSZWdFeHAuJDEsIDEwKSA+PSAzMSkgfHxcbiAgICAvLyBkb3VibGUgY2hlY2sgd2Via2l0IGluIHVzZXJBZ2VudCBqdXN0IGluIGNhc2Ugd2UgYXJlIGluIGEgd29ya2VyXG4gICAgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvciAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvYXBwbGV3ZWJraXRcXC8oXFxkKykvKSk7XG59XG5cbi8qKlxuICogTWFwICVqIHRvIGBKU09OLnN0cmluZ2lmeSgpYCwgc2luY2Ugbm8gV2ViIEluc3BlY3RvcnMgZG8gdGhhdCBieSBkZWZhdWx0LlxuICovXG5cbmV4cG9ydHMuZm9ybWF0dGVycy5qID0gZnVuY3Rpb24odikge1xuICB0cnkge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh2KTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmV0dXJuICdbVW5leHBlY3RlZEpTT05QYXJzZUVycm9yXTogJyArIGVyci5tZXNzYWdlO1xuICB9XG59O1xuXG5cbi8qKlxuICogQ29sb3JpemUgbG9nIGFyZ3VtZW50cyBpZiBlbmFibGVkLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gZm9ybWF0QXJncyhhcmdzKSB7XG4gIHZhciB1c2VDb2xvcnMgPSB0aGlzLnVzZUNvbG9ycztcblxuICBhcmdzWzBdID0gKHVzZUNvbG9ycyA/ICclYycgOiAnJylcbiAgICArIHRoaXMubmFtZXNwYWNlXG4gICAgKyAodXNlQ29sb3JzID8gJyAlYycgOiAnICcpXG4gICAgKyBhcmdzWzBdXG4gICAgKyAodXNlQ29sb3JzID8gJyVjICcgOiAnICcpXG4gICAgKyAnKycgKyBleHBvcnRzLmh1bWFuaXplKHRoaXMuZGlmZik7XG5cbiAgaWYgKCF1c2VDb2xvcnMpIHJldHVybjtcblxuICB2YXIgYyA9ICdjb2xvcjogJyArIHRoaXMuY29sb3I7XG4gIGFyZ3Muc3BsaWNlKDEsIDAsIGMsICdjb2xvcjogaW5oZXJpdCcpXG5cbiAgLy8gdGhlIGZpbmFsIFwiJWNcIiBpcyBzb21ld2hhdCB0cmlja3ksIGJlY2F1c2UgdGhlcmUgY291bGQgYmUgb3RoZXJcbiAgLy8gYXJndW1lbnRzIHBhc3NlZCBlaXRoZXIgYmVmb3JlIG9yIGFmdGVyIHRoZSAlYywgc28gd2UgbmVlZCB0b1xuICAvLyBmaWd1cmUgb3V0IHRoZSBjb3JyZWN0IGluZGV4IHRvIGluc2VydCB0aGUgQ1NTIGludG9cbiAgdmFyIGluZGV4ID0gMDtcbiAgdmFyIGxhc3RDID0gMDtcbiAgYXJnc1swXS5yZXBsYWNlKC8lW2EtekEtWiVdL2csIGZ1bmN0aW9uKG1hdGNoKSB7XG4gICAgaWYgKCclJScgPT09IG1hdGNoKSByZXR1cm47XG4gICAgaW5kZXgrKztcbiAgICBpZiAoJyVjJyA9PT0gbWF0Y2gpIHtcbiAgICAgIC8vIHdlIG9ubHkgYXJlIGludGVyZXN0ZWQgaW4gdGhlICpsYXN0KiAlY1xuICAgICAgLy8gKHRoZSB1c2VyIG1heSBoYXZlIHByb3ZpZGVkIHRoZWlyIG93bilcbiAgICAgIGxhc3RDID0gaW5kZXg7XG4gICAgfVxuICB9KTtcblxuICBhcmdzLnNwbGljZShsYXN0QywgMCwgYyk7XG59XG5cbi8qKlxuICogSW52b2tlcyBgY29uc29sZS5sb2coKWAgd2hlbiBhdmFpbGFibGUuXG4gKiBOby1vcCB3aGVuIGBjb25zb2xlLmxvZ2AgaXMgbm90IGEgXCJmdW5jdGlvblwiLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gbG9nKCkge1xuICAvLyB0aGlzIGhhY2tlcnkgaXMgcmVxdWlyZWQgZm9yIElFOC85LCB3aGVyZVxuICAvLyB0aGUgYGNvbnNvbGUubG9nYCBmdW5jdGlvbiBkb2Vzbid0IGhhdmUgJ2FwcGx5J1xuICByZXR1cm4gJ29iamVjdCcgPT09IHR5cGVvZiBjb25zb2xlXG4gICAgJiYgY29uc29sZS5sb2dcbiAgICAmJiBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbChjb25zb2xlLmxvZywgY29uc29sZSwgYXJndW1lbnRzKTtcbn1cblxuLyoqXG4gKiBTYXZlIGBuYW1lc3BhY2VzYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlc1xuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gc2F2ZShuYW1lc3BhY2VzKSB7XG4gIHRyeSB7XG4gICAgaWYgKG51bGwgPT0gbmFtZXNwYWNlcykge1xuICAgICAgZXhwb3J0cy5zdG9yYWdlLnJlbW92ZUl0ZW0oJ2RlYnVnJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4cG9ydHMuc3RvcmFnZS5kZWJ1ZyA9IG5hbWVzcGFjZXM7XG4gICAgfVxuICB9IGNhdGNoKGUpIHt9XG59XG5cbi8qKlxuICogTG9hZCBgbmFtZXNwYWNlc2AuXG4gKlxuICogQHJldHVybiB7U3RyaW5nfSByZXR1cm5zIHRoZSBwcmV2aW91c2x5IHBlcnNpc3RlZCBkZWJ1ZyBtb2Rlc1xuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gbG9hZCgpIHtcbiAgdmFyIHI7XG4gIHRyeSB7XG4gICAgciA9IGV4cG9ydHMuc3RvcmFnZS5kZWJ1ZztcbiAgfSBjYXRjaChlKSB7fVxuXG4gIC8vIElmIGRlYnVnIGlzbid0IHNldCBpbiBMUywgYW5kIHdlJ3JlIGluIEVsZWN0cm9uLCB0cnkgdG8gbG9hZCAkREVCVUdcbiAgaWYgKCFyICYmIHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiAnZW52JyBpbiBwcm9jZXNzKSB7XG4gICAgciA9IHByb2Nlc3MuZW52LkRFQlVHO1xuICB9XG5cbiAgcmV0dXJuIHI7XG59XG5cbi8qKlxuICogRW5hYmxlIG5hbWVzcGFjZXMgbGlzdGVkIGluIGBsb2NhbFN0b3JhZ2UuZGVidWdgIGluaXRpYWxseS5cbiAqL1xuXG5leHBvcnRzLmVuYWJsZShsb2FkKCkpO1xuXG4vKipcbiAqIExvY2Fsc3RvcmFnZSBhdHRlbXB0cyB0byByZXR1cm4gdGhlIGxvY2Fsc3RvcmFnZS5cbiAqXG4gKiBUaGlzIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHNhZmFyaSB0aHJvd3NcbiAqIHdoZW4gYSB1c2VyIGRpc2FibGVzIGNvb2tpZXMvbG9jYWxzdG9yYWdlXG4gKiBhbmQgeW91IGF0dGVtcHQgdG8gYWNjZXNzIGl0LlxuICpcbiAqIEByZXR1cm4ge0xvY2FsU3RvcmFnZX1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGxvY2Fsc3RvcmFnZSgpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gd2luZG93LmxvY2FsU3RvcmFnZTtcbiAgfSBjYXRjaCAoZSkge31cbn1cblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMykpKVxuXG4vKioqLyB9KSxcbi8qIDE3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciB0b1Bvc0ludCA9IF9fd2VicGFja19yZXF1aXJlX18oMSlcblxuICAsIHRlc3QgPSBmdW5jdGlvbiAoYSwgYikge30sIGRlc2MsIGRlZmluZVByb3BlcnR5XG4gICwgZ2VuZXJhdGUsIG1peGluO1xuXG50cnkge1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkodGVzdCwgJ2xlbmd0aCcsIHsgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogZmFsc2UsXG5cdFx0ZW51bWVyYWJsZTogZmFsc2UsIHZhbHVlOiAxIH0pO1xufSBjYXRjaCAoaWdub3JlKSB7fVxuXG5pZiAodGVzdC5sZW5ndGggPT09IDEpIHtcblx0Ly8gRVM2XG5cdGRlc2MgPSB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IGZhbHNlLCBlbnVtZXJhYmxlOiBmYWxzZSB9O1xuXHRkZWZpbmVQcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZm4sIGxlbmd0aCkge1xuXHRcdGxlbmd0aCA9IHRvUG9zSW50KGxlbmd0aCk7XG5cdFx0aWYgKGZuLmxlbmd0aCA9PT0gbGVuZ3RoKSByZXR1cm4gZm47XG5cdFx0ZGVzYy52YWx1ZSA9IGxlbmd0aDtcblx0XHRyZXR1cm4gZGVmaW5lUHJvcGVydHkoZm4sICdsZW5ndGgnLCBkZXNjKTtcblx0fTtcbn0gZWxzZSB7XG5cdG1peGluID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMCk7XG5cdGdlbmVyYXRlID0gKGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgY2FjaGUgPSBbXTtcblx0XHRyZXR1cm4gZnVuY3Rpb24gKGwpIHtcblx0XHRcdHZhciBhcmdzLCBpID0gMDtcblx0XHRcdGlmIChjYWNoZVtsXSkgcmV0dXJuIGNhY2hlW2xdO1xuXHRcdFx0YXJncyA9IFtdO1xuXHRcdFx0d2hpbGUgKGwtLSkgYXJncy5wdXNoKCdhJyArICgrK2kpLnRvU3RyaW5nKDM2KSk7XG5cdFx0XHRyZXR1cm4gbmV3IEZ1bmN0aW9uKCdmbicsICdyZXR1cm4gZnVuY3Rpb24gKCcgKyBhcmdzLmpvaW4oJywgJykgK1xuXHRcdFx0XHQnKSB7IHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9OycpO1xuXHRcdH07XG5cdH0oKSk7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHNyYywgbGVuZ3RoKSB7XG5cdFx0dmFyIHRhcmdldDtcblx0XHRsZW5ndGggPSB0b1Bvc0ludChsZW5ndGgpO1xuXHRcdGlmIChzcmMubGVuZ3RoID09PSBsZW5ndGgpIHJldHVybiBzcmM7XG5cdFx0dGFyZ2V0ID0gZ2VuZXJhdGUobGVuZ3RoKShzcmMpO1xuXHRcdHRyeSB7IG1peGluKHRhcmdldCwgc3JjKTsgfSBjYXRjaCAoaWdub3JlKSB7fVxuXHRcdHJldHVybiB0YXJnZXQ7XG5cdH07XG59XG5cblxuLyoqKi8gfSksXG4vKiAxOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNTcpKClcblx0PyBPYmplY3QuYXNzaWduXG5cdDogX193ZWJwYWNrX3JlcXVpcmVfXyg1OCk7XG5cblxuLyoqKi8gfSksXG4vKiAxOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgY2FsbGFibGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApXG4gICwgZm9yRWFjaCAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpXG5cbiAgLCBjYWxsID0gRnVuY3Rpb24ucHJvdG90eXBlLmNhbGw7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9iaiwgY2IvKiwgdGhpc0FyZyovKSB7XG5cdHZhciBvID0ge30sIHRoaXNBcmcgPSBhcmd1bWVudHNbMl07XG5cdGNhbGxhYmxlKGNiKTtcblx0Zm9yRWFjaChvYmosIGZ1bmN0aW9uICh2YWx1ZSwga2V5LCBvYmosIGluZGV4KSB7XG5cdFx0b1trZXldID0gY2FsbC5jYWxsKGNiLCB0aGlzQXJnLCB2YWx1ZSwga2V5LCBvYmosIGluZGV4KTtcblx0fSk7XG5cdHJldHVybiBvO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDIwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18oNSlcblxuICAsIGRlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5XG4gICwgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvclxuICAsIGdldE93blByb3BlcnR5TmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc1xuICAsIGdldE93blByb3BlcnR5U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHRhcmdldCwgc291cmNlKSB7XG5cdHZhciBlcnJvciwgc291cmNlT2JqZWN0ID0gT2JqZWN0KHZhbHVlKHNvdXJjZSkpO1xuXHR0YXJnZXQgPSBPYmplY3QodmFsdWUodGFyZ2V0KSk7XG5cdGdldE93blByb3BlcnR5TmFtZXMoc291cmNlT2JqZWN0KS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG5cdFx0dHJ5IHtcblx0XHRcdGRlZmluZVByb3BlcnR5KHRhcmdldCwgbmFtZSwgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwgbmFtZSkpO1xuXHRcdH0gY2F0Y2ggKGUpIHsgZXJyb3IgPSBlOyB9XG5cdH0pO1xuXHRpZiAodHlwZW9mIGdldE93blByb3BlcnR5U3ltYm9scyA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdGdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2VPYmplY3QpLmZvckVhY2goZnVuY3Rpb24gKHN5bWJvbCkge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0ZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBzeW1ib2wsIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIHN5bWJvbCkpO1xuXHRcdFx0fSBjYXRjaCAoZSkgeyBlcnJvciA9IGU7IH1cblx0XHR9KTtcblx0fVxuXHRpZiAoZXJyb3IgIT09IHVuZGVmaW5lZCkgdGhyb3cgZXJyb3I7XG5cdHJldHVybiB0YXJnZXQ7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogMjEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIGZvckVhY2ggPSBBcnJheS5wcm90b3R5cGUuZm9yRWFjaCwgY3JlYXRlID0gT2JqZWN0LmNyZWF0ZTtcblxudmFyIHByb2Nlc3MgPSBmdW5jdGlvbiAoc3JjLCBvYmopIHtcblx0dmFyIGtleTtcblx0Zm9yIChrZXkgaW4gc3JjKSBvYmpba2V5XSA9IHNyY1trZXldO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob3B0aW9ucy8qLCDigKZvcHRpb25zKi8pIHtcblx0dmFyIHJlc3VsdCA9IGNyZWF0ZShudWxsKTtcblx0Zm9yRWFjaC5jYWxsKGFyZ3VtZW50cywgZnVuY3Rpb24gKG9wdGlvbnMpIHtcblx0XHRpZiAob3B0aW9ucyA9PSBudWxsKSByZXR1cm47XG5cdFx0cHJvY2VzcyhPYmplY3Qob3B0aW9ucyksIHJlc3VsdCk7XG5cdH0pO1xuXHRyZXR1cm4gcmVzdWx0O1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDIyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gaXNQcm9taXNlO1xuXG5mdW5jdGlvbiBpc1Byb21pc2Uob2JqKSB7XG4gIHJldHVybiAhIW9iaiAmJiAodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIG9iaiA9PT0gJ2Z1bmN0aW9uJykgJiYgdHlwZW9mIG9iai50aGVuID09PSAnZnVuY3Rpb24nO1xufVxuXG5cbi8qKiovIH0pLFxuLyogMjMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIHRvUG9zSW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob3B0c0xlbmd0aCwgZm5MZW5ndGgsIGlzQXN5bmMpIHtcblx0dmFyIGxlbmd0aDtcblx0aWYgKGlzTmFOKG9wdHNMZW5ndGgpKSB7XG5cdFx0bGVuZ3RoID0gZm5MZW5ndGg7XG5cdFx0aWYgKCEobGVuZ3RoID49IDApKSByZXR1cm4gMTtcblx0XHRpZiAoaXNBc3luYyAmJiBsZW5ndGgpIHJldHVybiBsZW5ndGggLSAxO1xuXHRcdHJldHVybiBsZW5ndGg7XG5cdH1cblx0aWYgKG9wdHNMZW5ndGggPT09IGZhbHNlKSByZXR1cm4gZmFsc2U7XG5cdHJldHVybiB0b1Bvc0ludChvcHRzTGVuZ3RoKTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiAyNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMjgpO1xuXG4vKioqLyB9KSxcbi8qIDI1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbndpbmRvdy5wcmVhY2hlciA9IF9fd2VicGFja19yZXF1aXJlX18oMjQpO1xuXG4vKioqLyB9KSxcbi8qIDI2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBzdGFja1RyYWNlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5Myk7XG52YXIgcGF0aCA9IF9fd2VicGFja19yZXF1aXJlX18oOTEpO1xuXG52YXIgZ2V0RmlsZUFuZExpbmUgPSBmdW5jdGlvbiBnZXRGaWxlQW5kTGluZSh0cmFjZSwgaW5kZXgpIHtcbiAgdmFyIGZpbGVuYW1lID0gdm9pZCAwO1xuICB2YXIgZmlsZWluZm8gPSBwYXRoLnBhcnNlKHRyYWNlW2luZGV4XS5nZXRGaWxlTmFtZSgpKTtcbiAgaWYgKGZpbGVpbmZvLm5hbWUgPT09ICdpbmRleCcpIHtcbiAgICBmaWxlbmFtZSA9IHBhdGguYmFzZW5hbWUoZmlsZWluZm8uZGlyKSArICcvaW5kZXgnO1xuICB9IGVsc2Uge1xuICAgIGZpbGVuYW1lID0gZmlsZWluZm8ubmFtZTtcbiAgfVxuICByZXR1cm4ge1xuICAgIGZpbGVuYW1lOiBmaWxlbmFtZSxcbiAgICBsaW5lTnVtYmVyOiB0cmFjZVtpbmRleF0uZ2V0TGluZU51bWJlcigpXG4gIH07XG59O1xuXG52YXIgZGVjb3JhdGVPdXRwdXQgPSBmdW5jdGlvbiBkZWNvcmF0ZU91dHB1dChmdW5jLCBiaW5kVGhpcykge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIC8vIHRoaXMgZ2V0cyBjb3JyZWN0IGNvZmZlZSBsaW5lLCB3aGVyZSBzdGFja1RyYWNlLmdldCgpIGRvZXMgbm90XG4gICAgdmFyIHRyYWNlID0gc3RhY2tUcmFjZS5wYXJzZShuZXcgRXJyb3IoKSk7XG4gICAgdmFyIGluZm8gPSBnZXRGaWxlQW5kTGluZSh0cmFjZSwgMSk7XG4gICAgaWYgKGluZm8uZmlsZW5hbWUgPT09ICdjb2xvci13cmFwL2luZGV4Jykge1xuICAgICAgaW5mbyA9IGdldEZpbGVBbmRMaW5lKHRyYWNlLCAyKTtcbiAgICB9XG4gICAgdmFyIGRlY29yYXRvciA9ICdbJyArIGluZm8uZmlsZW5hbWUgKyAnOicgKyBpbmZvLmxpbmVOdW1iZXIgKyAnXSc7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBhcmdzLnVuc2hpZnQoZGVjb3JhdG9yKTtcbiAgICAvLyB0aGlzIGFsbG93cyBwYXNzaW5nIGEgZnVuY3Rpb24gdG8gYmUgZXZhbHVhdGVkIG9ubHkgaWYgbG9nZ2luZyB3aWxsIHRha2UgcGxhY2VcbiAgICBpZiAodHlwZW9mIGFyZ3NbMV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGFyZ3NbMV0gPSBhcmdzWzFdKCk7XG4gICAgfVxuICAgIHJldHVybiBmdW5jLmFwcGx5KGJpbmRUaGlzLCBhcmdzKTtcbiAgfTtcbn07XG5cbnZhciByZXNvbHZlT3V0cHV0ID0gZnVuY3Rpb24gcmVzb2x2ZU91dHB1dChmdW5jLCBiaW5kVGhpcykge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICBhcmdzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgfVxuXG4gICAgLy8gdGhpcyBhbGxvd3MgcGFzc2luZyBhIGZ1bmN0aW9uIHRvIGJlIGV2YWx1YXRlZCBvbmx5IGlmIGxvZ2dpbmcgd2lsbCB0YWtlIHBsYWNlXG4gICAgaWYgKHR5cGVvZiBhcmdzWzBdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBhcmdzWzBdID0gYXJnc1swXSgpO1xuICAgIH1cbiAgICByZXR1cm4gZnVuYy5hcHBseShiaW5kVGhpcywgYXJncyk7XG4gIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZ2V0RmlsZUFuZExpbmU6IGdldEZpbGVBbmRMaW5lLFxuICBkZWNvcmF0ZU91dHB1dDogZGVjb3JhdGVPdXRwdXQsXG4gIHJlc29sdmVPdXRwdXQ6IHJlc29sdmVPdXRwdXRcbn07XG5cbi8qKiovIH0pLFxuLyogMjcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oZ2xvYmFsKSB7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBvdXJEZWJ1ZyA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpLnNwYXduKCdsb2dnZXInKTtcbnZhciBub29wID0gZnVuY3Rpb24gbm9vcCgpIHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChfcmVmKSB7XG4gIHZhciBsb2dnZXJUb1dyYXAgPSBfcmVmLmxvZ2dlclRvV3JhcCxcbiAgICAgIGRlY29yTGV2ZWxzID0gX3JlZi5kZWNvckxldmVscyxcbiAgICAgIGRvRmlsZUxpbmUgPSBfcmVmLmRvRmlsZUxpbmUsXG4gICAgICBkZWJ1Z0FwaSA9IF9yZWYuZGVidWdBcGksXG4gICAgICBsZXZlbEZucyA9IF9yZWYubGV2ZWxGbnM7XG5cbiAgdmFyIGNvbG9yV3JhcCA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpO1xuICB2YXIgbWVtb2l6ZSA9IF9fd2VicGFja19yZXF1aXJlX18oODApO1xuICB2YXIgaW50ZXJuYWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNik7XG5cbiAgb3VyRGVidWcoZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7IGxvZ2dlclRvV3JhcDogbG9nZ2VyVG9XcmFwLCBkZWNvckxldmVsczogZGVjb3JMZXZlbHMsIGRvRmlsZUxpbmU6IGRvRmlsZUxpbmUsIGRlYnVnQXBpOiBkZWJ1Z0FwaSwgbGV2ZWxGbnM6IGxldmVsRm5zIH07XG4gIH0pO1xuXG4gIHZhciBMb2dnZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTG9nZ2VyKGJhc2UsIG5hbWVzcGFjZSkge1xuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExvZ2dlcik7XG5cbiAgICAgIHZhciBhdWdtZW50ZWROYW1lc3BhY2UgPSB2b2lkIDAsXG4gICAgICAgICAgZm9yY2VEZWJ1Z0ZpbGVBbmRMaW5lID0gdm9pZCAwO1xuICAgICAgdGhpcy5iYXNlID0gYmFzZTtcbiAgICAgIHRoaXMubmFtZXNwYWNlID0gbmFtZXNwYWNlO1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLm5hbWVzcGFjZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGxvZ2dpbmcgbmFtZXNwYWNlJyk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLm5hbWVzcGFjZSA9PT0gJycpIHtcbiAgICAgICAgYXVnbWVudGVkTmFtZXNwYWNlID0gdGhpcy5iYXNlICsgJzpfX2RlZmF1bHRfbmFtZXNwYWNlX186JztcbiAgICAgICAgZm9yY2VEZWJ1Z0ZpbGVBbmRMaW5lID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghdGhpcy5uYW1lc3BhY2UuZW5kc1dpdGgoJzonKSkge1xuICAgICAgICAgIHRoaXMubmFtZXNwYWNlICs9ICc6JztcbiAgICAgICAgfVxuICAgICAgICBhdWdtZW50ZWROYW1lc3BhY2UgPSB0aGlzLmJhc2UgKyAnOicgKyB0aGlzLm5hbWVzcGFjZTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5kZWNvckxldmVscyA9IGRlY29yTGV2ZWxzO1xuXG4gICAgICAvKlxuICAgICAgICBPdmVycmlkZSBsb2dPYmplY3QuZGVidWcgd2l0aCBhIGRlYnVnIGluc3RhbmNlXG4gICAgICAgIG5hbWVzcGFjZSBpcyB0byBiZSB1c2VkIGFzIGhhbmRsZSBmb3IgY29udHJvbGxpbmcgbG9nZ2luZyB2ZXJib3NpdHlcbiAgICAgICAgc2VlOiBodHRwczovL2dpdGh1Yi5jb20vdmlzaW9ubWVkaWEvZGVidWcvYmxvYi9tYXN0ZXIvUmVhZG1lLm1kXG4gICAgICAqL1xuICAgICAgdmFyIGRlYnVnSW5zdGFuY2UgPSBkZWJ1Z0FwaShhdWdtZW50ZWROYW1lc3BhY2UpO1xuICAgICAgLy9UT0RPOiBtYWtlIHRoaXMgb3B0aW9uYWwgYXMgYW4gb3B0aW9uXG4gICAgICAvLyB0aGlzIGFsbG93cyBmb3J3YXJkaW5nIG9mIGRlYnVnIHRvIHRoZSB1bmRlcmx5aW5nIGRlYnVnIGNhbGwgaWYgZW5hYmxlZFxuICAgICAgZGVidWdJbnN0YW5jZS5sb2cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvdXQgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7XG4gICAgICAgIHJldHVybiBsb2dnZXJUb1dyYXAuZGVidWcuYXBwbHkobG9nZ2VyVG9XcmFwLCBvdXQpO1xuICAgICAgfTtcblxuICAgICAgLy8gYWRkIGxhenkgZXZhbCwgYW5kIG1heWJlIGRlY29yYXRlIG91dHB1dFxuICAgICAgaWYgKCFkZWJ1Z0luc3RhbmNlLmVuYWJsZWQpIHtcbiAgICAgICAgdGhpcy5kZWJ1ZyA9IG5vb3A7XG4gICAgICB9IGVsc2UgaWYgKChmb3JjZURlYnVnRmlsZUFuZExpbmUgfHwgZG9GaWxlTGluZSkgJiYgIWdsb2JhbC53aW5kb3cpIHtcbiAgICAgICAgdGhpcy5kZWJ1ZyA9IGludGVybmFscy5kZWNvcmF0ZU91dHB1dChkZWJ1Z0luc3RhbmNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZGVidWcgPSBpbnRlcm5hbHMucmVzb2x2ZU91dHB1dChkZWJ1Z0luc3RhbmNlKTtcbiAgICAgIH1cblxuICAgICAgLy8gYWRkIGxhenkgZXZhbCwgYW5kIG1heWJlIGRlY29yYXRlIG91dHB1dCB0byBhbGwgb3RoZXIgZnVuY3Rpb25zIGFzIHdlbGxcbiAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICB0cnkge1xuICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBBcnJheS5mcm9tKGxldmVsRm5zKVtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICB2YXIgbHZsID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICB2YXIgZm91bmRMZXZlbCA9ICh0aGlzLmRlY29yTGV2ZWxzICE9IG51bGwgPyB0aGlzLmRlY29yTGV2ZWxzLmluZGV4T2YobHZsKSA6IHVuZGVmaW5lZCkgPj0gMDtcblxuICAgICAgICAgIGlmICghZm91bmRMZXZlbCkge1xuICAgICAgICAgICAgLy8gb3VyRGVidWcgLT4gJyFmb3VuZExldmVsIDogJyArIGx2bFxuICAgICAgICAgICAgdGhpc1tsdmxdID0gbm9vcDtcbiAgICAgICAgICB9IGVsc2UgaWYgKChmb3JjZURlYnVnRmlsZUFuZExpbmUgfHwgZG9GaWxlTGluZSkgJiYgIWdsb2JhbC53aW5kb3cpIHtcbiAgICAgICAgICAgIHRoaXNbbHZsXSA9IGludGVybmFscy5kZWNvcmF0ZU91dHB1dChsb2dnZXJUb1dyYXBbbHZsXSwgbG9nZ2VyVG9XcmFwKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpc1tsdmxdID0gaW50ZXJuYWxzLnJlc29sdmVPdXRwdXQobG9nZ2VyVG9XcmFwW2x2bF0sIGxvZ2dlclRvV3JhcCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29sb3JXcmFwKHRoaXMpO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhMb2dnZXIsIFt7XG4gICAgICBrZXk6ICdzcGF3bicsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gc3Bhd24oc3ViTmFtZXNwYWNlKSB7XG4gICAgICAgIHJldHVybiBMb2dnZXIuZ2V0TG9nZ2VyKHRoaXMuYmFzZSwgdGhpcy5uYW1lc3BhY2UgKyBzdWJOYW1lc3BhY2UpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogJ2lzRW5hYmxlZCcsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gaXNFbmFibGVkKHN1Yk5hbWVzcGFjZSkge1xuICAgICAgICBpZiAoc3ViTmFtZXNwYWNlID09IG51bGwpIHtcbiAgICAgICAgICBzdWJOYW1lc3BhY2UgPSAnJztcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3VmZml4ID0gc3ViTmFtZXNwYWNlICE9PSAnJyAmJiAhc3ViTmFtZXNwYWNlLmVuZHNXaXRoKCc6JykgPyAnOicgOiAnJztcbiAgICAgICAgcmV0dXJuIGRlYnVnQXBpLmVuYWJsZWQodGhpcy5uYW1lc3BhY2UgKyBzdWJOYW1lc3BhY2UgKyBzdWZmaXgpO1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBMb2dnZXI7XG4gIH0oKTtcblxuICAvLyBjYWNoZSBsb2dnZXIgcmVzdWx0cyBzbyB3ZSBnZXQgY29uc2lzdGVudCBjb2xvcmluZ1xuXG5cbiAgdmFyIF9nZXRMb2dnZXIgPSBmdW5jdGlvbiBfZ2V0TG9nZ2VyKGJhc2VOYW1lc3BhY2UsIG5hbWVzcGFjZSkge1xuICAgIHJldHVybiBuZXcgTG9nZ2VyKGJhc2VOYW1lc3BhY2UsIG5hbWVzcGFjZSk7XG4gIH07XG5cbiAgTG9nZ2VyLmdldExvZ2dlciA9IG1lbW9pemUoX2dldExvZ2dlciwgeyBwcmltaXRpdmU6IHRydWUgfSk7XG5cbiAgcmV0dXJuIExvZ2dlcjtcbn07XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygxMSkpKVxuXG4vKioqLyB9KSxcbi8qIDI4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHByb2Nlc3MpIHtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG52YXIgb3VyRGVidWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKS5zcGF3bignbG9nZ2VyRmFjdG9yeScpO1xuXG4vKlxuICBQdWJsaWM6IEZhY3RvcnkgdG8gY3JlYXRlIGEgZGVidWcgbmFtZXNwYWNlIG9mZiBvZi5cblxuIC0gYGxvZ2dlclRvV3JhcCB7b2JqZWN0fWA6IGxvZ2dlciBvYmplY3QgdG8gd3JhcCwge1dpbnN0b24sIGNvbnNvbGUsIGV0Y31cbiAtIGBkZWJ1Z0FwaSB7b2JqZWN0fWA6IHZpc2lvbiBtZWRpYSBkZWJ1Zywgb3Igb25lIGxpa2UgaXRcbiAtIGBlbmFibGUge3N0cmluZ31gOiBMb2cgbGV2ZWxzIHRvIGVuYWJsZSBmb3IgdGhlIERFQlVHIG5hbWVzcGFjZS4gT3RoZXJ3aXNlIGRlZmF1bHRzIHRvIHByb2Nlc3MuZW52LkRFQlVHXG4gLSBgbGV2ZWxGbnMge2FycmF5W3N0cmluZ119YDogTGV2ZWxzIHRvIGV2YXVsYXRlIGFuZCBwb3NzaWJseSB3cmFwLlxuIC0gYGRvRmlsZUxpbmUge2Jvb2x9YDogVHVybnMgb24gZmlsZUxpbmUgaW5mbyBvbiBhbGwgbG9nIG91dHB1dC5cbiAtIGBkZWNvckxldmVscyB7YXJyYXlbc3RyaW5nXX1gOiBsZXZlbHMgdG8gZGVjb3JhdGUsIGVuYWJsZSwgYW5kIGFkZCBsYXp5RXZhbFxuXG4gIFJldHVybnMgYSBmdW5jaXRvbiB0byBnZW5lcmF0ZSBhIGJhc2UgbG9nZ2VyLlxuKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIGxvZ2dlclRvV3JhcCA9IF9yZWYubG9nZ2VyVG9XcmFwLFxuICAgICAgZGVidWdBcGkgPSBfcmVmLmRlYnVnQXBpLFxuICAgICAgZW5hYmxlID0gX3JlZi5lbmFibGUsXG4gICAgICBsZXZlbEZucyA9IF9yZWYubGV2ZWxGbnMsXG4gICAgICBkb0ZpbGVMaW5lID0gX3JlZi5kb0ZpbGVMaW5lLFxuICAgICAgZGVjb3JMZXZlbHMgPSBfcmVmLmRlY29yTGV2ZWxzO1xuXG4gIGlmIChkZWJ1Z0FwaSA9PSBudWxsKSB7XG4gICAgZGVidWdBcGkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KTtcbiAgfVxuICB2YXIgbm9ybWFsTGV2ZWxzID0gWydpbmZvJywgJ3dhcm4nLCAnZXJyb3InXTtcbiAgaWYgKGxldmVsRm5zID09IG51bGwpIHtcbiAgICBsZXZlbEZucyA9IG5vcm1hbExldmVscztcbiAgfVxuICBpZiAoZGVjb3JMZXZlbHMgPT0gbnVsbCkge1xuICAgIGRlY29yTGV2ZWxzID0gbGV2ZWxGbnM7XG4gIH1cblxuICAvLyB3ZSBoYXZlIG5vIGxldmVsRm5zLCBzbyB3ZSBkaXNhYmxlIGFsbCBkZWNvciB0byBtYWtlIGl0IGFsbCBub29wXG4gIC8vIHNldHRpbmcgbGV2ZWxGbnMgdG8gbm9ybWFsTGV2ZWxzIGFsbG93cyBhbGwgbGV2ZWxGbnMgdG8gYmUgaXRlcmF0ZWQgdG8gbWFrZSB0aGVtIG5vb3BcbiAgaWYgKCFsZXZlbEZucy5sZW5ndGgpIHtcbiAgICBsZXZlbEZucyA9IG5vcm1hbExldmVscztcbiAgICBkZWNvckxldmVscyA9IFtdO1xuICB9XG5cbiAgaWYgKCFlbmFibGUpIHtcbiAgICBvdXJEZWJ1ZyhmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gJ25vdCBlbmFibGVkLCBkZWZhdWx0aW5nIHRvIERFQlVHIGVudic7XG4gICAgfSk7XG4gICAgZGVidWdBcGkuZW5hYmxlKHByb2Nlc3MuZW52LkRFQlVHIHx8IG51bGwpO1xuICB9IGVsc2Uge1xuICAgIG91ckRlYnVnKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAnZW5hYmxlZCc7XG4gICAgfSk7XG4gICAgdmFyIG5hbWVzID0gZW5hYmxlLnNwbGl0KC9bLCBdL2cpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBuYW1lID0gbmFtZXNbaV07XG4gICAgICBpZiAobmFtZS5lbmRzV2l0aCgnKicpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfSBlbHNlIGlmIChuYW1lLmVuZHNXaXRoKCc6JykpIHtcbiAgICAgICAgbmFtZXNbaV0gPSBuYW1lICsgJyonO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmFtZXNbaV0gPSBuYW1lICsgJzoqJztcbiAgICAgIH1cbiAgICB9XG4gICAgbmFtZXMgPSBuYW1lcy5jb25jYXQoKHByb2Nlc3MuZW52LkRFQlVHIHx8ICcnKS5zcGxpdCgnLCcpKTtcbiAgICBkZWJ1Z0FwaS5lbmFibGUobmFtZXMuam9pbignLCcpKTtcbiAgfVxuXG4gIHZhciBfaXNWYWxpZExvZ09iamVjdCA9IGZ1bmN0aW9uIF9pc1ZhbGlkTG9nT2JqZWN0KGxvZ09iamVjdCkge1xuICAgIGlmIChsb2dPYmplY3QgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgdHJ5IHtcbiAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IEFycmF5LmZyb20obGV2ZWxGbnMpW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICB2YXIgdmFsID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgaWYgKGxvZ09iamVjdFt2YWxdID09IG51bGwgfHwgdHlwZW9mIGxvZ09iamVjdFt2YWxdICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICB9XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIGlmICghbG9nZ2VyVG9XcmFwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdiYXNlbG9nZ2VyIHVuZGVmaW5lZCcpO1xuICB9XG4gIHZhciB2YWxpZCA9IF9pc1ZhbGlkTG9nT2JqZWN0KGxvZ2dlclRvV3JhcCk7XG4gIGlmICghdmFsaWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2Jhc2Vsb2dnZXIgaXMgaW52YWxpZCcpO1xuICB9IGVsc2UgaWYgKF90eXBlb2YoJ3N0cmluZycpID09PSB2YWxpZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignYmFzZWxvZ2dlciBpcyBpbnZhbGlkIG9uIGZ1bmNpdG9uICcgKyB2YWxpZCk7XG4gIH1cblxuICB2YXIgTG9nZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNykoe1xuICAgIGxvZ2dlclRvV3JhcDogbG9nZ2VyVG9XcmFwLFxuICAgIGRlY29yTGV2ZWxzOiBkZWNvckxldmVscyxcbiAgICBkb0ZpbGVMaW5lOiBkb0ZpbGVMaW5lLFxuICAgIGRlYnVnQXBpOiBkZWJ1Z0FwaSxcbiAgICBsZXZlbEZuczogbGV2ZWxGbnNcbiAgfSk7XG4gIG91ckRlYnVnKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJ0xvZ2dlciBCb290c3RyYXBwZWQnO1xuICB9KTtcblxuICByZXR1cm4gZnVuY3Rpb24gKGJhc2VOYW1lc3BhY2UpIHtcbiAgICBvdXJEZWJ1ZyhmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gJ2NyZWF0aW5nIGxvZyB3cmFwcGVyJztcbiAgICB9KTtcbiAgICByZXR1cm4gTG9nZ2VyLmdldExvZ2dlcihiYXNlTmFtZXNwYWNlLCAnJyk7XG4gIH07XG59O1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMykpKVxuXG4vKioqLyB9KSxcbi8qIDI5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBjb2xvcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzKSxcbiAgYW5zaVN0eWxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpLFxuICB1dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5OSksXG4gIGRlZmF1bHRMZXZlbHMgPSBbJ2RlYnVnJywgJ2luZm8nLCAnd2FybicsICdlcnJvcicsICdsb2cnXVxuXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obG9nZ2VyLCBsZXZlbHMpIHtcbiAgbGV2ZWxzID0gbGV2ZWxzIHx8IGRlZmF1bHRMZXZlbHNcblxuICBmdW5jdGlvbiBleHRMb2dGbihsZXZlbCkge1xuICAgIHZhciBsb2dGbiA9IGxvZ2dlcltsZXZlbF1cbiAgICAvL3NraXAgc29tZXRoaW5nIGlmIGl0IGRvZXMgbm90IGV4aXN0XG4gICAgaWYoIWxvZ0ZuIHx8IHR5cGVvZiBsb2dGbiAhPT0gJ2Z1bmN0aW9uJylcbiAgICAgIHJldHVyblxuICAgIE9iamVjdC5rZXlzKGFuc2lTdHlsZXMpLmZvckVhY2goZnVuY3Rpb24oc3R5bGUpIHtcbiAgICAgIGxvZ0ZuW3N0eWxlXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZm9ybWF0dGVkID0gdXRpbC5mb3JtYXQuYXBwbHkodXRpbCwgYXJndW1lbnRzKSAvL3N0cmFpZ2h0IGZyb20gbm9kZS5qcy9jb25zb2xlLmpzXG4gICAgICAgIHJldHVybiBsb2dGbihjb2xvcnNbc3R5bGVdKGZvcm1hdHRlZCkpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIHZhciBrZXlPckluZGV4TGV2ZWwsIGx2bFxuXG4gIGZvciAoa2V5T3JJbmRleExldmVsIGluIGxldmVscykge1xuICAgIGx2bCA9IGxldmVscyBpbnN0YW5jZW9mIEFycmF5ID8gbGV2ZWxzW2tleU9ySW5kZXhMZXZlbF0gOiBrZXlPckluZGV4TGV2ZWxcbiAgICBleHRMb2dGbihsdmwpXG4gIH1cblxuICByZXR1cm4gbG9nZ2VyXG59XG5cblxuLyoqKi8gfSksXG4vKiAzMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGVbJ2V4cG9ydHMnXSA9IGZ1bmN0aW9uIHJ1blRoZVRyYXAgKHRleHQsIG9wdGlvbnMpIHtcbiAgdmFyIHJlc3VsdCA9IFwiXCI7XG4gIHRleHQgPSB0ZXh0IHx8IFwiUnVuIHRoZSB0cmFwLCBkcm9wIHRoZSBiYXNzXCI7XG4gIHRleHQgPSB0ZXh0LnNwbGl0KCcnKTtcbiAgdmFyIHRyYXAgPSB7XG4gICAgYTogW1wiXFx1MDA0MFwiLCBcIlxcdTAxMDRcIiwgXCJcXHUwMjNhXCIsIFwiXFx1MDI0NVwiLCBcIlxcdTAzOTRcIiwgXCJcXHUwMzliXCIsIFwiXFx1MDQxNFwiXSxcbiAgICBiOiBbXCJcXHUwMGRmXCIsIFwiXFx1MDE4MVwiLCBcIlxcdTAyNDNcIiwgXCJcXHUwMjZlXCIsIFwiXFx1MDNiMlwiLCBcIlxcdTBlM2ZcIl0sXG4gICAgYzogW1wiXFx1MDBhOVwiLCBcIlxcdTAyM2JcIiwgXCJcXHUwM2ZlXCJdLFxuICAgIGQ6IFtcIlxcdTAwZDBcIiwgXCJcXHUwMThhXCIsIFwiXFx1MDUwMFwiICwgXCJcXHUwNTAxXCIgLFwiXFx1MDUwMlwiLCBcIlxcdTA1MDNcIl0sXG4gICAgZTogW1wiXFx1MDBjYlwiLCBcIlxcdTAxMTVcIiwgXCJcXHUwMThlXCIsIFwiXFx1MDI1OFwiLCBcIlxcdTAzYTNcIiwgXCJcXHUwM2JlXCIsIFwiXFx1MDRiY1wiLCBcIlxcdTBhNmNcIl0sXG4gICAgZjogW1wiXFx1MDRmYVwiXSxcbiAgICBnOiBbXCJcXHUwMjYyXCJdLFxuICAgIGg6IFtcIlxcdTAxMjZcIiwgXCJcXHUwMTk1XCIsIFwiXFx1MDRhMlwiLCBcIlxcdTA0YmFcIiwgXCJcXHUwNGM3XCIsIFwiXFx1MDUwYVwiXSxcbiAgICBpOiBbXCJcXHUwZjBmXCJdLFxuICAgIGo6IFtcIlxcdTAxMzRcIl0sXG4gICAgazogW1wiXFx1MDEzOFwiLCBcIlxcdTA0YTBcIiwgXCJcXHUwNGMzXCIsIFwiXFx1MDUxZVwiXSxcbiAgICBsOiBbXCJcXHUwMTM5XCJdLFxuICAgIG06IFtcIlxcdTAyOGRcIiwgXCJcXHUwNGNkXCIsIFwiXFx1MDRjZVwiLCBcIlxcdTA1MjBcIiwgXCJcXHUwNTIxXCIsIFwiXFx1MGQ2OVwiXSxcbiAgICBuOiBbXCJcXHUwMGQxXCIsIFwiXFx1MDE0YlwiLCBcIlxcdTAxOWRcIiwgXCJcXHUwMzc2XCIsIFwiXFx1MDNhMFwiLCBcIlxcdTA0OGFcIl0sXG4gICAgbzogW1wiXFx1MDBkOFwiLCBcIlxcdTAwZjVcIiwgXCJcXHUwMGY4XCIsIFwiXFx1MDFmZVwiLCBcIlxcdTAyOThcIiwgXCJcXHUwNDdhXCIsIFwiXFx1MDVkZFwiLCBcIlxcdTA2ZGRcIiwgXCJcXHUwZTRmXCJdLFxuICAgIHA6IFtcIlxcdTAxZjdcIiwgXCJcXHUwNDhlXCJdLFxuICAgIHE6IFtcIlxcdTA5Y2RcIl0sXG4gICAgcjogW1wiXFx1MDBhZVwiLCBcIlxcdTAxYTZcIiwgXCJcXHUwMjEwXCIsIFwiXFx1MDI0Y1wiLCBcIlxcdTAyODBcIiwgXCJcXHUwNDJmXCJdLFxuICAgIHM6IFtcIlxcdTAwYTdcIiwgXCJcXHUwM2RlXCIsIFwiXFx1MDNkZlwiLCBcIlxcdTAzZThcIl0sXG4gICAgdDogW1wiXFx1MDE0MVwiLCBcIlxcdTAxNjZcIiwgXCJcXHUwMzczXCJdLFxuICAgIHU6IFtcIlxcdTAxYjFcIiwgXCJcXHUwNTRkXCJdLFxuICAgIHY6IFtcIlxcdTA1ZDhcIl0sXG4gICAgdzogW1wiXFx1MDQyOFwiLCBcIlxcdTA0NjBcIiwgXCJcXHUwNDdjXCIsIFwiXFx1MGQ3MFwiXSxcbiAgICB4OiBbXCJcXHUwNGIyXCIsIFwiXFx1MDRmZVwiLCBcIlxcdTA0ZmNcIiwgXCJcXHUwNGZkXCJdLFxuICAgIHk6IFtcIlxcdTAwYTVcIiwgXCJcXHUwNGIwXCIsIFwiXFx1MDRjYlwiXSxcbiAgICB6OiBbXCJcXHUwMWI1XCIsIFwiXFx1MDI0MFwiXVxuICB9XG4gIHRleHQuZm9yRWFjaChmdW5jdGlvbihjKXtcbiAgICBjID0gYy50b0xvd2VyQ2FzZSgpO1xuICAgIHZhciBjaGFycyA9IHRyYXBbY10gfHwgW1wiIFwiXTtcbiAgICB2YXIgcmFuZCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNoYXJzLmxlbmd0aCk7XG4gICAgaWYgKHR5cGVvZiB0cmFwW2NdICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICByZXN1bHQgKz0gdHJhcFtjXVtyYW5kXTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0ICs9IGM7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcblxufVxuXG5cbi8qKiovIH0pLFxuLyogMzEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuLy8gcGxlYXNlIG5vXG5tb2R1bGVbJ2V4cG9ydHMnXSA9IGZ1bmN0aW9uIHphbGdvKHRleHQsIG9wdGlvbnMpIHtcbiAgdGV4dCA9IHRleHQgfHwgXCIgICBoZSBpcyBoZXJlICAgXCI7XG4gIHZhciBzb3VsID0ge1xuICAgIFwidXBcIiA6IFtcbiAgICAgICfMjScsICfMjicsICfMhCcsICfMhScsXG4gICAgICAnzL8nLCAnzJEnLCAnzIYnLCAnzJAnLFxuICAgICAgJ82SJywgJ82XJywgJ82RJywgJ8yHJyxcbiAgICAgICfMiCcsICfMiicsICfNgicsICfMkycsXG4gICAgICAnzIgnLCAnzYonLCAnzYsnLCAnzYwnLFxuICAgICAgJ8yDJywgJ8yCJywgJ8yMJywgJ82QJyxcbiAgICAgICfMgCcsICfMgScsICfMiycsICfMjycsXG4gICAgICAnzJInLCAnzJMnLCAnzJQnLCAnzL0nLFxuICAgICAgJ8yJJywgJ82jJywgJ82kJywgJ82lJyxcbiAgICAgICfNpicsICfNpycsICfNqCcsICfNqScsXG4gICAgICAnzaonLCAnzasnLCAnzawnLCAnza0nLFxuICAgICAgJ82uJywgJ82vJywgJ8y+JywgJ82bJyxcbiAgICAgICfNhicsICfMmidcbiAgICBdLFxuICAgIFwiZG93blwiIDogW1xuICAgICAgJ8yWJywgJ8yXJywgJ8yYJywgJ8yZJyxcbiAgICAgICfMnCcsICfMnScsICfMnicsICfMnycsXG4gICAgICAnzKAnLCAnzKQnLCAnzKUnLCAnzKYnLFxuICAgICAgJ8ypJywgJ8yqJywgJ8yrJywgJ8ysJyxcbiAgICAgICfMrScsICfMricsICfMrycsICfMsCcsXG4gICAgICAnzLEnLCAnzLInLCAnzLMnLCAnzLknLFxuICAgICAgJ8y6JywgJ8y7JywgJ8y8JywgJ82FJyxcbiAgICAgICfNhycsICfNiCcsICfNiScsICfNjScsXG4gICAgICAnzY4nLCAnzZMnLCAnzZQnLCAnzZUnLFxuICAgICAgJ82WJywgJ82ZJywgJ82aJywgJ8yjJ1xuICAgIF0sXG4gICAgXCJtaWRcIiA6IFtcbiAgICAgICfMlScsICfMmycsICfMgCcsICfMgScsXG4gICAgICAnzZgnLCAnzKEnLCAnzKInLCAnzKcnLFxuICAgICAgJ8yoJywgJ8y0JywgJ8y1JywgJ8y2JyxcbiAgICAgICfNnCcsICfNnScsICfNnicsXG4gICAgICAnzZ8nLCAnzaAnLCAnzaInLCAnzLgnLFxuICAgICAgJ8y3JywgJ82hJywgJyDSiSdcbiAgICBdXG4gIH0sXG4gIGFsbCA9IFtdLmNvbmNhdChzb3VsLnVwLCBzb3VsLmRvd24sIHNvdWwubWlkKSxcbiAgemFsZ28gPSB7fTtcblxuICBmdW5jdGlvbiByYW5kb21OdW1iZXIocmFuZ2UpIHtcbiAgICB2YXIgciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHJhbmdlKTtcbiAgICByZXR1cm4gcjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzX2NoYXIoY2hhcmFjdGVyKSB7XG4gICAgdmFyIGJvb2wgPSBmYWxzZTtcbiAgICBhbGwuZmlsdGVyKGZ1bmN0aW9uIChpKSB7XG4gICAgICBib29sID0gKGkgPT09IGNoYXJhY3Rlcik7XG4gICAgfSk7XG4gICAgcmV0dXJuIGJvb2w7XG4gIH1cbiAgXG5cbiAgZnVuY3Rpb24gaGVDb21lcyh0ZXh0LCBvcHRpb25zKSB7XG4gICAgdmFyIHJlc3VsdCA9ICcnLCBjb3VudHMsIGw7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgb3B0aW9uc1tcInVwXCJdID0gICB0eXBlb2Ygb3B0aW9uc1tcInVwXCJdICAgIT09ICd1bmRlZmluZWQnID8gb3B0aW9uc1tcInVwXCJdICAgOiB0cnVlO1xuICAgIG9wdGlvbnNbXCJtaWRcIl0gPSAgdHlwZW9mIG9wdGlvbnNbXCJtaWRcIl0gICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnNbXCJtaWRcIl0gIDogdHJ1ZTtcbiAgICBvcHRpb25zW1wiZG93blwiXSA9IHR5cGVvZiBvcHRpb25zW1wiZG93blwiXSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zW1wiZG93blwiXSA6IHRydWU7XG4gICAgb3B0aW9uc1tcInNpemVcIl0gPSB0eXBlb2Ygb3B0aW9uc1tcInNpemVcIl0gIT09ICd1bmRlZmluZWQnID8gb3B0aW9uc1tcInNpemVcIl0gOiBcIm1heGlcIjtcbiAgICB0ZXh0ID0gdGV4dC5zcGxpdCgnJyk7XG4gICAgZm9yIChsIGluIHRleHQpIHtcbiAgICAgIGlmIChpc19jaGFyKGwpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgcmVzdWx0ID0gcmVzdWx0ICsgdGV4dFtsXTtcbiAgICAgIGNvdW50cyA9IHtcInVwXCIgOiAwLCBcImRvd25cIiA6IDAsIFwibWlkXCIgOiAwfTtcbiAgICAgIHN3aXRjaCAob3B0aW9ucy5zaXplKSB7XG4gICAgICBjYXNlICdtaW5pJzpcbiAgICAgICAgY291bnRzLnVwID0gcmFuZG9tTnVtYmVyKDgpO1xuICAgICAgICBjb3VudHMubWlkID0gcmFuZG9tTnVtYmVyKDIpO1xuICAgICAgICBjb3VudHMuZG93biA9IHJhbmRvbU51bWJlcig4KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdtYXhpJzpcbiAgICAgICAgY291bnRzLnVwID0gcmFuZG9tTnVtYmVyKDE2KSArIDM7XG4gICAgICAgIGNvdW50cy5taWQgPSByYW5kb21OdW1iZXIoNCkgKyAxO1xuICAgICAgICBjb3VudHMuZG93biA9IHJhbmRvbU51bWJlcig2NCkgKyAzO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGNvdW50cy51cCA9IHJhbmRvbU51bWJlcig4KSArIDE7XG4gICAgICAgIGNvdW50cy5taWQgPSByYW5kb21OdW1iZXIoNikgLyAyO1xuICAgICAgICBjb3VudHMuZG93biA9IHJhbmRvbU51bWJlcig4KSArIDE7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICB2YXIgYXJyID0gW1widXBcIiwgXCJtaWRcIiwgXCJkb3duXCJdO1xuICAgICAgZm9yICh2YXIgZCBpbiBhcnIpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gYXJyW2RdO1xuICAgICAgICBmb3IgKHZhciBpID0gMCA7IGkgPD0gY291bnRzW2luZGV4XTsgaSsrKSB7XG4gICAgICAgICAgaWYgKG9wdGlvbnNbaW5kZXhdKSB7XG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHQgKyBzb3VsW2luZGV4XVtyYW5kb21OdW1iZXIoc291bFtpbmRleF0ubGVuZ3RoKV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgLy8gZG9uJ3Qgc3VtbW9uIGhpbVxuICByZXR1cm4gaGVDb21lcyh0ZXh0LCBvcHRpb25zKTtcbn1cblxuXG4vKioqLyB9KSxcbi8qIDMyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBjb2xvcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG5tb2R1bGVbJ2V4cG9ydHMnXSA9IGZ1bmN0aW9uICgpIHtcblxuICAvL1xuICAvLyBFeHRlbmRzIHByb3RvdHlwZSBvZiBuYXRpdmUgc3RyaW5nIG9iamVjdCB0byBhbGxvdyBmb3IgXCJmb29cIi5yZWQgc3ludGF4XG4gIC8vXG4gIHZhciBhZGRQcm9wZXJ0eSA9IGZ1bmN0aW9uIChjb2xvciwgZnVuYykge1xuICAgIFN0cmluZy5wcm90b3R5cGUuX19kZWZpbmVHZXR0ZXJfXyhjb2xvciwgZnVuYyk7XG4gIH07XG5cbiAgdmFyIHNlcXVlbmNlciA9IGZ1bmN0aW9uIHNlcXVlbmNlciAobWFwLCBzdHIpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBleHBsb2RlZCA9IHRoaXMuc3BsaXQoXCJcIiksIGkgPSAwO1xuICAgICAgICBleHBsb2RlZCA9IGV4cGxvZGVkLm1hcChtYXApO1xuICAgICAgICByZXR1cm4gZXhwbG9kZWQuam9pbihcIlwiKTtcbiAgICAgIH1cbiAgfTtcblxuICBhZGRQcm9wZXJ0eSgnc3RyaXAnLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGNvbG9ycy5zdHJpcCh0aGlzKTtcbiAgfSk7XG5cbiAgYWRkUHJvcGVydHkoJ3N0cmlwQ29sb3JzJywgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBjb2xvcnMuc3RyaXAodGhpcyk7XG4gIH0pO1xuXG4gIGFkZFByb3BlcnR5KFwidHJhcFwiLCBmdW5jdGlvbigpe1xuICAgIHJldHVybiBjb2xvcnMudHJhcCh0aGlzKTtcbiAgfSk7XG5cbiAgYWRkUHJvcGVydHkoXCJ6YWxnb1wiLCBmdW5jdGlvbigpe1xuICAgIHJldHVybiBjb2xvcnMuemFsZ28odGhpcyk7XG4gIH0pO1xuXG4gIGFkZFByb3BlcnR5KFwiemVicmFcIiwgZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gY29sb3JzLnplYnJhKHRoaXMpO1xuICB9KTtcblxuICBhZGRQcm9wZXJ0eShcInJhaW5ib3dcIiwgZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gY29sb3JzLnJhaW5ib3codGhpcyk7XG4gIH0pO1xuXG4gIGFkZFByb3BlcnR5KFwicmFuZG9tXCIsIGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIGNvbG9ycy5yYW5kb20odGhpcyk7XG4gIH0pO1xuXG4gIGFkZFByb3BlcnR5KFwiYW1lcmljYVwiLCBmdW5jdGlvbigpe1xuICAgIHJldHVybiBjb2xvcnMuYW1lcmljYSh0aGlzKTtcbiAgfSk7XG5cbiAgLy9cbiAgLy8gSXRlcmF0ZSB0aHJvdWdoIGFsbCBkZWZhdWx0IHN0eWxlcyBhbmQgY29sb3JzXG4gIC8vXG4gIHZhciB4ID0gT2JqZWN0LmtleXMoY29sb3JzLnN0eWxlcyk7XG4gIHguZm9yRWFjaChmdW5jdGlvbiAoc3R5bGUpIHtcbiAgICBhZGRQcm9wZXJ0eShzdHlsZSwgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGNvbG9ycy5zdHlsaXplKHRoaXMsIHN0eWxlKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gYXBwbHlUaGVtZSh0aGVtZSkge1xuICAgIC8vXG4gICAgLy8gUmVtYXJrOiBUaGlzIGlzIGEgbGlzdCBvZiBtZXRob2RzIHRoYXQgZXhpc3RcbiAgICAvLyBvbiBTdHJpbmcgdGhhdCB5b3Ugc2hvdWxkIG5vdCBvdmVyd3JpdGUuXG4gICAgLy9cbiAgICB2YXIgc3RyaW5nUHJvdG90eXBlQmxhY2tsaXN0ID0gW1xuICAgICAgJ19fZGVmaW5lR2V0dGVyX18nLCAnX19kZWZpbmVTZXR0ZXJfXycsICdfX2xvb2t1cEdldHRlcl9fJywgJ19fbG9va3VwU2V0dGVyX18nLCAnY2hhckF0JywgJ2NvbnN0cnVjdG9yJyxcbiAgICAgICdoYXNPd25Qcm9wZXJ0eScsICdpc1Byb3RvdHlwZU9mJywgJ3Byb3BlcnR5SXNFbnVtZXJhYmxlJywgJ3RvTG9jYWxlU3RyaW5nJywgJ3RvU3RyaW5nJywgJ3ZhbHVlT2YnLCAnY2hhckNvZGVBdCcsXG4gICAgICAnaW5kZXhPZicsICdsYXN0SW5kZXhvZicsICdsZW5ndGgnLCAnbG9jYWxlQ29tcGFyZScsICdtYXRjaCcsICdyZXBsYWNlJywgJ3NlYXJjaCcsICdzbGljZScsICdzcGxpdCcsICdzdWJzdHJpbmcnLFxuICAgICAgJ3RvTG9jYWxlTG93ZXJDYXNlJywgJ3RvTG9jYWxlVXBwZXJDYXNlJywgJ3RvTG93ZXJDYXNlJywgJ3RvVXBwZXJDYXNlJywgJ3RyaW0nLCAndHJpbUxlZnQnLCAndHJpbVJpZ2h0J1xuICAgIF07XG5cbiAgICBPYmplY3Qua2V5cyh0aGVtZSkuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICAgICAgaWYgKHN0cmluZ1Byb3RvdHlwZUJsYWNrbGlzdC5pbmRleE9mKHByb3ApICE9PSAtMSkge1xuICAgICAgICBjb25zb2xlLmxvZygnd2FybjogJy5yZWQgKyAoJ1N0cmluZy5wcm90b3R5cGUnICsgcHJvcCkubWFnZW50YSArICcgaXMgcHJvYmFibHkgc29tZXRoaW5nIHlvdSBkb25cXCd0IHdhbnQgdG8gb3ZlcnJpZGUuIElnbm9yaW5nIHN0eWxlIG5hbWUnKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBpZiAodHlwZW9mKHRoZW1lW3Byb3BdKSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBjb2xvcnNbcHJvcF0gPSBjb2xvcnNbdGhlbWVbcHJvcF1dO1xuICAgICAgICAgIGFkZFByb3BlcnR5KHByb3AsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBjb2xvcnNbdGhlbWVbcHJvcF1dKHRoaXMpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGFkZFByb3BlcnR5KHByb3AsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciByZXQgPSB0aGlzO1xuICAgICAgICAgICAgZm9yICh2YXIgdCA9IDA7IHQgPCB0aGVtZVtwcm9wXS5sZW5ndGg7IHQrKykge1xuICAgICAgICAgICAgICByZXQgPSBjb2xvcnNbdGhlbWVbcHJvcF1bdF1dKHJldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBjb2xvcnMuc2V0VGhlbWUgPSBmdW5jdGlvbiAodGhlbWUpIHtcbiAgICBpZiAodHlwZW9mIHRoZW1lID09PSAnc3RyaW5nJykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29sb3JzLnRoZW1lc1t0aGVtZV0gPSAhKGZ1bmN0aW9uIHdlYnBhY2tNaXNzaW5nTW9kdWxlKCkgeyB2YXIgZSA9IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSBcXFwiLlxcXCJcIik7IGUuY29kZSA9ICdNT0RVTEVfTk9UX0ZPVU5EJzsgdGhyb3cgZTsgfSgpKTtcbiAgICAgICAgYXBwbHlUaGVtZShjb2xvcnMudGhlbWVzW3RoZW1lXSk7XG4gICAgICAgIHJldHVybiBjb2xvcnMudGhlbWVzW3RoZW1lXTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICByZXR1cm4gZXJyO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBhcHBseVRoZW1lKHRoZW1lKTtcbiAgICB9XG4gIH07XG5cbn07XG5cbi8qKiovIH0pLFxuLyogMzMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGNvbG9ycyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5tb2R1bGVbJ2V4cG9ydHMnXSA9IGNvbG9ycztcblxuLy8gUmVtYXJrOiBCeSBkZWZhdWx0LCBjb2xvcnMgd2lsbCBhZGQgc3R5bGUgcHJvcGVydGllcyB0byBTdHJpbmcucHJvdG90eXBlXG4vL1xuLy8gSWYgeW91IGRvbid0IHdpc2ggdG8gZXh0ZW5kIFN0cmluZy5wcm90b3R5cGUgeW91IGNhbiBkbyB0aGlzIGluc3RlYWQgYW5kIG5hdGl2ZSBTdHJpbmcgd2lsbCBub3QgYmUgdG91Y2hlZFxuLy9cbi8vICAgdmFyIGNvbG9ycyA9IHJlcXVpcmUoJ2NvbG9ycy9zYWZlKTtcbi8vICAgY29sb3JzLnJlZChcImZvb1wiKVxuLy9cbi8vXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDMyKSgpO1xuXG4vKioqLyB9KSxcbi8qIDM0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBjb2xvcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG5tb2R1bGVbJ2V4cG9ydHMnXSA9IChmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChsZXR0ZXIsIGksIGV4cGxvZGVkKSB7XG4gICAgaWYobGV0dGVyID09PSBcIiBcIikgcmV0dXJuIGxldHRlcjtcbiAgICBzd2l0Y2goaSUzKSB7XG4gICAgICBjYXNlIDA6IHJldHVybiBjb2xvcnMucmVkKGxldHRlcik7XG4gICAgICBjYXNlIDE6IHJldHVybiBjb2xvcnMud2hpdGUobGV0dGVyKVxuICAgICAgY2FzZSAyOiByZXR1cm4gY29sb3JzLmJsdWUobGV0dGVyKVxuICAgIH1cbiAgfVxufSkoKTtcblxuLyoqKi8gfSksXG4vKiAzNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgY29sb3JzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxubW9kdWxlWydleHBvcnRzJ10gPSAoZnVuY3Rpb24gKCkge1xuICB2YXIgcmFpbmJvd0NvbG9ycyA9IFsncmVkJywgJ3llbGxvdycsICdncmVlbicsICdibHVlJywgJ21hZ2VudGEnXTsgLy9Sb1kgRyBCaVZcbiAgcmV0dXJuIGZ1bmN0aW9uIChsZXR0ZXIsIGksIGV4cGxvZGVkKSB7XG4gICAgaWYgKGxldHRlciA9PT0gXCIgXCIpIHtcbiAgICAgIHJldHVybiBsZXR0ZXI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjb2xvcnNbcmFpbmJvd0NvbG9yc1tpKysgJSByYWluYm93Q29sb3JzLmxlbmd0aF1dKGxldHRlcik7XG4gICAgfVxuICB9O1xufSkoKTtcblxuXG5cbi8qKiovIH0pLFxuLyogMzYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGNvbG9ycyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbm1vZHVsZVsnZXhwb3J0cyddID0gKGZ1bmN0aW9uICgpIHtcbiAgdmFyIGF2YWlsYWJsZSA9IFsndW5kZXJsaW5lJywgJ2ludmVyc2UnLCAnZ3JleScsICd5ZWxsb3cnLCAncmVkJywgJ2dyZWVuJywgJ2JsdWUnLCAnd2hpdGUnLCAnY3lhbicsICdtYWdlbnRhJ107XG4gIHJldHVybiBmdW5jdGlvbihsZXR0ZXIsIGksIGV4cGxvZGVkKSB7XG4gICAgcmV0dXJuIGxldHRlciA9PT0gXCIgXCIgPyBsZXR0ZXIgOiBjb2xvcnNbYXZhaWxhYmxlW01hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIChhdmFpbGFibGUubGVuZ3RoIC0gMSkpXV0obGV0dGVyKTtcbiAgfTtcbn0pKCk7XG5cbi8qKiovIH0pLFxuLyogMzcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGNvbG9ycyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbm1vZHVsZVsnZXhwb3J0cyddID0gZnVuY3Rpb24gKGxldHRlciwgaSwgZXhwbG9kZWQpIHtcbiAgcmV0dXJuIGkgJSAyID09PSAwID8gbGV0dGVyIDogY29sb3JzLmludmVyc2UobGV0dGVyKTtcbn07XG5cbi8qKiovIH0pLFxuLyogMzggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHByb2Nlc3MpIHsvKlxuVGhlIE1JVCBMaWNlbnNlIChNSVQpXG5cbkNvcHlyaWdodCAoYykgU2luZHJlIFNvcmh1cyA8c2luZHJlc29yaHVzQGdtYWlsLmNvbT4gKHNpbmRyZXNvcmh1cy5jb20pXG5cblBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcblxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbmFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG5JTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cblRIRSBTT0ZUV0FSRS5cblxuKi9cblxudmFyIGFyZ3YgPSBwcm9jZXNzLmFyZ3Y7XG5cbm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uICgpIHtcbiAgaWYgKGFyZ3YuaW5kZXhPZignLS1uby1jb2xvcicpICE9PSAtMSB8fFxuICAgIGFyZ3YuaW5kZXhPZignLS1jb2xvcj1mYWxzZScpICE9PSAtMSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChhcmd2LmluZGV4T2YoJy0tY29sb3InKSAhPT0gLTEgfHxcbiAgICBhcmd2LmluZGV4T2YoJy0tY29sb3I9dHJ1ZScpICE9PSAtMSB8fFxuICAgIGFyZ3YuaW5kZXhPZignLS1jb2xvcj1hbHdheXMnKSAhPT0gLTEpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmIChwcm9jZXNzLnN0ZG91dCAmJiAhcHJvY2Vzcy5zdGRvdXQuaXNUVFkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAocHJvY2Vzcy5wbGF0Zm9ybSA9PT0gJ3dpbjMyJykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKCdDT0xPUlRFUk0nIGluIHByb2Nlc3MuZW52KSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAocHJvY2Vzcy5lbnYuVEVSTSA9PT0gJ2R1bWInKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKC9ec2NyZWVufF54dGVybXxednQxMDB8Y29sb3J8YW5zaXxjeWd3aW58bGludXgvaS50ZXN0KHByb2Nlc3MuZW52LlRFUk0pKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59KSgpO1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMykpKVxuXG4vKioqLyB9KSxcbi8qIDM5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG5tb2R1bGUuZXhwb3J0cy5zcGF3bmFibGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQzKTtcblxuXG4vKioqLyB9KSxcbi8qIDQwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBwcm9wSXNFbnVtZXJhYmxlID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcblxuZnVuY3Rpb24gdG9PYmplY3QodmFsKSB7XG5cdGlmICh2YWwgPT09IG51bGwgfHwgdmFsID09PSB1bmRlZmluZWQpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3QuYXNzaWduIGNhbm5vdCBiZSBjYWxsZWQgd2l0aCBudWxsIG9yIHVuZGVmaW5lZCcpO1xuXHR9XG5cblx0cmV0dXJuIE9iamVjdCh2YWwpO1xufVxuXG5mdW5jdGlvbiBzaG91bGRVc2VOYXRpdmUoKSB7XG5cdHRyeSB7XG5cdFx0aWYgKCFPYmplY3QuYXNzaWduKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gRGV0ZWN0IGJ1Z2d5IHByb3BlcnR5IGVudW1lcmF0aW9uIG9yZGVyIGluIG9sZGVyIFY4IHZlcnNpb25zLlxuXG5cdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9NDExOFxuXHRcdHZhciB0ZXN0MSA9IG5ldyBTdHJpbmcoJ2FiYycpOyAgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXHRcdHRlc3QxWzVdID0gJ2RlJztcblx0XHRpZiAoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGVzdDEpWzBdID09PSAnNScpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMDU2XG5cdFx0dmFyIHRlc3QyID0ge307XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG5cdFx0XHR0ZXN0MlsnXycgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKGkpXSA9IGk7XG5cdFx0fVxuXHRcdHZhciBvcmRlcjIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0ZXN0MikubWFwKGZ1bmN0aW9uIChuKSB7XG5cdFx0XHRyZXR1cm4gdGVzdDJbbl07XG5cdFx0fSk7XG5cdFx0aWYgKG9yZGVyMi5qb2luKCcnKSAhPT0gJzAxMjM0NTY3ODknKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzA1NlxuXHRcdHZhciB0ZXN0MyA9IHt9O1xuXHRcdCdhYmNkZWZnaGlqa2xtbm9wcXJzdCcuc3BsaXQoJycpLmZvckVhY2goZnVuY3Rpb24gKGxldHRlcikge1xuXHRcdFx0dGVzdDNbbGV0dGVyXSA9IGxldHRlcjtcblx0XHR9KTtcblx0XHRpZiAoT2JqZWN0LmtleXMoT2JqZWN0LmFzc2lnbih7fSwgdGVzdDMpKS5qb2luKCcnKSAhPT1cblx0XHRcdFx0J2FiY2RlZmdoaWprbG1ub3BxcnN0Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHJldHVybiB0cnVlO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0Ly8gV2UgZG9uJ3QgZXhwZWN0IGFueSBvZiB0aGUgYWJvdmUgdG8gdGhyb3csIGJ1dCBiZXR0ZXIgdG8gYmUgc2FmZS5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzaG91bGRVc2VOYXRpdmUoKSA/IE9iamVjdC5hc3NpZ24gOiBmdW5jdGlvbiAodGFyZ2V0LCBzb3VyY2UpIHtcblx0dmFyIGZyb207XG5cdHZhciB0byA9IHRvT2JqZWN0KHRhcmdldCk7XG5cdHZhciBzeW1ib2xzO1xuXG5cdGZvciAodmFyIHMgPSAxOyBzIDwgYXJndW1lbnRzLmxlbmd0aDsgcysrKSB7XG5cdFx0ZnJvbSA9IE9iamVjdChhcmd1bWVudHNbc10pO1xuXG5cdFx0Zm9yICh2YXIga2V5IGluIGZyb20pIHtcblx0XHRcdGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGZyb20sIGtleSkpIHtcblx0XHRcdFx0dG9ba2V5XSA9IGZyb21ba2V5XTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuXHRcdFx0c3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZnJvbSk7XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHN5bWJvbHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0aWYgKHByb3BJc0VudW1lcmFibGUuY2FsbChmcm9tLCBzeW1ib2xzW2ldKSkge1xuXHRcdFx0XHRcdHRvW3N5bWJvbHNbaV1dID0gZnJvbVtzeW1ib2xzW2ldXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiB0bztcbn07XG5cblxuLyoqKi8gfSksXG4vKiA0MSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGZvcm1hdEFyZ3MoYXJncykge1xuICB2YXIgZGVidWdBcGkgPSBhcmdzLmRlYnVnQXBpO1xuICB2YXIgb3B0aW9ucyA9IGFyZ3Mub3B0aW9ucztcblxuICBpZihvcHRpb25zLmZvcm1hdEFyZ3MgPT0gdHJ1ZSl7XG4gICAgLypcbiAgICBmaXhpbmcgaXQgc28gd2UgZG9uJ3QgZ2V0IHJlZHVuZGFudCB0aW1lc3RhbXBzIG9uIHByb2RcbiAgICBodHRwczovL2dpdGh1Yi5jb20vdmlzaW9ubWVkaWEvZGVidWcvaXNzdWVzLzE2MVxuICAgICovXG4gICAgZGVidWdBcGkuZm9ybWF0QXJncyA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMudXNlQ29sb3JzKVxuICAgICAgICBhcmd1bWVudHNbMF0gPSAnICBcXHUwMDFiWzknICsgdGhpcy5jb2xvciArICdtJyArIHRoaXMubmFtZXNwYWNlICsgJyAnICsgJ1xcdTAwMWJbMG0nICsgYXJndW1lbnRzWzBdO1xuICAgICAgZWxzZVxuICAgICAgICBhcmd1bWVudHNbMF0gPSAnICAnICsgdGhpcy5uYW1lc3BhY2UgKyAnICcgKyBhcmd1bWVudHNbMF07XG5cbiAgICAgIHJldHVybiBhcmd1bWVudHM7XG4gICAgfVxuICB9XG4gIGVsc2UgaWYgKCB0eXBlb2Ygb3B0aW9ucy5mb3JtYXRBcmdzID09PSAnZnVuY3Rpb24nKXtcbiAgICBkZWJ1Z0FwaS5mb3JtYXRBcmdzID0gb3B0aW9ucy5mb3JtYXRBcmdzO1xuICB9XG5cbiAgcmV0dXJuIGRlYnVnQXBpO1xufVxuXG5cbi8qKiovIH0pLFxuLyogNDIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXG5cbnZhciBzbGljZSA9IFtdLnNsaWNlLFxuICBvYmplY3RBc3NpZ24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKTtcblxuXG5mdW5jdGlvbiBfcmVzb2x2ZU91dHB1dChmdW5jLCBiaW5kVGhpcykge1xuICB2YXIgd3JhcHBlZCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBhcmdzO1xuICAgIGFyZ3MgPSAxIDw9IGFyZ3VtZW50cy5sZW5ndGggPyBzbGljZS5jYWxsKGFyZ3VtZW50cywgMCkgOiBbXTtcblxuICAgIC8vIGxhenkgZnVuY3Rpb24gZXZhbCB0byBrZWVwIG91dHB1dCBtZW1vcnkgcHJlc3N1cmUgZG93biwgaWYgbm90IHVzZWRcbiAgICBpZiAodHlwZW9mIGFyZ3NbMF0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGFyZ3NbMF0gPSBhcmdzWzBdKCk7XG4gICAgfVxuICAgIHJldHVybiBmdW5jLmFwcGx5KGJpbmRUaGlzLCBhcmdzKTtcbiAgfTtcbiAgb2JqZWN0QXNzaWduKHdyYXBwZWQsIGZ1bmMpO1xuXG4gIHJldHVybiB3cmFwcGVkO1xufTtcblxuXG5mdW5jdGlvbiB3cmFwRXZhbChkZWJ1Zykge1xuXG4gIHZhciBkZWJ1Z09yaWcgPSBkZWJ1ZyxcbiAgICBub29wID0gZnVuY3Rpb24oKXt9O1xuXG4gIGRlYnVnID0gZnVuY3Rpb24gKG5hbWVzcGFjZSkge1xuXG4gICAgdmFyIGluc3RhbmNlID0gZGVidWdPcmlnKG5hbWVzcGFjZSk7XG5cbiAgICAvLyBpZiB3ZSdyZSBub3QgZW5hYmxlZCB0aGVuIGRvbid0IGF0dGVtcHQgdG8gbG9nIGFueXRoaW5nXG4gICAgLy8gaWYgYSBkZWJ1ZyBuYW1lc3BhY2Ugd3JhcHMgaXRzIGRlYnVnIGluIGEgY2xvc3VyZSB0aGVuIGl0IG5ldmVyIGFsbG9jYXRlcyBhbnl0aGluZyBidXQgdGhlIGZ1bmN0aW9uIGl0c2VsZlxuICAgIGlmICghaW5zdGFuY2UuZW5hYmxlZCl7XG4gICAgICBvYmplY3RBc3NpZ24obm9vcCwgaW5zdGFuY2UpO1xuICAgICAgaW5zdGFuY2UgPSBub29wO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGluc3RhbmNlID0gX3Jlc29sdmVPdXRwdXQoaW5zdGFuY2UpO1xuICAgIH1cbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH1cblxuICBvYmplY3RBc3NpZ24oZGVidWcsIGRlYnVnT3JpZyk7XG5cbiAgcmV0dXJuIGRlYnVnO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHdyYXBFdmFsO1xuXG5cbi8qKiovIH0pLFxuLyogNDMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuZnVuY3Rpb24gc3Bhd25GYWN0b3J5KG5hbWVzcGFjZSwgZGVidWdGYWJGYWN0b3J5KSB7XG4gIG5hbWVzcGFjZSA9IG5hbWVzcGFjZSB8fCAnJztcblxuICBpZighZGVidWdGYWJGYWN0b3J5KXtcbiAgICBkZWJ1Z0ZhYkZhY3RvcnkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gRGVidWdnZXIoYmFzZSwgbnMpe1xuICAgIGJhc2UgPSBiYXNlIHx8ICcnO1xuICAgIG5zID0gbnMgfHwgJyc7XG4gICAgdmFyIG5ld05zID0gbnMgPyBiYXNlICsgJzonICsgbnMgOiBiYXNlO1xuICAgIHZhciBkZWJ1ZyA9IGRlYnVnRmFiRmFjdG9yeShuZXdOcyk7XG4gICAgdGhpcy5kZWJ1ZyA9IGRlYnVnO1xuICAgIHRoaXMuZGVidWcuc3Bhd24gPSB0aGlzLnNwYXduO1xuICB9XG5cbiAgRGVidWdnZXIucHJvdG90eXBlLnNwYXduID0gZnVuY3Rpb24obnMpIHtcbiAgICB2YXIgZGJnID0gbmV3IERlYnVnZ2VyKHRoaXMubmFtZXNwYWNlLCBucyk7XG5cbiAgICByZXR1cm4gZGJnLmRlYnVnO1xuICB9O1xuXG4gIHZhciByb290RGVidWcgPSAobmV3IERlYnVnZ2VyKG5hbWVzcGFjZSkpLmRlYnVnO1xuXG4gIHJldHVybiByb290RGVidWc7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHNwYXduRmFjdG9yeTtcblxuXG4vKioqLyB9KSxcbi8qIDQ0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblxuLyoqXG4gKiBUaGlzIGlzIHRoZSBjb21tb24gbG9naWMgZm9yIGJvdGggdGhlIE5vZGUuanMgYW5kIHdlYiBicm93c2VyXG4gKiBpbXBsZW1lbnRhdGlvbnMgb2YgYGRlYnVnKClgLlxuICpcbiAqIEV4cG9zZSBgZGVidWcoKWAgYXMgdGhlIG1vZHVsZS5cbiAqL1xuXG5leHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVEZWJ1Zy5kZWJ1ZyA9IGNyZWF0ZURlYnVnWydkZWZhdWx0J10gPSBjcmVhdGVEZWJ1ZztcbmV4cG9ydHMuY29lcmNlID0gY29lcmNlO1xuZXhwb3J0cy5kaXNhYmxlID0gZGlzYWJsZTtcbmV4cG9ydHMuZW5hYmxlID0gZW5hYmxlO1xuZXhwb3J0cy5lbmFibGVkID0gZW5hYmxlZDtcbmV4cG9ydHMuaHVtYW5pemUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkwKTtcblxuLyoqXG4gKiBUaGUgY3VycmVudGx5IGFjdGl2ZSBkZWJ1ZyBtb2RlIG5hbWVzLCBhbmQgbmFtZXMgdG8gc2tpcC5cbiAqL1xuXG5leHBvcnRzLm5hbWVzID0gW107XG5leHBvcnRzLnNraXBzID0gW107XG5cbi8qKlxuICogTWFwIG9mIHNwZWNpYWwgXCIlblwiIGhhbmRsaW5nIGZ1bmN0aW9ucywgZm9yIHRoZSBkZWJ1ZyBcImZvcm1hdFwiIGFyZ3VtZW50LlxuICpcbiAqIFZhbGlkIGtleSBuYW1lcyBhcmUgYSBzaW5nbGUsIGxvd2VyIG9yIHVwcGVyLWNhc2UgbGV0dGVyLCBpLmUuIFwiblwiIGFuZCBcIk5cIi5cbiAqL1xuXG5leHBvcnRzLmZvcm1hdHRlcnMgPSB7fTtcblxuLyoqXG4gKiBQcmV2aW91cyBsb2cgdGltZXN0YW1wLlxuICovXG5cbnZhciBwcmV2VGltZTtcblxuLyoqXG4gKiBTZWxlY3QgYSBjb2xvci5cbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHNlbGVjdENvbG9yKG5hbWVzcGFjZSkge1xuICB2YXIgaGFzaCA9IDAsIGk7XG5cbiAgZm9yIChpIGluIG5hbWVzcGFjZSkge1xuICAgIGhhc2ggID0gKChoYXNoIDw8IDUpIC0gaGFzaCkgKyBuYW1lc3BhY2UuY2hhckNvZGVBdChpKTtcbiAgICBoYXNoIHw9IDA7IC8vIENvbnZlcnQgdG8gMzJiaXQgaW50ZWdlclxuICB9XG5cbiAgcmV0dXJuIGV4cG9ydHMuY29sb3JzW01hdGguYWJzKGhhc2gpICUgZXhwb3J0cy5jb2xvcnMubGVuZ3RoXTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBkZWJ1Z2dlciB3aXRoIHRoZSBnaXZlbiBgbmFtZXNwYWNlYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gY3JlYXRlRGVidWcobmFtZXNwYWNlKSB7XG5cbiAgZnVuY3Rpb24gZGVidWcoKSB7XG4gICAgLy8gZGlzYWJsZWQ/XG4gICAgaWYgKCFkZWJ1Zy5lbmFibGVkKSByZXR1cm47XG5cbiAgICB2YXIgc2VsZiA9IGRlYnVnO1xuXG4gICAgLy8gc2V0IGBkaWZmYCB0aW1lc3RhbXBcbiAgICB2YXIgY3VyciA9ICtuZXcgRGF0ZSgpO1xuICAgIHZhciBtcyA9IGN1cnIgLSAocHJldlRpbWUgfHwgY3Vycik7XG4gICAgc2VsZi5kaWZmID0gbXM7XG4gICAgc2VsZi5wcmV2ID0gcHJldlRpbWU7XG4gICAgc2VsZi5jdXJyID0gY3VycjtcbiAgICBwcmV2VGltZSA9IGN1cnI7XG5cbiAgICAvLyB0dXJuIHRoZSBgYXJndW1lbnRzYCBpbnRvIGEgcHJvcGVyIEFycmF5XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldO1xuICAgIH1cblxuICAgIGFyZ3NbMF0gPSBleHBvcnRzLmNvZXJjZShhcmdzWzBdKTtcblxuICAgIGlmICgnc3RyaW5nJyAhPT0gdHlwZW9mIGFyZ3NbMF0pIHtcbiAgICAgIC8vIGFueXRoaW5nIGVsc2UgbGV0J3MgaW5zcGVjdCB3aXRoICVPXG4gICAgICBhcmdzLnVuc2hpZnQoJyVPJyk7XG4gICAgfVxuXG4gICAgLy8gYXBwbHkgYW55IGBmb3JtYXR0ZXJzYCB0cmFuc2Zvcm1hdGlvbnNcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIGFyZ3NbMF0gPSBhcmdzWzBdLnJlcGxhY2UoLyUoW2EtekEtWiVdKS9nLCBmdW5jdGlvbihtYXRjaCwgZm9ybWF0KSB7XG4gICAgICAvLyBpZiB3ZSBlbmNvdW50ZXIgYW4gZXNjYXBlZCAlIHRoZW4gZG9uJ3QgaW5jcmVhc2UgdGhlIGFycmF5IGluZGV4XG4gICAgICBpZiAobWF0Y2ggPT09ICclJScpIHJldHVybiBtYXRjaDtcbiAgICAgIGluZGV4Kys7XG4gICAgICB2YXIgZm9ybWF0dGVyID0gZXhwb3J0cy5mb3JtYXR0ZXJzW2Zvcm1hdF07XG4gICAgICBpZiAoJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIGZvcm1hdHRlcikge1xuICAgICAgICB2YXIgdmFsID0gYXJnc1tpbmRleF07XG4gICAgICAgIG1hdGNoID0gZm9ybWF0dGVyLmNhbGwoc2VsZiwgdmFsKTtcblxuICAgICAgICAvLyBub3cgd2UgbmVlZCB0byByZW1vdmUgYGFyZ3NbaW5kZXhdYCBzaW5jZSBpdCdzIGlubGluZWQgaW4gdGhlIGBmb3JtYXRgXG4gICAgICAgIGFyZ3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgaW5kZXgtLTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYXRjaDtcbiAgICB9KTtcblxuICAgIC8vIGFwcGx5IGVudi1zcGVjaWZpYyBmb3JtYXR0aW5nIChjb2xvcnMsIGV0Yy4pXG4gICAgZXhwb3J0cy5mb3JtYXRBcmdzLmNhbGwoc2VsZiwgYXJncyk7XG5cbiAgICB2YXIgbG9nRm4gPSBkZWJ1Zy5sb2cgfHwgZXhwb3J0cy5sb2cgfHwgY29uc29sZS5sb2cuYmluZChjb25zb2xlKTtcbiAgICBsb2dGbi5hcHBseShzZWxmLCBhcmdzKTtcbiAgfVxuXG4gIGRlYnVnLm5hbWVzcGFjZSA9IG5hbWVzcGFjZTtcbiAgZGVidWcuZW5hYmxlZCA9IGV4cG9ydHMuZW5hYmxlZChuYW1lc3BhY2UpO1xuICBkZWJ1Zy51c2VDb2xvcnMgPSBleHBvcnRzLnVzZUNvbG9ycygpO1xuICBkZWJ1Zy5jb2xvciA9IHNlbGVjdENvbG9yKG5hbWVzcGFjZSk7XG5cbiAgLy8gZW52LXNwZWNpZmljIGluaXRpYWxpemF0aW9uIGxvZ2ljIGZvciBkZWJ1ZyBpbnN0YW5jZXNcbiAgaWYgKCdmdW5jdGlvbicgPT09IHR5cGVvZiBleHBvcnRzLmluaXQpIHtcbiAgICBleHBvcnRzLmluaXQoZGVidWcpO1xuICB9XG5cbiAgcmV0dXJuIGRlYnVnO1xufVxuXG4vKipcbiAqIEVuYWJsZXMgYSBkZWJ1ZyBtb2RlIGJ5IG5hbWVzcGFjZXMuIFRoaXMgY2FuIGluY2x1ZGUgbW9kZXNcbiAqIHNlcGFyYXRlZCBieSBhIGNvbG9uIGFuZCB3aWxkY2FyZHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZXNcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gZW5hYmxlKG5hbWVzcGFjZXMpIHtcbiAgZXhwb3J0cy5zYXZlKG5hbWVzcGFjZXMpO1xuXG4gIGV4cG9ydHMubmFtZXMgPSBbXTtcbiAgZXhwb3J0cy5za2lwcyA9IFtdO1xuXG4gIHZhciBzcGxpdCA9ICh0eXBlb2YgbmFtZXNwYWNlcyA9PT0gJ3N0cmluZycgPyBuYW1lc3BhY2VzIDogJycpLnNwbGl0KC9bXFxzLF0rLyk7XG4gIHZhciBsZW4gPSBzcGxpdC5sZW5ndGg7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGlmICghc3BsaXRbaV0pIGNvbnRpbnVlOyAvLyBpZ25vcmUgZW1wdHkgc3RyaW5nc1xuICAgIG5hbWVzcGFjZXMgPSBzcGxpdFtpXS5yZXBsYWNlKC9cXCovZywgJy4qPycpO1xuICAgIGlmIChuYW1lc3BhY2VzWzBdID09PSAnLScpIHtcbiAgICAgIGV4cG9ydHMuc2tpcHMucHVzaChuZXcgUmVnRXhwKCdeJyArIG5hbWVzcGFjZXMuc3Vic3RyKDEpICsgJyQnKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4cG9ydHMubmFtZXMucHVzaChuZXcgUmVnRXhwKCdeJyArIG5hbWVzcGFjZXMgKyAnJCcpKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBEaXNhYmxlIGRlYnVnIG91dHB1dC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGRpc2FibGUoKSB7XG4gIGV4cG9ydHMuZW5hYmxlKCcnKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIG1vZGUgbmFtZSBpcyBlbmFibGVkLCBmYWxzZSBvdGhlcndpc2UuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGVuYWJsZWQobmFtZSkge1xuICB2YXIgaSwgbGVuO1xuICBmb3IgKGkgPSAwLCBsZW4gPSBleHBvcnRzLnNraXBzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWYgKGV4cG9ydHMuc2tpcHNbaV0udGVzdChuYW1lKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICBmb3IgKGkgPSAwLCBsZW4gPSBleHBvcnRzLm5hbWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWYgKGV4cG9ydHMubmFtZXNbaV0udGVzdChuYW1lKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBDb2VyY2UgYHZhbGAuXG4gKlxuICogQHBhcmFtIHtNaXhlZH0gdmFsXG4gKiBAcmV0dXJuIHtNaXhlZH1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGNvZXJjZSh2YWwpIHtcbiAgaWYgKHZhbCBpbnN0YW5jZW9mIEVycm9yKSByZXR1cm4gdmFsLnN0YWNrIHx8IHZhbC5tZXNzYWdlO1xuICByZXR1cm4gdmFsO1xufVxuXG5cbi8qKiovIH0pLFxuLyogNDUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG5cdHZhciBmcm9tID0gQXJyYXkuZnJvbSwgYXJyLCByZXN1bHQ7XG5cdGlmICh0eXBlb2YgZnJvbSAhPT0gJ2Z1bmN0aW9uJykgcmV0dXJuIGZhbHNlO1xuXHRhcnIgPSBbJ3JheicsICdkd2EnXTtcblx0cmVzdWx0ID0gZnJvbShhcnIpO1xuXHRyZXR1cm4gQm9vbGVhbihyZXN1bHQgJiYgKHJlc3VsdCAhPT0gYXJyKSAmJiAocmVzdWx0WzFdID09PSAnZHdhJykpO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDQ2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBpdGVyYXRvclN5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oNjcpLml0ZXJhdG9yXG4gICwgaXNBcmd1bWVudHMgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5KVxuICAsIGlzRnVuY3Rpb24gICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MClcbiAgLCB0b1Bvc0ludCAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMSlcbiAgLCBjYWxsYWJsZSAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMClcbiAgLCB2YWxpZFZhbHVlICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNSlcbiAgLCBpc1N0cmluZyAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNjYpXG5cbiAgLCBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSwgY2FsbCA9IEZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsXG4gICwgZGVzYyA9IHsgY29uZmlndXJhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWU6IG51bGwgfVxuICAsIGRlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcnJheUxpa2UvKiwgbWFwRm4sIHRoaXNBcmcqLykge1xuXHR2YXIgbWFwRm4gPSBhcmd1bWVudHNbMV0sIHRoaXNBcmcgPSBhcmd1bWVudHNbMl0sIENvbnN0cnVjdG9yLCBpLCBqLCBhcnIsIGwsIGNvZGUsIGl0ZXJhdG9yXG5cdCAgLCByZXN1bHQsIGdldEl0ZXJhdG9yLCB2YWx1ZTtcblxuXHRhcnJheUxpa2UgPSBPYmplY3QodmFsaWRWYWx1ZShhcnJheUxpa2UpKTtcblxuXHRpZiAobWFwRm4gIT0gbnVsbCkgY2FsbGFibGUobWFwRm4pO1xuXHRpZiAoIXRoaXMgfHwgKHRoaXMgPT09IEFycmF5KSB8fCAhaXNGdW5jdGlvbih0aGlzKSkge1xuXHRcdC8vIFJlc3VsdDogUGxhaW4gYXJyYXlcblx0XHRpZiAoIW1hcEZuKSB7XG5cdFx0XHRpZiAoaXNBcmd1bWVudHMoYXJyYXlMaWtlKSkge1xuXHRcdFx0XHQvLyBTb3VyY2U6IEFyZ3VtZW50c1xuXHRcdFx0XHRsID0gYXJyYXlMaWtlLmxlbmd0aDtcblx0XHRcdFx0aWYgKGwgIT09IDEpIHJldHVybiBBcnJheS5hcHBseShudWxsLCBhcnJheUxpa2UpO1xuXHRcdFx0XHRhcnIgPSBuZXcgQXJyYXkoMSk7XG5cdFx0XHRcdGFyclswXSA9IGFycmF5TGlrZVswXTtcblx0XHRcdFx0cmV0dXJuIGFycjtcblx0XHRcdH1cblx0XHRcdGlmIChpc0FycmF5KGFycmF5TGlrZSkpIHtcblx0XHRcdFx0Ly8gU291cmNlOiBBcnJheVxuXHRcdFx0XHRhcnIgPSBuZXcgQXJyYXkobCA9IGFycmF5TGlrZS5sZW5ndGgpO1xuXHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgbDsgKytpKSBhcnJbaV0gPSBhcnJheUxpa2VbaV07XG5cdFx0XHRcdHJldHVybiBhcnI7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGFyciA9IFtdO1xuXHR9IGVsc2Uge1xuXHRcdC8vIFJlc3VsdDogTm9uIHBsYWluIGFycmF5XG5cdFx0Q29uc3RydWN0b3IgPSB0aGlzO1xuXHR9XG5cblx0aWYgKCFpc0FycmF5KGFycmF5TGlrZSkpIHtcblx0XHRpZiAoKGdldEl0ZXJhdG9yID0gYXJyYXlMaWtlW2l0ZXJhdG9yU3ltYm9sXSkgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0Ly8gU291cmNlOiBJdGVyYXRvclxuXHRcdFx0aXRlcmF0b3IgPSBjYWxsYWJsZShnZXRJdGVyYXRvcikuY2FsbChhcnJheUxpa2UpO1xuXHRcdFx0aWYgKENvbnN0cnVjdG9yKSBhcnIgPSBuZXcgQ29uc3RydWN0b3IoKTtcblx0XHRcdHJlc3VsdCA9IGl0ZXJhdG9yLm5leHQoKTtcblx0XHRcdGkgPSAwO1xuXHRcdFx0d2hpbGUgKCFyZXN1bHQuZG9uZSkge1xuXHRcdFx0XHR2YWx1ZSA9IG1hcEZuID8gY2FsbC5jYWxsKG1hcEZuLCB0aGlzQXJnLCByZXN1bHQudmFsdWUsIGkpIDogcmVzdWx0LnZhbHVlO1xuXHRcdFx0XHRpZiAoIUNvbnN0cnVjdG9yKSB7XG5cdFx0XHRcdFx0YXJyW2ldID0gdmFsdWU7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZGVzYy52YWx1ZSA9IHZhbHVlO1xuXHRcdFx0XHRcdGRlZmluZVByb3BlcnR5KGFyciwgaSwgZGVzYyk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmVzdWx0ID0gaXRlcmF0b3IubmV4dCgpO1xuXHRcdFx0XHQrK2k7XG5cdFx0XHR9XG5cdFx0XHRsID0gaTtcblx0XHR9IGVsc2UgaWYgKGlzU3RyaW5nKGFycmF5TGlrZSkpIHtcblx0XHRcdC8vIFNvdXJjZTogU3RyaW5nXG5cdFx0XHRsID0gYXJyYXlMaWtlLmxlbmd0aDtcblx0XHRcdGlmIChDb25zdHJ1Y3RvcikgYXJyID0gbmV3IENvbnN0cnVjdG9yKCk7XG5cdFx0XHRmb3IgKGkgPSAwLCBqID0gMDsgaSA8IGw7ICsraSkge1xuXHRcdFx0XHR2YWx1ZSA9IGFycmF5TGlrZVtpXTtcblx0XHRcdFx0aWYgKChpICsgMSkgPCBsKSB7XG5cdFx0XHRcdFx0Y29kZSA9IHZhbHVlLmNoYXJDb2RlQXQoMCk7XG5cdFx0XHRcdFx0aWYgKChjb2RlID49IDB4RDgwMCkgJiYgKGNvZGUgPD0gMHhEQkZGKSkgdmFsdWUgKz0gYXJyYXlMaWtlWysraV07XG5cdFx0XHRcdH1cblx0XHRcdFx0dmFsdWUgPSBtYXBGbiA/IGNhbGwuY2FsbChtYXBGbiwgdGhpc0FyZywgdmFsdWUsIGopIDogdmFsdWU7XG5cdFx0XHRcdGlmICghQ29uc3RydWN0b3IpIHtcblx0XHRcdFx0XHRhcnJbal0gPSB2YWx1ZTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRkZXNjLnZhbHVlID0gdmFsdWU7XG5cdFx0XHRcdFx0ZGVmaW5lUHJvcGVydHkoYXJyLCBqLCBkZXNjKTtcblx0XHRcdFx0fVxuXHRcdFx0XHQrK2o7XG5cdFx0XHR9XG5cdFx0XHRsID0gajtcblx0XHR9XG5cdH1cblx0aWYgKGwgPT09IHVuZGVmaW5lZCkge1xuXHRcdC8vIFNvdXJjZTogYXJyYXkgb3IgYXJyYXktbGlrZVxuXHRcdGwgPSB0b1Bvc0ludChhcnJheUxpa2UubGVuZ3RoKTtcblx0XHRpZiAoQ29uc3RydWN0b3IpIGFyciA9IG5ldyBDb25zdHJ1Y3RvcihsKTtcblx0XHRmb3IgKGkgPSAwOyBpIDwgbDsgKytpKSB7XG5cdFx0XHR2YWx1ZSA9IG1hcEZuID8gY2FsbC5jYWxsKG1hcEZuLCB0aGlzQXJnLCBhcnJheUxpa2VbaV0sIGkpIDogYXJyYXlMaWtlW2ldO1xuXHRcdFx0aWYgKCFDb25zdHJ1Y3Rvcikge1xuXHRcdFx0XHRhcnJbaV0gPSB2YWx1ZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRlc2MudmFsdWUgPSB2YWx1ZTtcblx0XHRcdFx0ZGVmaW5lUHJvcGVydHkoYXJyLCBpLCBkZXNjKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0aWYgKENvbnN0cnVjdG9yKSB7XG5cdFx0ZGVzYy52YWx1ZSA9IG51bGw7XG5cdFx0YXJyLmxlbmd0aCA9IGw7XG5cdH1cblx0cmV0dXJuIGFycjtcbn07XG5cblxuLyoqKi8gfSksXG4vKiA0NyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgZnJvbSA9IF9fd2VicGFja19yZXF1aXJlX18oOSlcblxuICAsIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcnJheUxpa2UpIHtcblx0cmV0dXJuIGlzQXJyYXkoYXJyYXlMaWtlKSA/IGFycmF5TGlrZSA6IGZyb20oYXJyYXlMaWtlKTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiA0OCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgYXNzaWduID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOClcblxuICAsIGNhcHR1cmVTdGFja1RyYWNlID0gRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2U7XG5cbmV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChtZXNzYWdlLyosIGNvZGUsIGV4dCovKSB7XG5cdHZhciBlcnIgPSBuZXcgRXJyb3IobWVzc2FnZSksIGNvZGUgPSBhcmd1bWVudHNbMV0sIGV4dCA9IGFyZ3VtZW50c1syXTtcblx0aWYgKGV4dCA9PSBudWxsKSB7XG5cdFx0aWYgKGNvZGUgJiYgKHR5cGVvZiBjb2RlID09PSAnb2JqZWN0JykpIHtcblx0XHRcdGV4dCA9IGNvZGU7XG5cdFx0XHRjb2RlID0gbnVsbDtcblx0XHR9XG5cdH1cblx0aWYgKGV4dCAhPSBudWxsKSBhc3NpZ24oZXJyLCBleHQpO1xuXHRpZiAoY29kZSAhPSBudWxsKSBlcnIuY29kZSA9IFN0cmluZyhjb2RlKTtcblx0aWYgKGNhcHR1cmVTdGFja1RyYWNlKSBjYXB0dXJlU3RhY2tUcmFjZShlcnIsIGV4cG9ydHMpO1xuXHRyZXR1cm4gZXJyO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDQ5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdcblxuICAsIGlkID0gdG9TdHJpbmcuY2FsbCgoZnVuY3Rpb24gKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoeCkgeyByZXR1cm4gKHRvU3RyaW5nLmNhbGwoeCkgPT09IGlkKTsgfTtcblxuXG4vKioqLyB9KSxcbi8qIDUwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdcblxuICAsIGlkID0gdG9TdHJpbmcuY2FsbChfX3dlYnBhY2tfcmVxdWlyZV9fKDUxKSk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGYpIHtcblx0cmV0dXJuICh0eXBlb2YgZiA9PT0gXCJmdW5jdGlvblwiKSAmJiAodG9TdHJpbmcuY2FsbChmKSA9PT0gaWQpO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDUxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge307XG5cblxuLyoqKi8gfSksXG4vKiA1MiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNTMpKClcblx0PyBNYXRoLnNpZ25cblx0OiBfX3dlYnBhY2tfcmVxdWlyZV9fKDU0KTtcblxuXG4vKioqLyB9KSxcbi8qIDUzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuXHR2YXIgc2lnbiA9IE1hdGguc2lnbjtcblx0aWYgKHR5cGVvZiBzaWduICE9PSAnZnVuY3Rpb24nKSByZXR1cm4gZmFsc2U7XG5cdHJldHVybiAoKHNpZ24oMTApID09PSAxKSAmJiAoc2lnbigtMjApID09PSAtMSkpO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDU0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdHZhbHVlID0gTnVtYmVyKHZhbHVlKTtcblx0aWYgKGlzTmFOKHZhbHVlKSB8fCAodmFsdWUgPT09IDApKSByZXR1cm4gdmFsdWU7XG5cdHJldHVybiAodmFsdWUgPiAwKSA/IDEgOiAtMTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiA1NSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgc2lnbiA9IF9fd2VicGFja19yZXF1aXJlX18oNTIpXG5cbiAgLCBhYnMgPSBNYXRoLmFicywgZmxvb3IgPSBNYXRoLmZsb29yO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRpZiAoaXNOYU4odmFsdWUpKSByZXR1cm4gMDtcblx0dmFsdWUgPSBOdW1iZXIodmFsdWUpO1xuXHRpZiAoKHZhbHVlID09PSAwKSB8fCAhaXNGaW5pdGUodmFsdWUpKSByZXR1cm4gdmFsdWU7XG5cdHJldHVybiBzaWduKHZhbHVlKSAqIGZsb29yKGFicyh2YWx1ZSkpO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDU2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLy8gSW50ZXJuYWwgbWV0aG9kLCB1c2VkIGJ5IGl0ZXJhdGlvbiBmdW5jdGlvbnMuXG4vLyBDYWxscyBhIGZ1bmN0aW9uIGZvciBlYWNoIGtleS12YWx1ZSBwYWlyIGZvdW5kIGluIG9iamVjdFxuLy8gT3B0aW9uYWxseSB0YWtlcyBjb21wYXJlRm4gdG8gaXRlcmF0ZSBvYmplY3QgaW4gc3BlY2lmaWMgb3JkZXJcblxuXG5cbnZhciBjYWxsYWJsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMClcbiAgLCB2YWx1ZSAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNSlcblxuICAsIGJpbmQgPSBGdW5jdGlvbi5wcm90b3R5cGUuYmluZCwgY2FsbCA9IEZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsLCBrZXlzID0gT2JqZWN0LmtleXNcbiAgLCBwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG1ldGhvZCwgZGVmVmFsKSB7XG5cdHJldHVybiBmdW5jdGlvbiAob2JqLCBjYi8qLCB0aGlzQXJnLCBjb21wYXJlRm4qLykge1xuXHRcdHZhciBsaXN0LCB0aGlzQXJnID0gYXJndW1lbnRzWzJdLCBjb21wYXJlRm4gPSBhcmd1bWVudHNbM107XG5cdFx0b2JqID0gT2JqZWN0KHZhbHVlKG9iaikpO1xuXHRcdGNhbGxhYmxlKGNiKTtcblxuXHRcdGxpc3QgPSBrZXlzKG9iaik7XG5cdFx0aWYgKGNvbXBhcmVGbikge1xuXHRcdFx0bGlzdC5zb3J0KCh0eXBlb2YgY29tcGFyZUZuID09PSAnZnVuY3Rpb24nKSA/IGJpbmQuY2FsbChjb21wYXJlRm4sIG9iaikgOiB1bmRlZmluZWQpO1xuXHRcdH1cblx0XHRpZiAodHlwZW9mIG1ldGhvZCAhPT0gJ2Z1bmN0aW9uJykgbWV0aG9kID0gbGlzdFttZXRob2RdO1xuXHRcdHJldHVybiBjYWxsLmNhbGwobWV0aG9kLCBsaXN0LCBmdW5jdGlvbiAoa2V5LCBpbmRleCkge1xuXHRcdFx0aWYgKCFwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKG9iaiwga2V5KSkgcmV0dXJuIGRlZlZhbDtcblx0XHRcdHJldHVybiBjYWxsLmNhbGwoY2IsIHRoaXNBcmcsIG9ialtrZXldLCBrZXksIG9iaiwgaW5kZXgpO1xuXHRcdH0pO1xuXHR9O1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDU3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuXHR2YXIgYXNzaWduID0gT2JqZWN0LmFzc2lnbiwgb2JqO1xuXHRpZiAodHlwZW9mIGFzc2lnbiAhPT0gJ2Z1bmN0aW9uJykgcmV0dXJuIGZhbHNlO1xuXHRvYmogPSB7IGZvbzogJ3JheicgfTtcblx0YXNzaWduKG9iaiwgeyBiYXI6ICdkd2EnIH0sIHsgdHJ6eTogJ3RyenknIH0pO1xuXHRyZXR1cm4gKG9iai5mb28gKyBvYmouYmFyICsgb2JqLnRyenkpID09PSAncmF6ZHdhdHJ6eSc7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogNTggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIGtleXMgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MClcbiAgLCB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18oNSlcblxuICAsIG1heCA9IE1hdGgubWF4O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChkZXN0LCBzcmMvKiwg4oCmc3JjbiovKSB7XG5cdHZhciBlcnJvciwgaSwgbCA9IG1heChhcmd1bWVudHMubGVuZ3RoLCAyKSwgYXNzaWduO1xuXHRkZXN0ID0gT2JqZWN0KHZhbHVlKGRlc3QpKTtcblx0YXNzaWduID0gZnVuY3Rpb24gKGtleSkge1xuXHRcdHRyeSB7IGRlc3Rba2V5XSA9IHNyY1trZXldOyB9IGNhdGNoIChlKSB7XG5cdFx0XHRpZiAoIWVycm9yKSBlcnJvciA9IGU7XG5cdFx0fVxuXHR9O1xuXHRmb3IgKGkgPSAxOyBpIDwgbDsgKytpKSB7XG5cdFx0c3JjID0gYXJndW1lbnRzW2ldO1xuXHRcdGtleXMoc3JjKS5mb3JFYWNoKGFzc2lnbik7XG5cdH1cblx0aWYgKGVycm9yICE9PSB1bmRlZmluZWQpIHRocm93IGVycm9yO1xuXHRyZXR1cm4gZGVzdDtcbn07XG5cblxuLyoqKi8gfSksXG4vKiA1OSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8vIERlcHJlY2F0ZWRcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iaiA9PT0gJ2Z1bmN0aW9uJzsgfTtcblxuXG4vKioqLyB9KSxcbi8qIDYwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MSkoKVxuXHQ/IE9iamVjdC5rZXlzXG5cdDogX193ZWJwYWNrX3JlcXVpcmVfXyg2Mik7XG5cblxuLyoqKi8gfSksXG4vKiA2MSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcblx0dHJ5IHtcblx0XHRPYmplY3Qua2V5cygncHJpbWl0aXZlJyk7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9XG59O1xuXG5cbi8qKiovIH0pLFxuLyogNjIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIGtleXMgPSBPYmplY3Qua2V5cztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob2JqZWN0KSB7XG5cdHJldHVybiBrZXlzKG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogT2JqZWN0KG9iamVjdCkpO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDYzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NCkoKVxuXHQ/IFN0cmluZy5wcm90b3R5cGUuY29udGFpbnNcblx0OiBfX3dlYnBhY2tfcmVxdWlyZV9fKDY1KTtcblxuXG4vKioqLyB9KSxcbi8qIDY0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBzdHIgPSAncmF6ZHdhdHJ6eSc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuXHRpZiAodHlwZW9mIHN0ci5jb250YWlucyAhPT0gJ2Z1bmN0aW9uJykgcmV0dXJuIGZhbHNlO1xuXHRyZXR1cm4gKChzdHIuY29udGFpbnMoJ2R3YScpID09PSB0cnVlKSAmJiAoc3RyLmNvbnRhaW5zKCdmb28nKSA9PT0gZmFsc2UpKTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiA2NSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgaW5kZXhPZiA9IFN0cmluZy5wcm90b3R5cGUuaW5kZXhPZjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoc2VhcmNoU3RyaW5nLyosIHBvc2l0aW9uKi8pIHtcblx0cmV0dXJuIGluZGV4T2YuY2FsbCh0aGlzLCBzZWFyY2hTdHJpbmcsIGFyZ3VtZW50c1sxXSkgPiAtMTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiA2NiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nXG5cbiAgLCBpZCA9IHRvU3RyaW5nLmNhbGwoJycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh4KSB7XG5cdHJldHVybiAodHlwZW9mIHggPT09ICdzdHJpbmcnKSB8fCAoeCAmJiAodHlwZW9mIHggPT09ICdvYmplY3QnKSAmJlxuXHRcdCgoeCBpbnN0YW5jZW9mIFN0cmluZykgfHwgKHRvU3RyaW5nLmNhbGwoeCkgPT09IGlkKSkpIHx8IGZhbHNlO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDY3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OCkoKSA/IFN5bWJvbCA6IF9fd2VicGFja19yZXF1aXJlX18oNzApO1xuXG5cbi8qKiovIH0pLFxuLyogNjggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIHZhbGlkVHlwZXMgPSB7IG9iamVjdDogdHJ1ZSwgc3ltYm9sOiB0cnVlIH07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuXHR2YXIgc3ltYm9sO1xuXHRpZiAodHlwZW9mIFN5bWJvbCAhPT0gJ2Z1bmN0aW9uJykgcmV0dXJuIGZhbHNlO1xuXHRzeW1ib2wgPSBTeW1ib2woJ3Rlc3Qgc3ltYm9sJyk7XG5cdHRyeSB7IFN0cmluZyhzeW1ib2wpOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfVxuXG5cdC8vIFJldHVybiAndHJ1ZScgYWxzbyBmb3IgcG9seWZpbGxzXG5cdGlmICghdmFsaWRUeXBlc1t0eXBlb2YgU3ltYm9sLml0ZXJhdG9yXSkgcmV0dXJuIGZhbHNlO1xuXHRpZiAoIXZhbGlkVHlwZXNbdHlwZW9mIFN5bWJvbC50b1ByaW1pdGl2ZV0pIHJldHVybiBmYWxzZTtcblx0aWYgKCF2YWxpZFR5cGVzW3R5cGVvZiBTeW1ib2wudG9TdHJpbmdUYWddKSByZXR1cm4gZmFsc2U7XG5cblx0cmV0dXJuIHRydWU7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogNjkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoeCkge1xuXHRpZiAoIXgpIHJldHVybiBmYWxzZTtcblx0aWYgKHR5cGVvZiB4ID09PSAnc3ltYm9sJykgcmV0dXJuIHRydWU7XG5cdGlmICgheC5jb25zdHJ1Y3RvcikgcmV0dXJuIGZhbHNlO1xuXHRpZiAoeC5jb25zdHJ1Y3Rvci5uYW1lICE9PSAnU3ltYm9sJykgcmV0dXJuIGZhbHNlO1xuXHRyZXR1cm4gKHhbeC5jb25zdHJ1Y3Rvci50b1N0cmluZ1RhZ10gPT09ICdTeW1ib2wnKTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiA3MCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8vIEVTMjAxNSBTeW1ib2wgcG9seWZpbGwgZm9yIGVudmlyb25tZW50cyB0aGF0IGRvIG5vdCAob3IgcGFydGlhbGx5KSBzdXBwb3J0IGl0XG5cblxuXG52YXIgZCAgICAgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpXG4gICwgdmFsaWRhdGVTeW1ib2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxKVxuXG4gICwgY3JlYXRlID0gT2JqZWN0LmNyZWF0ZSwgZGVmaW5lUHJvcGVydGllcyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzXG4gICwgZGVmaW5lUHJvcGVydHkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHksIG9ialByb3RvdHlwZSA9IE9iamVjdC5wcm90b3R5cGVcbiAgLCBOYXRpdmVTeW1ib2wsIFN5bWJvbFBvbHlmaWxsLCBIaWRkZW5TeW1ib2wsIGdsb2JhbFN5bWJvbHMgPSBjcmVhdGUobnVsbClcbiAgLCBpc05hdGl2ZVNhZmU7XG5cbmlmICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nKSB7XG5cdE5hdGl2ZVN5bWJvbCA9IFN5bWJvbDtcblx0dHJ5IHtcblx0XHRTdHJpbmcoTmF0aXZlU3ltYm9sKCkpO1xuXHRcdGlzTmF0aXZlU2FmZSA9IHRydWU7XG5cdH0gY2F0Y2ggKGlnbm9yZSkge31cbn1cblxudmFyIGdlbmVyYXRlTmFtZSA9IChmdW5jdGlvbiAoKSB7XG5cdHZhciBjcmVhdGVkID0gY3JlYXRlKG51bGwpO1xuXHRyZXR1cm4gZnVuY3Rpb24gKGRlc2MpIHtcblx0XHR2YXIgcG9zdGZpeCA9IDAsIG5hbWUsIGllMTFCdWdXb3JrYXJvdW5kO1xuXHRcdHdoaWxlIChjcmVhdGVkW2Rlc2MgKyAocG9zdGZpeCB8fCAnJyldKSArK3Bvc3RmaXg7XG5cdFx0ZGVzYyArPSAocG9zdGZpeCB8fCAnJyk7XG5cdFx0Y3JlYXRlZFtkZXNjXSA9IHRydWU7XG5cdFx0bmFtZSA9ICdAQCcgKyBkZXNjO1xuXHRcdGRlZmluZVByb3BlcnR5KG9ialByb3RvdHlwZSwgbmFtZSwgZC5ncyhudWxsLCBmdW5jdGlvbiAodmFsdWUpIHtcblx0XHRcdC8vIEZvciBJRTExIGlzc3VlIHNlZTpcblx0XHRcdC8vIGh0dHBzOi8vY29ubmVjdC5taWNyb3NvZnQuY29tL0lFL2ZlZWRiYWNrZGV0YWlsL3ZpZXcvMTkyODUwOC9cblx0XHRcdC8vICAgIGllMTEtYnJva2VuLWdldHRlcnMtb24tZG9tLW9iamVjdHNcblx0XHRcdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpa29vL2VzNi1zeW1ib2wvaXNzdWVzLzEyXG5cdFx0XHRpZiAoaWUxMUJ1Z1dvcmthcm91bmQpIHJldHVybjtcblx0XHRcdGllMTFCdWdXb3JrYXJvdW5kID0gdHJ1ZTtcblx0XHRcdGRlZmluZVByb3BlcnR5KHRoaXMsIG5hbWUsIGQodmFsdWUpKTtcblx0XHRcdGllMTFCdWdXb3JrYXJvdW5kID0gZmFsc2U7XG5cdFx0fSkpO1xuXHRcdHJldHVybiBuYW1lO1xuXHR9O1xufSgpKTtcblxuLy8gSW50ZXJuYWwgY29uc3RydWN0b3IgKG5vdCBvbmUgZXhwb3NlZCkgZm9yIGNyZWF0aW5nIFN5bWJvbCBpbnN0YW5jZXMuXG4vLyBUaGlzIG9uZSBpcyB1c2VkIHRvIGVuc3VyZSB0aGF0IGBzb21lU3ltYm9sIGluc3RhbmNlb2YgU3ltYm9sYCBhbHdheXMgcmV0dXJuIGZhbHNlXG5IaWRkZW5TeW1ib2wgPSBmdW5jdGlvbiBTeW1ib2woZGVzY3JpcHRpb24pIHtcblx0aWYgKHRoaXMgaW5zdGFuY2VvZiBIaWRkZW5TeW1ib2wpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1N5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvcicpO1xuXHRyZXR1cm4gU3ltYm9sUG9seWZpbGwoZGVzY3JpcHRpb24pO1xufTtcblxuLy8gRXhwb3NlZCBgU3ltYm9sYCBjb25zdHJ1Y3RvclxuLy8gKHJldHVybnMgaW5zdGFuY2VzIG9mIEhpZGRlblN5bWJvbClcbm1vZHVsZS5leHBvcnRzID0gU3ltYm9sUG9seWZpbGwgPSBmdW5jdGlvbiBTeW1ib2woZGVzY3JpcHRpb24pIHtcblx0dmFyIHN5bWJvbDtcblx0aWYgKHRoaXMgaW5zdGFuY2VvZiBTeW1ib2wpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1N5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvcicpO1xuXHRpZiAoaXNOYXRpdmVTYWZlKSByZXR1cm4gTmF0aXZlU3ltYm9sKGRlc2NyaXB0aW9uKTtcblx0c3ltYm9sID0gY3JlYXRlKEhpZGRlblN5bWJvbC5wcm90b3R5cGUpO1xuXHRkZXNjcmlwdGlvbiA9IChkZXNjcmlwdGlvbiA9PT0gdW5kZWZpbmVkID8gJycgOiBTdHJpbmcoZGVzY3JpcHRpb24pKTtcblx0cmV0dXJuIGRlZmluZVByb3BlcnRpZXMoc3ltYm9sLCB7XG5cdFx0X19kZXNjcmlwdGlvbl9fOiBkKCcnLCBkZXNjcmlwdGlvbiksXG5cdFx0X19uYW1lX186IGQoJycsIGdlbmVyYXRlTmFtZShkZXNjcmlwdGlvbikpXG5cdH0pO1xufTtcbmRlZmluZVByb3BlcnRpZXMoU3ltYm9sUG9seWZpbGwsIHtcblx0Zm9yOiBkKGZ1bmN0aW9uIChrZXkpIHtcblx0XHRpZiAoZ2xvYmFsU3ltYm9sc1trZXldKSByZXR1cm4gZ2xvYmFsU3ltYm9sc1trZXldO1xuXHRcdHJldHVybiAoZ2xvYmFsU3ltYm9sc1trZXldID0gU3ltYm9sUG9seWZpbGwoU3RyaW5nKGtleSkpKTtcblx0fSksXG5cdGtleUZvcjogZChmdW5jdGlvbiAocykge1xuXHRcdHZhciBrZXk7XG5cdFx0dmFsaWRhdGVTeW1ib2wocyk7XG5cdFx0Zm9yIChrZXkgaW4gZ2xvYmFsU3ltYm9scykgaWYgKGdsb2JhbFN5bWJvbHNba2V5XSA9PT0gcykgcmV0dXJuIGtleTtcblx0fSksXG5cblx0Ly8gVG8gZW5zdXJlIHByb3BlciBpbnRlcm9wZXJhYmlsaXR5IHdpdGggb3RoZXIgbmF0aXZlIGZ1bmN0aW9ucyAoZS5nLiBBcnJheS5mcm9tKVxuXHQvLyBmYWxsYmFjayB0byBldmVudHVhbCBuYXRpdmUgaW1wbGVtZW50YXRpb24gb2YgZ2l2ZW4gc3ltYm9sXG5cdGhhc0luc3RhbmNlOiBkKCcnLCAoTmF0aXZlU3ltYm9sICYmIE5hdGl2ZVN5bWJvbC5oYXNJbnN0YW5jZSkgfHwgU3ltYm9sUG9seWZpbGwoJ2hhc0luc3RhbmNlJykpLFxuXHRpc0NvbmNhdFNwcmVhZGFibGU6IGQoJycsIChOYXRpdmVTeW1ib2wgJiYgTmF0aXZlU3ltYm9sLmlzQ29uY2F0U3ByZWFkYWJsZSkgfHxcblx0XHRTeW1ib2xQb2x5ZmlsbCgnaXNDb25jYXRTcHJlYWRhYmxlJykpLFxuXHRpdGVyYXRvcjogZCgnJywgKE5hdGl2ZVN5bWJvbCAmJiBOYXRpdmVTeW1ib2wuaXRlcmF0b3IpIHx8IFN5bWJvbFBvbHlmaWxsKCdpdGVyYXRvcicpKSxcblx0bWF0Y2g6IGQoJycsIChOYXRpdmVTeW1ib2wgJiYgTmF0aXZlU3ltYm9sLm1hdGNoKSB8fCBTeW1ib2xQb2x5ZmlsbCgnbWF0Y2gnKSksXG5cdHJlcGxhY2U6IGQoJycsIChOYXRpdmVTeW1ib2wgJiYgTmF0aXZlU3ltYm9sLnJlcGxhY2UpIHx8IFN5bWJvbFBvbHlmaWxsKCdyZXBsYWNlJykpLFxuXHRzZWFyY2g6IGQoJycsIChOYXRpdmVTeW1ib2wgJiYgTmF0aXZlU3ltYm9sLnNlYXJjaCkgfHwgU3ltYm9sUG9seWZpbGwoJ3NlYXJjaCcpKSxcblx0c3BlY2llczogZCgnJywgKE5hdGl2ZVN5bWJvbCAmJiBOYXRpdmVTeW1ib2wuc3BlY2llcykgfHwgU3ltYm9sUG9seWZpbGwoJ3NwZWNpZXMnKSksXG5cdHNwbGl0OiBkKCcnLCAoTmF0aXZlU3ltYm9sICYmIE5hdGl2ZVN5bWJvbC5zcGxpdCkgfHwgU3ltYm9sUG9seWZpbGwoJ3NwbGl0JykpLFxuXHR0b1ByaW1pdGl2ZTogZCgnJywgKE5hdGl2ZVN5bWJvbCAmJiBOYXRpdmVTeW1ib2wudG9QcmltaXRpdmUpIHx8IFN5bWJvbFBvbHlmaWxsKCd0b1ByaW1pdGl2ZScpKSxcblx0dG9TdHJpbmdUYWc6IGQoJycsIChOYXRpdmVTeW1ib2wgJiYgTmF0aXZlU3ltYm9sLnRvU3RyaW5nVGFnKSB8fCBTeW1ib2xQb2x5ZmlsbCgndG9TdHJpbmdUYWcnKSksXG5cdHVuc2NvcGFibGVzOiBkKCcnLCAoTmF0aXZlU3ltYm9sICYmIE5hdGl2ZVN5bWJvbC51bnNjb3BhYmxlcykgfHwgU3ltYm9sUG9seWZpbGwoJ3Vuc2NvcGFibGVzJykpXG59KTtcblxuLy8gSW50ZXJuYWwgdHdlYWtzIGZvciByZWFsIHN5bWJvbCBwcm9kdWNlclxuZGVmaW5lUHJvcGVydGllcyhIaWRkZW5TeW1ib2wucHJvdG90eXBlLCB7XG5cdGNvbnN0cnVjdG9yOiBkKFN5bWJvbFBvbHlmaWxsKSxcblx0dG9TdHJpbmc6IGQoJycsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX19uYW1lX187IH0pXG59KTtcblxuLy8gUHJvcGVyIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgZXhwb3NlZCBvbiBTeW1ib2wucHJvdG90eXBlXG4vLyBUaGV5IHdvbid0IGJlIGFjY2Vzc2libGUgb24gcHJvZHVjZWQgc3ltYm9sIGluc3RhbmNlcyBhcyB0aGV5IGRlcml2ZSBmcm9tIEhpZGRlblN5bWJvbC5wcm90b3R5cGVcbmRlZmluZVByb3BlcnRpZXMoU3ltYm9sUG9seWZpbGwucHJvdG90eXBlLCB7XG5cdHRvU3RyaW5nOiBkKGZ1bmN0aW9uICgpIHsgcmV0dXJuICdTeW1ib2wgKCcgKyB2YWxpZGF0ZVN5bWJvbCh0aGlzKS5fX2Rlc2NyaXB0aW9uX18gKyAnKSc7IH0pLFxuXHR2YWx1ZU9mOiBkKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHZhbGlkYXRlU3ltYm9sKHRoaXMpOyB9KVxufSk7XG5kZWZpbmVQcm9wZXJ0eShTeW1ib2xQb2x5ZmlsbC5wcm90b3R5cGUsIFN5bWJvbFBvbHlmaWxsLnRvUHJpbWl0aXZlLCBkKCcnLCBmdW5jdGlvbiAoKSB7XG5cdHZhciBzeW1ib2wgPSB2YWxpZGF0ZVN5bWJvbCh0aGlzKTtcblx0aWYgKHR5cGVvZiBzeW1ib2wgPT09ICdzeW1ib2wnKSByZXR1cm4gc3ltYm9sO1xuXHRyZXR1cm4gc3ltYm9sLnRvU3RyaW5nKCk7XG59KSk7XG5kZWZpbmVQcm9wZXJ0eShTeW1ib2xQb2x5ZmlsbC5wcm90b3R5cGUsIFN5bWJvbFBvbHlmaWxsLnRvU3RyaW5nVGFnLCBkKCdjJywgJ1N5bWJvbCcpKTtcblxuLy8gUHJvcGVyIGltcGxlbWVudGF0b24gb2YgdG9QcmltaXRpdmUgYW5kIHRvU3RyaW5nVGFnIGZvciByZXR1cm5lZCBzeW1ib2wgaW5zdGFuY2VzXG5kZWZpbmVQcm9wZXJ0eShIaWRkZW5TeW1ib2wucHJvdG90eXBlLCBTeW1ib2xQb2x5ZmlsbC50b1N0cmluZ1RhZyxcblx0ZCgnYycsIFN5bWJvbFBvbHlmaWxsLnByb3RvdHlwZVtTeW1ib2xQb2x5ZmlsbC50b1N0cmluZ1RhZ10pKTtcblxuLy8gTm90ZTogSXQncyBpbXBvcnRhbnQgdG8gZGVmaW5lIGB0b1ByaW1pdGl2ZWAgYXMgbGFzdCBvbmUsIGFzIHNvbWUgaW1wbGVtZW50YXRpb25zXG4vLyBpbXBsZW1lbnQgYHRvUHJpbWl0aXZlYCBuYXRpdmVseSB3aXRob3V0IGltcGxlbWVudGluZyBgdG9TdHJpbmdUYWdgIChvciBvdGhlciBzcGVjaWZpZWQgc3ltYm9scylcbi8vIEFuZCB0aGF0IG1heSBpbnZva2UgZXJyb3IgaW4gZGVmaW5pdGlvbiBmbG93OlxuLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vbWVkaWtvby9lczYtc3ltYm9sL2lzc3Vlcy8xMyNpc3N1ZWNvbW1lbnQtMTY0MTQ2MTQ5XG5kZWZpbmVQcm9wZXJ0eShIaWRkZW5TeW1ib2wucHJvdG90eXBlLCBTeW1ib2xQb2x5ZmlsbC50b1ByaW1pdGl2ZSxcblx0ZCgnYycsIFN5bWJvbFBvbHlmaWxsLnByb3RvdHlwZVtTeW1ib2xQb2x5ZmlsbC50b1ByaW1pdGl2ZV0pKTtcblxuXG4vKioqLyB9KSxcbi8qIDcxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBpc1N5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oNjkpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRpZiAoIWlzU3ltYm9sKHZhbHVlKSkgdGhyb3cgbmV3IFR5cGVFcnJvcih2YWx1ZSArIFwiIGlzIG5vdCBhIHN5bWJvbFwiKTtcblx0cmV0dXJuIHZhbHVlO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDcyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBkICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNilcbiAgLCBjYWxsYWJsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMClcblxuICAsIGFwcGx5ID0gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LCBjYWxsID0gRnVuY3Rpb24ucHJvdG90eXBlLmNhbGxcbiAgLCBjcmVhdGUgPSBPYmplY3QuY3JlYXRlLCBkZWZpbmVQcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eVxuICAsIGRlZmluZVByb3BlcnRpZXMgPSBPYmplY3QuZGVmaW5lUHJvcGVydGllc1xuICAsIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eVxuICAsIGRlc2NyaXB0b3IgPSB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlIH1cblxuICAsIG9uLCBvbmNlLCBvZmYsIGVtaXQsIG1ldGhvZHMsIGRlc2NyaXB0b3JzLCBiYXNlO1xuXG5vbiA9IGZ1bmN0aW9uICh0eXBlLCBsaXN0ZW5lcikge1xuXHR2YXIgZGF0YTtcblxuXHRjYWxsYWJsZShsaXN0ZW5lcik7XG5cblx0aWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMsICdfX2VlX18nKSkge1xuXHRcdGRhdGEgPSBkZXNjcmlwdG9yLnZhbHVlID0gY3JlYXRlKG51bGwpO1xuXHRcdGRlZmluZVByb3BlcnR5KHRoaXMsICdfX2VlX18nLCBkZXNjcmlwdG9yKTtcblx0XHRkZXNjcmlwdG9yLnZhbHVlID0gbnVsbDtcblx0fSBlbHNlIHtcblx0XHRkYXRhID0gdGhpcy5fX2VlX187XG5cdH1cblx0aWYgKCFkYXRhW3R5cGVdKSBkYXRhW3R5cGVdID0gbGlzdGVuZXI7XG5cdGVsc2UgaWYgKHR5cGVvZiBkYXRhW3R5cGVdID09PSAnb2JqZWN0JykgZGF0YVt0eXBlXS5wdXNoKGxpc3RlbmVyKTtcblx0ZWxzZSBkYXRhW3R5cGVdID0gW2RhdGFbdHlwZV0sIGxpc3RlbmVyXTtcblxuXHRyZXR1cm4gdGhpcztcbn07XG5cbm9uY2UgPSBmdW5jdGlvbiAodHlwZSwgbGlzdGVuZXIpIHtcblx0dmFyIG9uY2UsIHNlbGY7XG5cblx0Y2FsbGFibGUobGlzdGVuZXIpO1xuXHRzZWxmID0gdGhpcztcblx0b24uY2FsbCh0aGlzLCB0eXBlLCBvbmNlID0gZnVuY3Rpb24gKCkge1xuXHRcdG9mZi5jYWxsKHNlbGYsIHR5cGUsIG9uY2UpO1xuXHRcdGFwcGx5LmNhbGwobGlzdGVuZXIsIHRoaXMsIGFyZ3VtZW50cyk7XG5cdH0pO1xuXG5cdG9uY2UuX19lZU9uY2VMaXN0ZW5lcl9fID0gbGlzdGVuZXI7XG5cdHJldHVybiB0aGlzO1xufTtcblxub2ZmID0gZnVuY3Rpb24gKHR5cGUsIGxpc3RlbmVyKSB7XG5cdHZhciBkYXRhLCBsaXN0ZW5lcnMsIGNhbmRpZGF0ZSwgaTtcblxuXHRjYWxsYWJsZShsaXN0ZW5lcik7XG5cblx0aWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMsICdfX2VlX18nKSkgcmV0dXJuIHRoaXM7XG5cdGRhdGEgPSB0aGlzLl9fZWVfXztcblx0aWYgKCFkYXRhW3R5cGVdKSByZXR1cm4gdGhpcztcblx0bGlzdGVuZXJzID0gZGF0YVt0eXBlXTtcblxuXHRpZiAodHlwZW9mIGxpc3RlbmVycyA9PT0gJ29iamVjdCcpIHtcblx0XHRmb3IgKGkgPSAwOyAoY2FuZGlkYXRlID0gbGlzdGVuZXJzW2ldKTsgKytpKSB7XG5cdFx0XHRpZiAoKGNhbmRpZGF0ZSA9PT0gbGlzdGVuZXIpIHx8XG5cdFx0XHRcdFx0KGNhbmRpZGF0ZS5fX2VlT25jZUxpc3RlbmVyX18gPT09IGxpc3RlbmVyKSkge1xuXHRcdFx0XHRpZiAobGlzdGVuZXJzLmxlbmd0aCA9PT0gMikgZGF0YVt0eXBlXSA9IGxpc3RlbmVyc1tpID8gMCA6IDFdO1xuXHRcdFx0XHRlbHNlIGxpc3RlbmVycy5zcGxpY2UoaSwgMSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdGlmICgobGlzdGVuZXJzID09PSBsaXN0ZW5lcikgfHxcblx0XHRcdFx0KGxpc3RlbmVycy5fX2VlT25jZUxpc3RlbmVyX18gPT09IGxpc3RlbmVyKSkge1xuXHRcdFx0ZGVsZXRlIGRhdGFbdHlwZV07XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRoaXM7XG59O1xuXG5lbWl0ID0gZnVuY3Rpb24gKHR5cGUpIHtcblx0dmFyIGksIGwsIGxpc3RlbmVyLCBsaXN0ZW5lcnMsIGFyZ3M7XG5cblx0aWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMsICdfX2VlX18nKSkgcmV0dXJuO1xuXHRsaXN0ZW5lcnMgPSB0aGlzLl9fZWVfX1t0eXBlXTtcblx0aWYgKCFsaXN0ZW5lcnMpIHJldHVybjtcblxuXHRpZiAodHlwZW9mIGxpc3RlbmVycyA9PT0gJ29iamVjdCcpIHtcblx0XHRsID0gYXJndW1lbnRzLmxlbmd0aDtcblx0XHRhcmdzID0gbmV3IEFycmF5KGwgLSAxKTtcblx0XHRmb3IgKGkgPSAxOyBpIDwgbDsgKytpKSBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcblxuXHRcdGxpc3RlbmVycyA9IGxpc3RlbmVycy5zbGljZSgpO1xuXHRcdGZvciAoaSA9IDA7IChsaXN0ZW5lciA9IGxpc3RlbmVyc1tpXSk7ICsraSkge1xuXHRcdFx0YXBwbHkuY2FsbChsaXN0ZW5lciwgdGhpcywgYXJncyk7XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuXHRcdGNhc2UgMTpcblx0XHRcdGNhbGwuY2FsbChsaXN0ZW5lcnMsIHRoaXMpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAyOlxuXHRcdFx0Y2FsbC5jYWxsKGxpc3RlbmVycywgdGhpcywgYXJndW1lbnRzWzFdKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgMzpcblx0XHRcdGNhbGwuY2FsbChsaXN0ZW5lcnMsIHRoaXMsIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdKTtcblx0XHRcdGJyZWFrO1xuXHRcdGRlZmF1bHQ6XG5cdFx0XHRsID0gYXJndW1lbnRzLmxlbmd0aDtcblx0XHRcdGFyZ3MgPSBuZXcgQXJyYXkobCAtIDEpO1xuXHRcdFx0Zm9yIChpID0gMTsgaSA8IGw7ICsraSkge1xuXHRcdFx0XHRhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcblx0XHRcdH1cblx0XHRcdGFwcGx5LmNhbGwobGlzdGVuZXJzLCB0aGlzLCBhcmdzKTtcblx0XHR9XG5cdH1cbn07XG5cbm1ldGhvZHMgPSB7XG5cdG9uOiBvbixcblx0b25jZTogb25jZSxcblx0b2ZmOiBvZmYsXG5cdGVtaXQ6IGVtaXRcbn07XG5cbmRlc2NyaXB0b3JzID0ge1xuXHRvbjogZChvbiksXG5cdG9uY2U6IGQob25jZSksXG5cdG9mZjogZChvZmYpLFxuXHRlbWl0OiBkKGVtaXQpXG59O1xuXG5iYXNlID0gZGVmaW5lUHJvcGVydGllcyh7fSwgZGVzY3JpcHRvcnMpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBmdW5jdGlvbiAobykge1xuXHRyZXR1cm4gKG8gPT0gbnVsbCkgPyBjcmVhdGUoYmFzZSkgOiBkZWZpbmVQcm9wZXJ0aWVzKE9iamVjdChvKSwgZGVzY3JpcHRvcnMpO1xufTtcbmV4cG9ydHMubWV0aG9kcyA9IG1ldGhvZHM7XG5cblxuLyoqKi8gfSksXG4vKiA3MyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgdG9Qb3NJbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpXG5cbiAgLCBjcmVhdGUgPSBPYmplY3QuY3JlYXRlLCBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpbWl0KSB7XG5cdHZhciBzaXplID0gMCwgYmFzZSA9IDEsIHF1ZXVlID0gY3JlYXRlKG51bGwpLCBtYXAgPSBjcmVhdGUobnVsbCksIGluZGV4ID0gMCwgZGVsO1xuXHRsaW1pdCA9IHRvUG9zSW50KGxpbWl0KTtcblx0cmV0dXJuIHtcblx0XHRoaXQ6IGZ1bmN0aW9uIChpZCkge1xuXHRcdFx0dmFyIG9sZEluZGV4ID0gbWFwW2lkXSwgbnVJbmRleCA9ICsraW5kZXg7XG5cdFx0XHRxdWV1ZVtudUluZGV4XSA9IGlkO1xuXHRcdFx0bWFwW2lkXSA9IG51SW5kZXg7XG5cdFx0XHRpZiAoIW9sZEluZGV4KSB7XG5cdFx0XHRcdCsrc2l6ZTtcblx0XHRcdFx0aWYgKHNpemUgPD0gbGltaXQpIHJldHVybjtcblx0XHRcdFx0aWQgPSBxdWV1ZVtiYXNlXTtcblx0XHRcdFx0ZGVsKGlkKTtcblx0XHRcdFx0cmV0dXJuIGlkO1xuXHRcdFx0fVxuXHRcdFx0ZGVsZXRlIHF1ZXVlW29sZEluZGV4XTtcblx0XHRcdGlmIChiYXNlICE9PSBvbGRJbmRleCkgcmV0dXJuO1xuXHRcdFx0d2hpbGUgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKHF1ZXVlLCArK2Jhc2UpKSBjb250aW51ZTsgLy9qc2xpbnQ6IHNraXBcblx0XHR9LFxuXHRcdGRlbGV0ZTogZGVsID0gZnVuY3Rpb24gKGlkKSB7XG5cdFx0XHR2YXIgb2xkSW5kZXggPSBtYXBbaWRdO1xuXHRcdFx0aWYgKCFvbGRJbmRleCkgcmV0dXJuO1xuXHRcdFx0ZGVsZXRlIHF1ZXVlW29sZEluZGV4XTtcblx0XHRcdGRlbGV0ZSBtYXBbaWRdO1xuXHRcdFx0LS1zaXplO1xuXHRcdFx0aWYgKGJhc2UgIT09IG9sZEluZGV4KSByZXR1cm47XG5cdFx0XHRpZiAoIXNpemUpIHtcblx0XHRcdFx0aW5kZXggPSAwO1xuXHRcdFx0XHRiYXNlID0gMTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0d2hpbGUgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKHF1ZXVlLCArK2Jhc2UpKSBjb250aW51ZTsgLy9qc2xpbnQ6IHNraXBcblx0XHR9LFxuXHRcdGNsZWFyOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRzaXplID0gMDtcblx0XHRcdGJhc2UgPSAxO1xuXHRcdFx0cXVldWUgPSBjcmVhdGUobnVsbCk7XG5cdFx0XHRtYXAgPSBjcmVhdGUobnVsbCk7XG5cdFx0XHRpbmRleCA9IDA7XG5cdFx0fVxuXHR9O1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDc0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLy8gU3VwcG9ydCBmb3IgYXN5bmNocm9ub3VzIGZ1bmN0aW9uc1xuXG5cblxudmFyIGFGcm9tICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oOSlcbiAgLCBvYmplY3RNYXAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KVxuICAsIG1peGluICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjApXG4gICwgZGVmaW5lTGVuZ3RoID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNylcbiAgLCBuZXh0VGljayAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKVxuXG4gICwgc2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2VcbiAgLCBhcHBseSA9IEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseSwgY3JlYXRlID0gT2JqZWN0LmNyZWF0ZVxuICAsIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxuX193ZWJwYWNrX3JlcXVpcmVfXygyKS5hc3luYyA9IGZ1bmN0aW9uICh0YmksIGNvbmYpIHtcblx0dmFyIHdhaXRpbmcgPSBjcmVhdGUobnVsbCksIGNhY2hlID0gY3JlYXRlKG51bGwpXG5cdCAgLCBiYXNlID0gY29uZi5tZW1vaXplZCwgb3JpZ2luYWwgPSBjb25mLm9yaWdpbmFsXG5cdCAgLCBjdXJyZW50Q2FsbGJhY2ssIGN1cnJlbnRDb250ZXh0LCBjdXJyZW50QXJncztcblxuXHQvLyBJbml0aWFsXG5cdGNvbmYubWVtb2l6ZWQgPSBkZWZpbmVMZW5ndGgoZnVuY3Rpb24gKGFyZykge1xuXHRcdHZhciBhcmdzID0gYXJndW1lbnRzLCBsYXN0ID0gYXJnc1thcmdzLmxlbmd0aCAtIDFdO1xuXHRcdGlmICh0eXBlb2YgbGFzdCA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0Y3VycmVudENhbGxiYWNrID0gbGFzdDtcblx0XHRcdGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3MsIDAsIC0xKTtcblx0XHR9XG5cdFx0cmV0dXJuIGJhc2UuYXBwbHkoY3VycmVudENvbnRleHQgPSB0aGlzLCBjdXJyZW50QXJncyA9IGFyZ3MpO1xuXHR9LCBiYXNlKTtcblx0dHJ5IHsgbWl4aW4oY29uZi5tZW1vaXplZCwgYmFzZSk7IH0gY2F0Y2ggKGlnbm9yZSkge31cblxuXHQvLyBGcm9tIGNhY2hlIChzeW5jKVxuXHRjb25mLm9uKCdnZXQnLCBmdW5jdGlvbiAoaWQpIHtcblx0XHR2YXIgY2IsIGNvbnRleHQsIGFyZ3M7XG5cdFx0aWYgKCFjdXJyZW50Q2FsbGJhY2spIHJldHVybjtcblxuXHRcdC8vIFVucmVzb2x2ZWRcblx0XHRpZiAod2FpdGluZ1tpZF0pIHtcblx0XHRcdGlmICh0eXBlb2Ygd2FpdGluZ1tpZF0gPT09ICdmdW5jdGlvbicpIHdhaXRpbmdbaWRdID0gW3dhaXRpbmdbaWRdLCBjdXJyZW50Q2FsbGJhY2tdO1xuXHRcdFx0ZWxzZSB3YWl0aW5nW2lkXS5wdXNoKGN1cnJlbnRDYWxsYmFjayk7XG5cdFx0XHRjdXJyZW50Q2FsbGJhY2sgPSBudWxsO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIFJlc29sdmVkLCBhc3N1cmUgbmV4dCB0aWNrIGludm9jYXRpb25cblx0XHRjYiA9IGN1cnJlbnRDYWxsYmFjaztcblx0XHRjb250ZXh0ID0gY3VycmVudENvbnRleHQ7XG5cdFx0YXJncyA9IGN1cnJlbnRBcmdzO1xuXHRcdGN1cnJlbnRDYWxsYmFjayA9IGN1cnJlbnRDb250ZXh0ID0gY3VycmVudEFyZ3MgPSBudWxsO1xuXHRcdG5leHRUaWNrKGZ1bmN0aW9uICgpIHtcblx0XHRcdHZhciBkYXRhO1xuXHRcdFx0aWYgKGhhc093blByb3BlcnR5LmNhbGwoY2FjaGUsIGlkKSkge1xuXHRcdFx0XHRkYXRhID0gY2FjaGVbaWRdO1xuXHRcdFx0XHRjb25mLmVtaXQoJ2dldGFzeW5jJywgaWQsIGFyZ3MsIGNvbnRleHQpO1xuXHRcdFx0XHRhcHBseS5jYWxsKGNiLCBkYXRhLmNvbnRleHQsIGRhdGEuYXJncyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBQdXJnZWQgaW4gYSBtZWFudGltZSwgd2Ugc2hvdWxkbid0IHJlbHkgb24gY2FjaGVkIHZhbHVlLCByZWNhbGxcblx0XHRcdFx0Y3VycmVudENhbGxiYWNrID0gY2I7XG5cdFx0XHRcdGN1cnJlbnRDb250ZXh0ID0gY29udGV4dDtcblx0XHRcdFx0Y3VycmVudEFyZ3MgPSBhcmdzO1xuXHRcdFx0XHRiYXNlLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9KTtcblxuXHQvLyBOb3QgZnJvbSBjYWNoZVxuXHRjb25mLm9yaWdpbmFsID0gZnVuY3Rpb24gKCkge1xuXHRcdHZhciBhcmdzLCBjYiwgb3JpZ0NiLCByZXN1bHQ7XG5cdFx0aWYgKCFjdXJyZW50Q2FsbGJhY2spIHJldHVybiBhcHBseS5jYWxsKG9yaWdpbmFsLCB0aGlzLCBhcmd1bWVudHMpO1xuXHRcdGFyZ3MgPSBhRnJvbShhcmd1bWVudHMpO1xuXHRcdGNiID0gZnVuY3Rpb24gc2VsZihlcnIpIHtcblx0XHRcdHZhciBjYiwgYXJncywgaWQgPSBzZWxmLmlkO1xuXHRcdFx0aWYgKGlkID09IG51bGwpIHtcblx0XHRcdFx0Ly8gU2hvdWxkbid0IGhhcHBlbiwgbWVhbnMgYXN5bmMgY2FsbGJhY2sgd2FzIGNhbGxlZCBzeW5jIHdheVxuXHRcdFx0XHRuZXh0VGljayhhcHBseS5iaW5kKHNlbGYsIHRoaXMsIGFyZ3VtZW50cykpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRkZWxldGUgc2VsZi5pZDtcblx0XHRcdGNiID0gd2FpdGluZ1tpZF07XG5cdFx0XHRkZWxldGUgd2FpdGluZ1tpZF07XG5cdFx0XHRpZiAoIWNiKSB7XG5cdFx0XHRcdC8vIEFscmVhZHkgcHJvY2Vzc2VkLFxuXHRcdFx0XHQvLyBvdXRjb21lIG9mIHJhY2UgY29uZGl0aW9uOiBhc3luY0ZuKDEsIGNiKSwgYXN5bmNGbi5jbGVhcigpLCBhc3luY0ZuKDEsIGNiKVxuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRhcmdzID0gYUZyb20oYXJndW1lbnRzKTtcblx0XHRcdGlmIChjb25mLmhhcyhpZCkpIHtcblx0XHRcdFx0aWYgKGVycikge1xuXHRcdFx0XHRcdGNvbmYuZGVsZXRlKGlkKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRjYWNoZVtpZF0gPSB7IGNvbnRleHQ6IHRoaXMsIGFyZ3M6IGFyZ3MgfTtcblx0XHRcdFx0XHRjb25mLmVtaXQoJ3NldGFzeW5jJywgaWQsICh0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicpID8gMSA6IGNiLmxlbmd0aCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGlmICh0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0cmVzdWx0ID0gYXBwbHkuY2FsbChjYiwgdGhpcywgYXJncyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjYi5mb3JFYWNoKGZ1bmN0aW9uIChjYikgeyByZXN1bHQgPSBhcHBseS5jYWxsKGNiLCB0aGlzLCBhcmdzKTsgfSwgdGhpcyk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH07XG5cdFx0b3JpZ0NiID0gY3VycmVudENhbGxiYWNrO1xuXHRcdGN1cnJlbnRDYWxsYmFjayA9IGN1cnJlbnRDb250ZXh0ID0gY3VycmVudEFyZ3MgPSBudWxsO1xuXHRcdGFyZ3MucHVzaChjYik7XG5cdFx0cmVzdWx0ID0gYXBwbHkuY2FsbChvcmlnaW5hbCwgdGhpcywgYXJncyk7XG5cdFx0Y2IuY2IgPSBvcmlnQ2I7XG5cdFx0Y3VycmVudENhbGxiYWNrID0gY2I7XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fTtcblxuXHQvLyBBZnRlciBub3QgZnJvbSBjYWNoZSBjYWxsXG5cdGNvbmYub24oJ3NldCcsIGZ1bmN0aW9uIChpZCkge1xuXHRcdGlmICghY3VycmVudENhbGxiYWNrKSB7XG5cdFx0XHRjb25mLmRlbGV0ZShpZCk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGlmICh3YWl0aW5nW2lkXSkge1xuXHRcdFx0Ly8gUmFjZSBjb25kaXRpb246IGFzeW5jRm4oMSwgY2IpLCBhc3luY0ZuLmNsZWFyKCksIGFzeW5jRm4oMSwgY2IpXG5cdFx0XHRpZiAodHlwZW9mIHdhaXRpbmdbaWRdID09PSAnZnVuY3Rpb24nKSB3YWl0aW5nW2lkXSA9IFt3YWl0aW5nW2lkXSwgY3VycmVudENhbGxiYWNrLmNiXTtcblx0XHRcdGVsc2Ugd2FpdGluZ1tpZF0ucHVzaChjdXJyZW50Q2FsbGJhY2suY2IpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR3YWl0aW5nW2lkXSA9IGN1cnJlbnRDYWxsYmFjay5jYjtcblx0XHR9XG5cdFx0ZGVsZXRlIGN1cnJlbnRDYWxsYmFjay5jYjtcblx0XHRjdXJyZW50Q2FsbGJhY2suaWQgPSBpZDtcblx0XHRjdXJyZW50Q2FsbGJhY2sgPSBudWxsO1xuXHR9KTtcblxuXHQvLyBPbiBkZWxldGVcblx0Y29uZi5vbignZGVsZXRlJywgZnVuY3Rpb24gKGlkKSB7XG5cdFx0dmFyIHJlc3VsdDtcblx0XHQvLyBJZiBmYWxzZSwgd2UgZG9uJ3QgaGF2ZSB2YWx1ZSB5ZXQsIHNvIHdlIGFzc3VtZSB0aGF0IGludGVudGlvbiBpcyBub3Rcblx0XHQvLyB0byBtZW1vaXplIHRoaXMgY2FsbC4gQWZ0ZXIgdmFsdWUgaXMgb2J0YWluZWQgd2UgZG9uJ3QgY2FjaGUgaXQgYnV0XG5cdFx0Ly8gZ3JhY2VmdWxseSBwYXNzIHRvIGNhbGxiYWNrXG5cdFx0aWYgKGhhc093blByb3BlcnR5LmNhbGwod2FpdGluZywgaWQpKSByZXR1cm47XG5cdFx0aWYgKCFjYWNoZVtpZF0pIHJldHVybjtcblx0XHRyZXN1bHQgPSBjYWNoZVtpZF07XG5cdFx0ZGVsZXRlIGNhY2hlW2lkXTtcblx0XHRjb25mLmVtaXQoJ2RlbGV0ZWFzeW5jJywgaWQsIHNsaWNlLmNhbGwocmVzdWx0LmFyZ3MsIDEpKTtcblx0fSk7XG5cblx0Ly8gT24gY2xlYXJcblx0Y29uZi5vbignY2xlYXInLCBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIG9sZENhY2hlID0gY2FjaGU7XG5cdFx0Y2FjaGUgPSBjcmVhdGUobnVsbCk7XG5cdFx0Y29uZi5lbWl0KCdjbGVhcmFzeW5jJywgb2JqZWN0TWFwKG9sZENhY2hlLCBmdW5jdGlvbiAoZGF0YSkge1xuXHRcdFx0cmV0dXJuIHNsaWNlLmNhbGwoZGF0YS5hcmdzLCAxKTtcblx0XHR9KSk7XG5cdH0pO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDc1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLy8gQ2FsbCBkaXNwb3NlIGNhbGxiYWNrIG9uIGVhY2ggY2FjaGUgcHVyZ2VcblxuXG5cbnZhciBjYWxsYWJsZSAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKVxuICAsIGZvckVhY2ggICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpXG4gICwgZXh0ZW5zaW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oMilcblxuICAsIGFwcGx5ID0gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5O1xuXG5leHRlbnNpb25zLmRpc3Bvc2UgPSBmdW5jdGlvbiAoZGlzcG9zZSwgY29uZiwgb3B0aW9ucykge1xuXHR2YXIgZGVsO1xuXHRjYWxsYWJsZShkaXNwb3NlKTtcblx0aWYgKChvcHRpb25zLmFzeW5jICYmIGV4dGVuc2lvbnMuYXN5bmMpIHx8IChvcHRpb25zLnByb21pc2UgJiYgZXh0ZW5zaW9ucy5wcm9taXNlKSkge1xuXHRcdGNvbmYub24oJ2RlbGV0ZWFzeW5jJywgZGVsID0gZnVuY3Rpb24gKGlkLCByZXN1bHRBcnJheSkge1xuXHRcdFx0YXBwbHkuY2FsbChkaXNwb3NlLCBudWxsLCByZXN1bHRBcnJheSk7XG5cdFx0fSk7XG5cdFx0Y29uZi5vbignY2xlYXJhc3luYycsIGZ1bmN0aW9uIChjYWNoZSkge1xuXHRcdFx0Zm9yRWFjaChjYWNoZSwgZnVuY3Rpb24gKHJlc3VsdCwgaWQpIHsgZGVsKGlkLCByZXN1bHQpOyB9KTtcblx0XHR9KTtcblx0XHRyZXR1cm47XG5cdH1cblx0Y29uZi5vbignZGVsZXRlJywgZGVsID0gZnVuY3Rpb24gKGlkLCByZXN1bHQpIHsgZGlzcG9zZShyZXN1bHQpOyB9KTtcblx0Y29uZi5vbignY2xlYXInLCBmdW5jdGlvbiAoY2FjaGUpIHtcblx0XHRmb3JFYWNoKGNhY2hlLCBmdW5jdGlvbiAocmVzdWx0LCBpZCkgeyBkZWwoaWQsIHJlc3VsdCk7IH0pO1xuXHR9KTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiA3NiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8vIFRpbWVvdXQgY2FjaGVkIHZhbHVlc1xuXG5cblxudmFyIGFGcm9tICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpXG4gICwgZm9yRWFjaCAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNylcbiAgLCBuZXh0VGljayAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMClcbiAgLCBpc1Byb21pc2UgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMilcbiAgLCB0aW1lb3V0ICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5NilcbiAgLCBleHRlbnNpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKVxuXG4gICwgbm9vcCA9IEZ1bmN0aW9uLnByb3RvdHlwZVxuICAsIG1heCA9IE1hdGgubWF4LCBtaW4gPSBNYXRoLm1pbiwgY3JlYXRlID0gT2JqZWN0LmNyZWF0ZTtcblxuZXh0ZW5zaW9ucy5tYXhBZ2UgPSBmdW5jdGlvbiAobWF4QWdlLCBjb25mLCBvcHRpb25zKSB7XG5cdHZhciB0aW1lb3V0cywgcG9zdGZpeCwgcHJlRmV0Y2hBZ2UsIHByZUZldGNoVGltZW91dHM7XG5cblx0bWF4QWdlID0gdGltZW91dChtYXhBZ2UpO1xuXHRpZiAoIW1heEFnZSkgcmV0dXJuO1xuXG5cdHRpbWVvdXRzID0gY3JlYXRlKG51bGwpO1xuXHRwb3N0Zml4ID0gKChvcHRpb25zLmFzeW5jICYmIGV4dGVuc2lvbnMuYXN5bmMpIHx8IChvcHRpb25zLnByb21pc2UgJiYgZXh0ZW5zaW9ucy5wcm9taXNlKSlcblx0XHQ/ICdhc3luYycgOiAnJztcblx0Y29uZi5vbignc2V0JyArIHBvc3RmaXgsIGZ1bmN0aW9uIChpZCkge1xuXHRcdHRpbWVvdXRzW2lkXSA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyBjb25mLmRlbGV0ZShpZCk7IH0sIG1heEFnZSk7XG5cdFx0aWYgKCFwcmVGZXRjaFRpbWVvdXRzKSByZXR1cm47XG5cdFx0aWYgKHByZUZldGNoVGltZW91dHNbaWRdKSB7XG5cdFx0XHRpZiAocHJlRmV0Y2hUaW1lb3V0c1tpZF0gIT09ICduZXh0VGljaycpIGNsZWFyVGltZW91dChwcmVGZXRjaFRpbWVvdXRzW2lkXSk7XG5cdFx0fVxuXHRcdHByZUZldGNoVGltZW91dHNbaWRdID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdFx0XHRkZWxldGUgcHJlRmV0Y2hUaW1lb3V0c1tpZF07XG5cdFx0fSwgcHJlRmV0Y2hBZ2UpO1xuXHR9KTtcblx0Y29uZi5vbignZGVsZXRlJyArIHBvc3RmaXgsIGZ1bmN0aW9uIChpZCkge1xuXHRcdGNsZWFyVGltZW91dCh0aW1lb3V0c1tpZF0pO1xuXHRcdGRlbGV0ZSB0aW1lb3V0c1tpZF07XG5cdFx0aWYgKCFwcmVGZXRjaFRpbWVvdXRzKSByZXR1cm47XG5cdFx0aWYgKHByZUZldGNoVGltZW91dHNbaWRdICE9PSAnbmV4dFRpY2snKSBjbGVhclRpbWVvdXQocHJlRmV0Y2hUaW1lb3V0c1tpZF0pO1xuXHRcdGRlbGV0ZSBwcmVGZXRjaFRpbWVvdXRzW2lkXTtcblx0fSk7XG5cblx0aWYgKG9wdGlvbnMucHJlRmV0Y2gpIHtcblx0XHRpZiAoKG9wdGlvbnMucHJlRmV0Y2ggPT09IHRydWUpIHx8IGlzTmFOKG9wdGlvbnMucHJlRmV0Y2gpKSB7XG5cdFx0XHRwcmVGZXRjaEFnZSA9IDAuMzMzO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRwcmVGZXRjaEFnZSA9IG1heChtaW4oTnVtYmVyKG9wdGlvbnMucHJlRmV0Y2gpLCAxKSwgMCk7XG5cdFx0fVxuXHRcdGlmIChwcmVGZXRjaEFnZSkge1xuXHRcdFx0cHJlRmV0Y2hUaW1lb3V0cyA9IHt9O1xuXHRcdFx0cHJlRmV0Y2hBZ2UgPSAoMSAtIHByZUZldGNoQWdlKSAqIG1heEFnZTtcblx0XHRcdGNvbmYub24oJ2dldCcgKyBwb3N0Zml4LCBmdW5jdGlvbiAoaWQsIGFyZ3MsIGNvbnRleHQpIHtcblx0XHRcdFx0aWYgKCFwcmVGZXRjaFRpbWVvdXRzW2lkXSkge1xuXHRcdFx0XHRcdHByZUZldGNoVGltZW91dHNbaWRdID0gJ25leHRUaWNrJztcblx0XHRcdFx0XHRuZXh0VGljayhmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHR2YXIgcmVzdWx0O1xuXHRcdFx0XHRcdFx0aWYgKHByZUZldGNoVGltZW91dHNbaWRdICE9PSAnbmV4dFRpY2snKSByZXR1cm47XG5cdFx0XHRcdFx0XHRkZWxldGUgcHJlRmV0Y2hUaW1lb3V0c1tpZF07XG5cdFx0XHRcdFx0XHRjb25mLmRlbGV0ZShpZCk7XG5cdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5hc3luYykge1xuXHRcdFx0XHRcdFx0XHRhcmdzID0gYUZyb20oYXJncyk7XG5cdFx0XHRcdFx0XHRcdGFyZ3MucHVzaChub29wKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHJlc3VsdCA9IGNvbmYubWVtb2l6ZWQuYXBwbHkoY29udGV4dCwgYXJncyk7XG5cdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5wcm9taXNlKSB7XG5cdFx0XHRcdFx0XHRcdC8vIFN1cHJlc3MgZXZlbnR1YWwgZXJyb3Igd2FybmluZ3Ncblx0XHRcdFx0XHRcdFx0aWYgKGlzUHJvbWlzZShyZXN1bHQpKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKHR5cGVvZiByZXN1bHQuZG9uZSA9PT0gJ2Z1bmN0aW9uJykgcmVzdWx0LmRvbmUobm9vcCwgbm9vcCk7XG5cdFx0XHRcdFx0XHRcdFx0ZWxzZSByZXN1bHQudGhlbihub29wLCBub29wKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHRjb25mLm9uKCdjbGVhcicgKyBwb3N0Zml4LCBmdW5jdGlvbiAoKSB7XG5cdFx0Zm9yRWFjaCh0aW1lb3V0cywgZnVuY3Rpb24gKGlkKSB7IGNsZWFyVGltZW91dChpZCk7IH0pO1xuXHRcdHRpbWVvdXRzID0ge307XG5cdFx0aWYgKHByZUZldGNoVGltZW91dHMpIHtcblx0XHRcdGZvckVhY2gocHJlRmV0Y2hUaW1lb3V0cywgZnVuY3Rpb24gKGlkKSB7XG5cdFx0XHRcdGlmIChpZCAhPT0gJ25leHRUaWNrJykgY2xlYXJUaW1lb3V0KGlkKTtcblx0XHRcdH0pO1xuXHRcdFx0cHJlRmV0Y2hUaW1lb3V0cyA9IHt9O1xuXHRcdH1cblx0fSk7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogNzcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vLyBMaW1pdCBjYWNoZSBzaXplLCBMUlUgKGxlYXN0IHJlY2VudGx5IHVzZWQpIGFsZ29yaXRobS5cblxuXG5cbnZhciB0b1Bvc0ludGVnZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpXG4gICwgbHJ1UXVldWUgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MylcbiAgLCBleHRlbnNpb25zICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG5leHRlbnNpb25zLm1heCA9IGZ1bmN0aW9uIChtYXgsIGNvbmYsIG9wdGlvbnMpIHtcblx0dmFyIHBvc3RmaXgsIHF1ZXVlLCBoaXQ7XG5cblx0bWF4ID0gdG9Qb3NJbnRlZ2VyKG1heCk7XG5cdGlmICghbWF4KSByZXR1cm47XG5cblx0cXVldWUgPSBscnVRdWV1ZShtYXgpO1xuXHRwb3N0Zml4ID0gKChvcHRpb25zLmFzeW5jICYmIGV4dGVuc2lvbnMuYXN5bmMpIHx8IChvcHRpb25zLnByb21pc2UgJiYgZXh0ZW5zaW9ucy5wcm9taXNlKSlcblx0XHQ/ICdhc3luYycgOiAnJztcblxuXHRjb25mLm9uKCdzZXQnICsgcG9zdGZpeCwgaGl0ID0gZnVuY3Rpb24gKGlkKSB7XG5cdFx0aWQgPSBxdWV1ZS5oaXQoaWQpO1xuXHRcdGlmIChpZCA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG5cdFx0Y29uZi5kZWxldGUoaWQpO1xuXHR9KTtcblx0Y29uZi5vbignZ2V0JyArIHBvc3RmaXgsIGhpdCk7XG5cdGNvbmYub24oJ2RlbGV0ZScgKyBwb3N0Zml4LCBxdWV1ZS5kZWxldGUpO1xuXHRjb25mLm9uKCdjbGVhcicgKyBwb3N0Zml4LCBxdWV1ZS5jbGVhcik7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogNzggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vLyBTdXBwb3J0IGZvciBmdW5jdGlvbnMgcmV0dXJuaW5nIHByb21pc2VcblxuXG5cbnZhciBvYmplY3RNYXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KVxuICAsIGlzUHJvbWlzZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpXG4gICwgbmV4dFRpY2sgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMClcblxuICAsIGNyZWF0ZSA9IE9iamVjdC5jcmVhdGUsIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxuX193ZWJwYWNrX3JlcXVpcmVfXygyKS5wcm9taXNlID0gZnVuY3Rpb24gKG1vZGUsIGNvbmYpIHtcblx0dmFyIHdhaXRpbmcgPSBjcmVhdGUobnVsbCksIGNhY2hlID0gY3JlYXRlKG51bGwpLCBwcm9taXNlcyA9IGNyZWF0ZShudWxsKTtcblxuXHQvLyBBZnRlciBub3QgZnJvbSBjYWNoZSBjYWxsXG5cdGNvbmYub24oJ3NldCcsIGZ1bmN0aW9uIChpZCwgaWdub3JlLCBwcm9taXNlKSB7XG5cdFx0dmFyIGlzRmFpbGVkID0gZmFsc2U7XG5cblx0XHRpZiAoIWlzUHJvbWlzZShwcm9taXNlKSkge1xuXHRcdFx0Ly8gTm9uIHByb21pc2UgcmVzdWx0XG5cdFx0XHRjYWNoZVtpZF0gPSBwcm9taXNlO1xuXHRcdFx0Y29uZi5lbWl0KCdzZXRhc3luYycsIGlkLCAxKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0d2FpdGluZ1tpZF0gPSAxO1xuXHRcdHByb21pc2VzW2lkXSA9IHByb21pc2U7XG5cdFx0dmFyIG9uU3VjY2VzcyA9IGZ1bmN0aW9uIChyZXN1bHQpIHtcblx0XHRcdHZhciBjb3VudCA9IHdhaXRpbmdbaWRdO1xuXHRcdFx0aWYgKGlzRmFpbGVkKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihcIk1lbW9pemVlIGVycm9yOiBQcm9taXNlIHJlc29sdmVkIHdpdGggYm90aCBmYWlsdXJlIGFuZCBzdWNjZXNzLFwiICtcblx0XHRcdFx0XHRcIiB0aGlzIGNhbiBiZSByZXN1bHQgb2YgdW5vcmRlcmVkIGRvbmUgJiBmaW5hbGx5IHJlc29sdXRpb24uXFxuXCIgK1xuXHRcdFx0XHRcdFwiSW5zdGVhZCBvZiBgcHJvbWlzZTogdHJ1ZWAgY29uc2lkZXIgY29uZmlndXJpbmcgbWVtb2l6YXRpb24gdmlhIGBwcm9taXNlOiAndGhlbidgIG9yIFwiICtcblx0XHRcdFx0XHRcImBwcm9taXNlOiAnZG9uZSdcIik7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIWNvdW50KSByZXR1cm47IC8vIGRlbGV0ZWQgZnJvbSBjYWNoZSBiZWZvcmUgcmVzb2x2ZWRcblx0XHRcdGRlbGV0ZSB3YWl0aW5nW2lkXTtcblx0XHRcdGNhY2hlW2lkXSA9IHJlc3VsdDtcblx0XHRcdGNvbmYuZW1pdCgnc2V0YXN5bmMnLCBpZCwgY291bnQpO1xuXHRcdH07XG5cdFx0dmFyIG9uRmFpbHVyZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdGlzRmFpbGVkID0gdHJ1ZTtcblx0XHRcdGlmICghd2FpdGluZ1tpZF0pIHJldHVybjsgLy8gZGVsZXRlZCBmcm9tIGNhY2hlIChvciBzdWNjZWVkIGluIGNhc2Ugb2YgZmluYWxseSlcblx0XHRcdGRlbGV0ZSB3YWl0aW5nW2lkXTtcblx0XHRcdGRlbGV0ZSBwcm9taXNlc1tpZF07XG5cdFx0XHRjb25mLmRlbGV0ZShpZCk7XG5cdFx0fTtcblxuXHRcdGlmICgobW9kZSAhPT0gJ3RoZW4nKSAmJiAodHlwZW9mIHByb21pc2UuZG9uZSA9PT0gJ2Z1bmN0aW9uJykpIHtcblx0XHRcdC8vIE9wdGltYWwgcHJvbWlzZSByZXNvbHV0aW9uXG5cdFx0XHRpZiAoKG1vZGUgIT09ICdkb25lJykgJiYgKHR5cGVvZiBwcm9taXNlLmZpbmFsbHkgPT09ICdmdW5jdGlvbicpKSB7XG5cdFx0XHRcdC8vIFVzZSAnZmluYWxseScgdG8gbm90IHJlZ2lzdGVyIGVycm9yIGhhbmRsaW5nIChzdGlsbCBwcm9wZXIgYmVoYXZpb3IgaXMgc3ViamVjdCB0b1xuXHRcdFx0XHQvLyB1c2VkIGltcGxlbWVudGF0aW9uLCBpZiBsaWJyYXJ5IHRocm93cyB1bmNvbmRpdGlvbmFsbHkgZXZlbiBvbiBoYW5kbGVkIGVycm9yc1xuXHRcdFx0XHQvLyBzd2l0Y2ggdG8gJ3RoZW4nIG1vZGUpXG5cdFx0XHRcdHByb21pc2UuZG9uZShvblN1Y2Nlc3MpO1xuXHRcdFx0XHRwcm9taXNlLmZpbmFsbHkob25GYWlsdXJlKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIFdpdGggbm8gYGZpbmFsbHlgIHNpZGUgZWZmZWN0IGlzIHRoYXQgaXQgbXV0ZXMgYW55IGV2ZW50dWFsXG5cdFx0XHRcdC8vIFwiVW5oYW5kbGVkIGVycm9yXCIgZXZlbnRzIG9uIHJldHVybmVkIHByb21pc2Vcblx0XHRcdFx0cHJvbWlzZS5kb25lKG9uU3VjY2Vzcywgb25GYWlsdXJlKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gV2l0aCBubyBgZG9uZWAgaXQncyBiZXN0IHdlIGNhbiBkby5cblx0XHRcdC8vIFNpZGUgZWZmZWN0IGlzIHRoYXQgaXQgbXV0ZXMgYW55IGV2ZW50dWFsIFwiVW5oYW5kbGVkIGVycm9yXCIgZXZlbnRzIG9uIHJldHVybmVkIHByb21pc2Vcblx0XHRcdHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG5cdFx0XHRcdG5leHRUaWNrKG9uU3VjY2Vzcy5iaW5kKHRoaXMsIHJlc3VsdCkpO1xuXHRcdFx0fSwgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRuZXh0VGljayhvbkZhaWx1cmUpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9KTtcblxuXHQvLyBGcm9tIGNhY2hlIChzeW5jKVxuXHRjb25mLm9uKCdnZXQnLCBmdW5jdGlvbiAoaWQsIGFyZ3MsIGNvbnRleHQpIHtcblx0XHR2YXIgcHJvbWlzZTtcblx0XHRpZiAod2FpdGluZ1tpZF0pIHtcblx0XHRcdCsrd2FpdGluZ1tpZF07IC8vIFN0aWxsIHdhaXRpbmdcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0cHJvbWlzZSA9IHByb21pc2VzW2lkXTtcblx0XHR2YXIgZW1pdCA9IGZ1bmN0aW9uICgpIHsgY29uZi5lbWl0KCdnZXRhc3luYycsIGlkLCBhcmdzLCBjb250ZXh0KTsgfTtcblx0XHRpZiAoaXNQcm9taXNlKHByb21pc2UpKSB7XG5cdFx0XHRpZiAodHlwZW9mIHByb21pc2UuZG9uZSA9PT0gJ2Z1bmN0aW9uJykgcHJvbWlzZS5kb25lKGVtaXQpO1xuXHRcdFx0ZWxzZSBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkgeyBuZXh0VGljayhlbWl0KTsgfSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGVtaXQoKTtcblx0XHR9XG5cdH0pO1xuXG5cdC8vIE9uIGRlbGV0ZVxuXHRjb25mLm9uKCdkZWxldGUnLCBmdW5jdGlvbiAoaWQpIHtcblx0XHRkZWxldGUgcHJvbWlzZXNbaWRdO1xuXHRcdGlmICh3YWl0aW5nW2lkXSkge1xuXHRcdFx0ZGVsZXRlIHdhaXRpbmdbaWRdO1xuXHRcdFx0cmV0dXJuOyAvLyBOb3QgeWV0IHJlc29sdmVkXG5cdFx0fVxuXHRcdGlmICghaGFzT3duUHJvcGVydHkuY2FsbChjYWNoZSwgaWQpKSByZXR1cm47XG5cdFx0dmFyIHJlc3VsdCA9IGNhY2hlW2lkXTtcblx0XHRkZWxldGUgY2FjaGVbaWRdO1xuXHRcdGNvbmYuZW1pdCgnZGVsZXRlYXN5bmMnLCBpZCwgW3Jlc3VsdF0pO1xuXHR9KTtcblxuXHQvLyBPbiBjbGVhclxuXHRjb25mLm9uKCdjbGVhcicsIGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgb2xkQ2FjaGUgPSBjYWNoZTtcblx0XHRjYWNoZSA9IGNyZWF0ZShudWxsKTtcblx0XHR3YWl0aW5nID0gY3JlYXRlKG51bGwpO1xuXHRcdHByb21pc2VzID0gY3JlYXRlKG51bGwpO1xuXHRcdGNvbmYuZW1pdCgnY2xlYXJhc3luYycsIG9iamVjdE1hcChvbGRDYWNoZSwgZnVuY3Rpb24gKGRhdGEpIHsgcmV0dXJuIFtkYXRhXTsgfSkpO1xuXHR9KTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiA3OSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8vIFJlZmVyZW5jZSBjb3VudGVyLCB1c2VmdWwgZm9yIGdhcmJhZ2UgY29sbGVjdG9yIGxpa2UgZnVuY3Rpb25hbGl0eVxuXG5cblxudmFyIGQgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpXG4gICwgZXh0ZW5zaW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oMilcblxuICAsIGNyZWF0ZSA9IE9iamVjdC5jcmVhdGUsIGRlZmluZVByb3BlcnRpZXMgPSBPYmplY3QuZGVmaW5lUHJvcGVydGllcztcblxuZXh0ZW5zaW9ucy5yZWZDb3VudGVyID0gZnVuY3Rpb24gKGlnbm9yZSwgY29uZiwgb3B0aW9ucykge1xuXHR2YXIgY2FjaGUsIHBvc3RmaXg7XG5cblx0Y2FjaGUgPSBjcmVhdGUobnVsbCk7XG5cdHBvc3RmaXggPSAoKG9wdGlvbnMuYXN5bmMgJiYgZXh0ZW5zaW9ucy5hc3luYykgfHwgKG9wdGlvbnMucHJvbWlzZSAmJiBleHRlbnNpb25zLnByb21pc2UpKVxuXHRcdD8gJ2FzeW5jJyA6ICcnO1xuXG5cdGNvbmYub24oJ3NldCcgKyBwb3N0Zml4LCBmdW5jdGlvbiAoaWQsIGxlbmd0aCkgeyBjYWNoZVtpZF0gPSBsZW5ndGggfHwgMTsgfSk7XG5cdGNvbmYub24oJ2dldCcgKyBwb3N0Zml4LCBmdW5jdGlvbiAoaWQpIHsgKytjYWNoZVtpZF07IH0pO1xuXHRjb25mLm9uKCdkZWxldGUnICsgcG9zdGZpeCwgZnVuY3Rpb24gKGlkKSB7IGRlbGV0ZSBjYWNoZVtpZF07IH0pO1xuXHRjb25mLm9uKCdjbGVhcicgKyBwb3N0Zml4LCBmdW5jdGlvbiAoKSB7IGNhY2hlID0ge307IH0pO1xuXG5cdGRlZmluZVByb3BlcnRpZXMoY29uZi5tZW1vaXplZCwge1xuXHRcdGRlbGV0ZVJlZjogZChmdW5jdGlvbiAoKSB7XG5cdFx0XHR2YXIgaWQgPSBjb25mLmdldChhcmd1bWVudHMpO1xuXHRcdFx0aWYgKGlkID09PSBudWxsKSByZXR1cm4gbnVsbDtcblx0XHRcdGlmICghY2FjaGVbaWRdKSByZXR1cm4gbnVsbDtcblx0XHRcdGlmICghLS1jYWNoZVtpZF0pIHtcblx0XHRcdFx0Y29uZi5kZWxldGUoaWQpO1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9KSxcblx0XHRnZXRSZWZDb3VudDogZChmdW5jdGlvbiAoKSB7XG5cdFx0XHR2YXIgaWQgPSBjb25mLmdldChhcmd1bWVudHMpO1xuXHRcdFx0aWYgKGlkID09PSBudWxsKSByZXR1cm4gMDtcblx0XHRcdGlmICghY2FjaGVbaWRdKSByZXR1cm4gMDtcblx0XHRcdHJldHVybiBjYWNoZVtpZF07XG5cdFx0fSlcblx0fSk7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogODAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIG5vcm1hbGl6ZU9wdHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKVxuICAsIHJlc29sdmVMZW5ndGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKVxuICAsIHBsYWluICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg5KTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZm4vKiwgb3B0aW9ucyovKSB7XG5cdHZhciBvcHRpb25zID0gbm9ybWFsaXplT3B0cyhhcmd1bWVudHNbMV0pLCBsZW5ndGg7XG5cblx0aWYgKCFvcHRpb25zLm5vcm1hbGl6ZXIpIHtcblx0XHRsZW5ndGggPSBvcHRpb25zLmxlbmd0aCA9IHJlc29sdmVMZW5ndGgob3B0aW9ucy5sZW5ndGgsIGZuLmxlbmd0aCwgb3B0aW9ucy5hc3luYyk7XG5cdFx0aWYgKGxlbmd0aCAhPT0gMCkge1xuXHRcdFx0aWYgKG9wdGlvbnMucHJpbWl0aXZlKSB7XG5cdFx0XHRcdGlmIChsZW5ndGggPT09IGZhbHNlKSB7XG5cdFx0XHRcdFx0b3B0aW9ucy5ub3JtYWxpemVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4OCk7XG5cdFx0XHRcdH0gZWxzZSBpZiAobGVuZ3RoID4gMSkge1xuXHRcdFx0XHRcdG9wdGlvbnMubm9ybWFsaXplciA9IF9fd2VicGFja19yZXF1aXJlX18oODYpKGxlbmd0aCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmIChsZW5ndGggPT09IGZhbHNlKSBvcHRpb25zLm5vcm1hbGl6ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg3KSgpO1xuXHRcdFx0XHRlbHNlIGlmIChsZW5ndGggPT09IDEpIG9wdGlvbnMubm9ybWFsaXplciA9IF9fd2VicGFja19yZXF1aXJlX18oODQpKCk7XG5cdFx0XHRcdGVsc2Ugb3B0aW9ucy5ub3JtYWxpemVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4NSkobGVuZ3RoKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBBc3N1cmUgZXh0ZW5zaW9uc1xuXHRpZiAob3B0aW9ucy5hc3luYykgX193ZWJwYWNrX3JlcXVpcmVfXyg3NCk7XG5cdGlmIChvcHRpb25zLnByb21pc2UpIF9fd2VicGFja19yZXF1aXJlX18oNzgpO1xuXHRpZiAob3B0aW9ucy5kaXNwb3NlKSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc1KTtcblx0aWYgKG9wdGlvbnMubWF4QWdlKSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc2KTtcblx0aWYgKG9wdGlvbnMubWF4KSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc3KTtcblx0aWYgKG9wdGlvbnMucmVmQ291bnRlcikgX193ZWJwYWNrX3JlcXVpcmVfXyg3OSk7XG5cblx0cmV0dXJuIHBsYWluKGZuLCBvcHRpb25zKTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiA4MSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgY3VzdG9tRXJyb3IgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNDgpXG4gICwgZGVmaW5lTGVuZ3RoICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpXG4gICwgZCAgICAgICAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNilcbiAgLCBlZSAgICAgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MikubWV0aG9kc1xuICAsIHJlc29sdmVSZXNvbHZlICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgzKVxuICAsIHJlc29sdmVOb3JtYWxpemUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgyKVxuXG4gICwgYXBwbHkgPSBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHksIGNhbGwgPSBGdW5jdGlvbi5wcm90b3R5cGUuY2FsbFxuICAsIGNyZWF0ZSA9IE9iamVjdC5jcmVhdGUsIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eVxuICAsIGRlZmluZVByb3BlcnRpZXMgPSBPYmplY3QuZGVmaW5lUHJvcGVydGllc1xuICAsIG9uID0gZWUub24sIGVtaXQgPSBlZS5lbWl0O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvcmlnaW5hbCwgbGVuZ3RoLCBvcHRpb25zKSB7XG5cdHZhciBjYWNoZSA9IGNyZWF0ZShudWxsKSwgY29uZiwgbWVtTGVuZ3RoLCBnZXQsIHNldCwgZGVsLCBjbGVhciwgZXh0RGVsLFxuXHRcdGV4dEdldCwgZXh0SGFzLCBub3JtYWxpemVyLCBnZXRMaXN0ZW5lcnMsIHNldExpc3RlbmVycywgZGVsZXRlTGlzdGVuZXJzLCBtZW1vaXplZCwgcmVzb2x2ZTtcblx0aWYgKGxlbmd0aCAhPT0gZmFsc2UpIG1lbUxlbmd0aCA9IGxlbmd0aDtcblx0ZWxzZSBpZiAoaXNOYU4ob3JpZ2luYWwubGVuZ3RoKSkgbWVtTGVuZ3RoID0gMTtcblx0ZWxzZSBtZW1MZW5ndGggPSBvcmlnaW5hbC5sZW5ndGg7XG5cblx0aWYgKG9wdGlvbnMubm9ybWFsaXplcikge1xuXHRcdG5vcm1hbGl6ZXIgPSByZXNvbHZlTm9ybWFsaXplKG9wdGlvbnMubm9ybWFsaXplcik7XG5cdFx0Z2V0ID0gbm9ybWFsaXplci5nZXQ7XG5cdFx0c2V0ID0gbm9ybWFsaXplci5zZXQ7XG5cdFx0ZGVsID0gbm9ybWFsaXplci5kZWxldGU7XG5cdFx0Y2xlYXIgPSBub3JtYWxpemVyLmNsZWFyO1xuXHR9XG5cdGlmIChvcHRpb25zLnJlc29sdmVycyAhPSBudWxsKSByZXNvbHZlID0gcmVzb2x2ZVJlc29sdmUob3B0aW9ucy5yZXNvbHZlcnMpO1xuXG5cdGlmIChnZXQpIHtcblx0XHRtZW1vaXplZCA9IGRlZmluZUxlbmd0aChmdW5jdGlvbiAoYXJnKSB7XG5cdFx0XHR2YXIgaWQsIHJlc3VsdCwgYXJncyA9IGFyZ3VtZW50cztcblx0XHRcdGlmIChyZXNvbHZlKSBhcmdzID0gcmVzb2x2ZShhcmdzKTtcblx0XHRcdGlkID0gZ2V0KGFyZ3MpO1xuXHRcdFx0aWYgKGlkICE9PSBudWxsKSB7XG5cdFx0XHRcdGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNhY2hlLCBpZCkpIHtcblx0XHRcdFx0XHRpZiAoZ2V0TGlzdGVuZXJzKSBjb25mLmVtaXQoJ2dldCcsIGlkLCBhcmdzLCB0aGlzKTtcblx0XHRcdFx0XHRyZXR1cm4gY2FjaGVbaWRdO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRpZiAoYXJncy5sZW5ndGggPT09IDEpIHJlc3VsdCA9IGNhbGwuY2FsbChvcmlnaW5hbCwgdGhpcywgYXJnc1swXSk7XG5cdFx0XHRlbHNlIHJlc3VsdCA9IGFwcGx5LmNhbGwob3JpZ2luYWwsIHRoaXMsIGFyZ3MpO1xuXHRcdFx0aWYgKGlkID09PSBudWxsKSB7XG5cdFx0XHRcdGlkID0gZ2V0KGFyZ3MpO1xuXHRcdFx0XHRpZiAoaWQgIT09IG51bGwpIHRocm93IGN1c3RvbUVycm9yKFwiQ2lyY3VsYXIgaW52b2NhdGlvblwiLCAnQ0lSQ1VMQVJfSU5WT0NBVElPTicpO1xuXHRcdFx0XHRpZCA9IHNldChhcmdzKTtcblx0XHRcdH0gZWxzZSBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChjYWNoZSwgaWQpKSB7XG5cdFx0XHRcdHRocm93IGN1c3RvbUVycm9yKFwiQ2lyY3VsYXIgaW52b2NhdGlvblwiLCAnQ0lSQ1VMQVJfSU5WT0NBVElPTicpO1xuXHRcdFx0fVxuXHRcdFx0Y2FjaGVbaWRdID0gcmVzdWx0O1xuXHRcdFx0aWYgKHNldExpc3RlbmVycykgY29uZi5lbWl0KCdzZXQnLCBpZCwgbnVsbCwgcmVzdWx0KTtcblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fSwgbWVtTGVuZ3RoKTtcblx0fSBlbHNlIGlmIChsZW5ndGggPT09IDApIHtcblx0XHRtZW1vaXplZCA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHZhciByZXN1bHQ7XG5cdFx0XHRpZiAoaGFzT3duUHJvcGVydHkuY2FsbChjYWNoZSwgJ2RhdGEnKSkge1xuXHRcdFx0XHRpZiAoZ2V0TGlzdGVuZXJzKSBjb25mLmVtaXQoJ2dldCcsICdkYXRhJywgYXJndW1lbnRzLCB0aGlzKTtcblx0XHRcdFx0cmV0dXJuIGNhY2hlLmRhdGE7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHJlc3VsdCA9IGNhbGwuY2FsbChvcmlnaW5hbCwgdGhpcyk7XG5cdFx0XHRlbHNlIHJlc3VsdCA9IGFwcGx5LmNhbGwob3JpZ2luYWwsIHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0XHRpZiAoaGFzT3duUHJvcGVydHkuY2FsbChjYWNoZSwgJ2RhdGEnKSkge1xuXHRcdFx0XHR0aHJvdyBjdXN0b21FcnJvcihcIkNpcmN1bGFyIGludm9jYXRpb25cIiwgJ0NJUkNVTEFSX0lOVk9DQVRJT04nKTtcblx0XHRcdH1cblx0XHRcdGNhY2hlLmRhdGEgPSByZXN1bHQ7XG5cdFx0XHRpZiAoc2V0TGlzdGVuZXJzKSBjb25mLmVtaXQoJ3NldCcsICdkYXRhJywgbnVsbCwgcmVzdWx0KTtcblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fTtcblx0fSBlbHNlIHtcblx0XHRtZW1vaXplZCA9IGZ1bmN0aW9uIChhcmcpIHtcblx0XHRcdHZhciByZXN1bHQsIGFyZ3MgPSBhcmd1bWVudHMsIGlkO1xuXHRcdFx0aWYgKHJlc29sdmUpIGFyZ3MgPSByZXNvbHZlKGFyZ3VtZW50cyk7XG5cdFx0XHRpZCA9IFN0cmluZyhhcmdzWzBdKTtcblx0XHRcdGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNhY2hlLCBpZCkpIHtcblx0XHRcdFx0aWYgKGdldExpc3RlbmVycykgY29uZi5lbWl0KCdnZXQnLCBpZCwgYXJncywgdGhpcyk7XG5cdFx0XHRcdHJldHVybiBjYWNoZVtpZF07XG5cdFx0XHR9XG5cdFx0XHRpZiAoYXJncy5sZW5ndGggPT09IDEpIHJlc3VsdCA9IGNhbGwuY2FsbChvcmlnaW5hbCwgdGhpcywgYXJnc1swXSk7XG5cdFx0XHRlbHNlIHJlc3VsdCA9IGFwcGx5LmNhbGwob3JpZ2luYWwsIHRoaXMsIGFyZ3MpO1xuXHRcdFx0aWYgKGhhc093blByb3BlcnR5LmNhbGwoY2FjaGUsIGlkKSkge1xuXHRcdFx0XHR0aHJvdyBjdXN0b21FcnJvcihcIkNpcmN1bGFyIGludm9jYXRpb25cIiwgJ0NJUkNVTEFSX0lOVk9DQVRJT04nKTtcblx0XHRcdH1cblx0XHRcdGNhY2hlW2lkXSA9IHJlc3VsdDtcblx0XHRcdGlmIChzZXRMaXN0ZW5lcnMpIGNvbmYuZW1pdCgnc2V0JywgaWQsIG51bGwsIHJlc3VsdCk7XG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH07XG5cdH1cblx0Y29uZiA9IHtcblx0XHRvcmlnaW5hbDogb3JpZ2luYWwsXG5cdFx0bWVtb2l6ZWQ6IG1lbW9pemVkLFxuXHRcdGdldDogZnVuY3Rpb24gKGFyZ3MpIHtcblx0XHRcdGlmIChyZXNvbHZlKSBhcmdzID0gcmVzb2x2ZShhcmdzKTtcblx0XHRcdGlmIChnZXQpIHJldHVybiBnZXQoYXJncyk7XG5cdFx0XHRyZXR1cm4gU3RyaW5nKGFyZ3NbMF0pO1xuXHRcdH0sXG5cdFx0aGFzOiBmdW5jdGlvbiAoaWQpIHsgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoY2FjaGUsIGlkKTsgfSxcblx0XHRkZWxldGU6IGZ1bmN0aW9uIChpZCkge1xuXHRcdFx0dmFyIHJlc3VsdDtcblx0XHRcdGlmICghaGFzT3duUHJvcGVydHkuY2FsbChjYWNoZSwgaWQpKSByZXR1cm47XG5cdFx0XHRpZiAoZGVsKSBkZWwoaWQpO1xuXHRcdFx0cmVzdWx0ID0gY2FjaGVbaWRdO1xuXHRcdFx0ZGVsZXRlIGNhY2hlW2lkXTtcblx0XHRcdGlmIChkZWxldGVMaXN0ZW5lcnMpIGNvbmYuZW1pdCgnZGVsZXRlJywgaWQsIHJlc3VsdCk7XG5cdFx0fSxcblx0XHRjbGVhcjogZnVuY3Rpb24gKCkge1xuXHRcdFx0dmFyIG9sZENhY2hlID0gY2FjaGU7XG5cdFx0XHRpZiAoY2xlYXIpIGNsZWFyKCk7XG5cdFx0XHRjYWNoZSA9IGNyZWF0ZShudWxsKTtcblx0XHRcdGNvbmYuZW1pdCgnY2xlYXInLCBvbGRDYWNoZSk7XG5cdFx0fSxcblx0XHRvbjogZnVuY3Rpb24gKHR5cGUsIGxpc3RlbmVyKSB7XG5cdFx0XHRpZiAodHlwZSA9PT0gJ2dldCcpIGdldExpc3RlbmVycyA9IHRydWU7XG5cdFx0XHRlbHNlIGlmICh0eXBlID09PSAnc2V0Jykgc2V0TGlzdGVuZXJzID0gdHJ1ZTtcblx0XHRcdGVsc2UgaWYgKHR5cGUgPT09ICdkZWxldGUnKSBkZWxldGVMaXN0ZW5lcnMgPSB0cnVlO1xuXHRcdFx0cmV0dXJuIG9uLmNhbGwodGhpcywgdHlwZSwgbGlzdGVuZXIpO1xuXHRcdH0sXG5cdFx0ZW1pdDogZW1pdCxcblx0XHR1cGRhdGVFbnY6IGZ1bmN0aW9uICgpIHsgb3JpZ2luYWwgPSBjb25mLm9yaWdpbmFsOyB9XG5cdH07XG5cdGlmIChnZXQpIHtcblx0XHRleHREZWwgPSBkZWZpbmVMZW5ndGgoZnVuY3Rpb24gKGFyZykge1xuXHRcdFx0dmFyIGlkLCBhcmdzID0gYXJndW1lbnRzO1xuXHRcdFx0aWYgKHJlc29sdmUpIGFyZ3MgPSByZXNvbHZlKGFyZ3MpO1xuXHRcdFx0aWQgPSBnZXQoYXJncyk7XG5cdFx0XHRpZiAoaWQgPT09IG51bGwpIHJldHVybjtcblx0XHRcdGNvbmYuZGVsZXRlKGlkKTtcblx0XHR9LCBtZW1MZW5ndGgpO1xuXHR9IGVsc2UgaWYgKGxlbmd0aCA9PT0gMCkge1xuXHRcdGV4dERlbCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbmYuZGVsZXRlKCdkYXRhJyk7IH07XG5cdH0gZWxzZSB7XG5cdFx0ZXh0RGVsID0gZnVuY3Rpb24gKGFyZykge1xuXHRcdFx0aWYgKHJlc29sdmUpIGFyZyA9IHJlc29sdmUoYXJndW1lbnRzKVswXTtcblx0XHRcdHJldHVybiBjb25mLmRlbGV0ZShhcmcpO1xuXHRcdH07XG5cdH1cblx0ZXh0R2V0ID0gZGVmaW5lTGVuZ3RoKGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgaWQsIGFyZ3MgPSBhcmd1bWVudHM7XG5cdFx0aWYgKHJlc29sdmUpIGFyZ3MgPSByZXNvbHZlKGFyZ3MpO1xuXHRcdGlkID0gZ2V0KGFyZ3MpO1xuXHRcdHJldHVybiBjYWNoZVtpZF07XG5cdH0pO1xuXHRleHRIYXMgPSBkZWZpbmVMZW5ndGgoZnVuY3Rpb24gKCkge1xuXHRcdHZhciBpZCwgYXJncyA9IGFyZ3VtZW50cztcblx0XHRpZiAocmVzb2x2ZSkgYXJncyA9IHJlc29sdmUoYXJncyk7XG5cdFx0aWQgPSBnZXQoYXJncyk7XG5cdFx0aWYgKGlkID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cdFx0cmV0dXJuIGNvbmYuaGFzKGlkKTtcblx0fSk7XG5cdGRlZmluZVByb3BlcnRpZXMobWVtb2l6ZWQsIHtcblx0XHRfX21lbW9pemVkX186IGQodHJ1ZSksXG5cdFx0ZGVsZXRlOiBkKGV4dERlbCksXG5cdFx0Y2xlYXI6IGQoY29uZi5jbGVhciksXG5cdFx0X2dldDogZChleHRHZXQpLFxuXHRcdF9oYXM6IGQoZXh0SGFzKVxuXHR9KTtcblx0cmV0dXJuIGNvbmY7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogODIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIGNhbGxhYmxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodXNlck5vcm1hbGl6ZXIpIHtcblx0dmFyIG5vcm1hbGl6ZXI7XG5cdGlmICh0eXBlb2YgdXNlck5vcm1hbGl6ZXIgPT09ICdmdW5jdGlvbicpIHJldHVybiB7IHNldDogdXNlck5vcm1hbGl6ZXIsIGdldDogdXNlck5vcm1hbGl6ZXIgfTtcblx0bm9ybWFsaXplciA9IHsgZ2V0OiBjYWxsYWJsZSh1c2VyTm9ybWFsaXplci5nZXQpIH07XG5cdGlmICh1c2VyTm9ybWFsaXplci5zZXQgIT09IHVuZGVmaW5lZCkge1xuXHRcdG5vcm1hbGl6ZXIuc2V0ID0gY2FsbGFibGUodXNlck5vcm1hbGl6ZXIuc2V0KTtcblx0XHRpZiAodXNlck5vcm1hbGl6ZXIuZGVsZXRlKSBub3JtYWxpemVyLmRlbGV0ZSA9IGNhbGxhYmxlKHVzZXJOb3JtYWxpemVyLmRlbGV0ZSk7XG5cdFx0aWYgKHVzZXJOb3JtYWxpemVyLmNsZWFyKSBub3JtYWxpemVyLmNsZWFyID0gY2FsbGFibGUodXNlck5vcm1hbGl6ZXIuY2xlYXIpO1xuXHRcdHJldHVybiBub3JtYWxpemVyO1xuXHR9XG5cdG5vcm1hbGl6ZXIuc2V0ID0gbm9ybWFsaXplci5nZXQ7XG5cdHJldHVybiBub3JtYWxpemVyO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDgzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciB0b0FycmF5ICA9IF9fd2VicGFja19yZXF1aXJlX18oNDcpXG4gICwgY2FsbGFibGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApXG5cbiAgLCBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZVxuICAsIHJlc29sdmVBcmdzO1xuXG5yZXNvbHZlQXJncyA9IGZ1bmN0aW9uIChhcmdzKSB7XG5cdHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAociwgaSkge1xuXHRcdHJldHVybiByID8gcihhcmdzW2ldKSA6IGFyZ3NbaV07XG5cdH0pLmNvbmNhdChzbGljZS5jYWxsKGFyZ3MsIHRoaXMubGVuZ3RoKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChyZXNvbHZlcnMpIHtcblx0cmVzb2x2ZXJzID0gdG9BcnJheShyZXNvbHZlcnMpO1xuXHRyZXNvbHZlcnMuZm9yRWFjaChmdW5jdGlvbiAocikge1xuXHRcdGlmIChyICE9IG51bGwpIGNhbGxhYmxlKHIpO1xuXHR9KTtcblx0cmV0dXJuIHJlc29sdmVBcmdzLmJpbmQocmVzb2x2ZXJzKTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiA4NCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgaW5kZXhPZiA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuXHR2YXIgbGFzdElkID0gMCwgYXJnc01hcCA9IFtdLCBjYWNoZSA9IFtdO1xuXHRyZXR1cm4ge1xuXHRcdGdldDogZnVuY3Rpb24gKGFyZ3MpIHtcblx0XHRcdHZhciBpbmRleCA9IGluZGV4T2YuY2FsbChhcmdzTWFwLCBhcmdzWzBdKTtcblx0XHRcdHJldHVybiAoaW5kZXggPT09IC0xKSA/IG51bGwgOiBjYWNoZVtpbmRleF07XG5cdFx0fSxcblx0XHRzZXQ6IGZ1bmN0aW9uIChhcmdzKSB7XG5cdFx0XHRhcmdzTWFwLnB1c2goYXJnc1swXSk7XG5cdFx0XHRjYWNoZS5wdXNoKCsrbGFzdElkKTtcblx0XHRcdHJldHVybiBsYXN0SWQ7XG5cdFx0fSxcblx0XHRkZWxldGU6IGZ1bmN0aW9uIChpZCkge1xuXHRcdFx0dmFyIGluZGV4ID0gaW5kZXhPZi5jYWxsKGNhY2hlLCBpZCk7XG5cdFx0XHRpZiAoaW5kZXggIT09IC0xKSB7XG5cdFx0XHRcdGFyZ3NNYXAuc3BsaWNlKGluZGV4LCAxKTtcblx0XHRcdFx0Y2FjaGUuc3BsaWNlKGluZGV4LCAxKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGNsZWFyOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRhcmdzTWFwID0gW107XG5cdFx0XHRjYWNoZSA9IFtdO1xuXHRcdH1cblx0fTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiA4NSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgaW5kZXhPZiA9IF9fd2VicGFja19yZXF1aXJlX18oOClcbiAgLCBjcmVhdGUgPSBPYmplY3QuY3JlYXRlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsZW5ndGgpIHtcblx0dmFyIGxhc3RJZCA9IDAsIG1hcCA9IFtbXSwgW11dLCBjYWNoZSA9IGNyZWF0ZShudWxsKTtcblx0cmV0dXJuIHtcblx0XHRnZXQ6IGZ1bmN0aW9uIChhcmdzKSB7XG5cdFx0XHR2YXIgaW5kZXggPSAwLCBzZXQgPSBtYXAsIGk7XG5cdFx0XHR3aGlsZSAoaW5kZXggPCAobGVuZ3RoIC0gMSkpIHtcblx0XHRcdFx0aSA9IGluZGV4T2YuY2FsbChzZXRbMF0sIGFyZ3NbaW5kZXhdKTtcblx0XHRcdFx0aWYgKGkgPT09IC0xKSByZXR1cm4gbnVsbDtcblx0XHRcdFx0c2V0ID0gc2V0WzFdW2ldO1xuXHRcdFx0XHQrK2luZGV4O1xuXHRcdFx0fVxuXHRcdFx0aSA9IGluZGV4T2YuY2FsbChzZXRbMF0sIGFyZ3NbaW5kZXhdKTtcblx0XHRcdGlmIChpID09PSAtMSkgcmV0dXJuIG51bGw7XG5cdFx0XHRyZXR1cm4gc2V0WzFdW2ldIHx8IG51bGw7XG5cdFx0fSxcblx0XHRzZXQ6IGZ1bmN0aW9uIChhcmdzKSB7XG5cdFx0XHR2YXIgaW5kZXggPSAwLCBzZXQgPSBtYXAsIGk7XG5cdFx0XHR3aGlsZSAoaW5kZXggPCAobGVuZ3RoIC0gMSkpIHtcblx0XHRcdFx0aSA9IGluZGV4T2YuY2FsbChzZXRbMF0sIGFyZ3NbaW5kZXhdKTtcblx0XHRcdFx0aWYgKGkgPT09IC0xKSB7XG5cdFx0XHRcdFx0aSA9IHNldFswXS5wdXNoKGFyZ3NbaW5kZXhdKSAtIDE7XG5cdFx0XHRcdFx0c2V0WzFdLnB1c2goW1tdLCBbXV0pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHNldCA9IHNldFsxXVtpXTtcblx0XHRcdFx0KytpbmRleDtcblx0XHRcdH1cblx0XHRcdGkgPSBpbmRleE9mLmNhbGwoc2V0WzBdLCBhcmdzW2luZGV4XSk7XG5cdFx0XHRpZiAoaSA9PT0gLTEpIHtcblx0XHRcdFx0aSA9IHNldFswXS5wdXNoKGFyZ3NbaW5kZXhdKSAtIDE7XG5cdFx0XHR9XG5cdFx0XHRzZXRbMV1baV0gPSArK2xhc3RJZDtcblx0XHRcdGNhY2hlW2xhc3RJZF0gPSBhcmdzO1xuXHRcdFx0cmV0dXJuIGxhc3RJZDtcblx0XHR9LFxuXHRcdGRlbGV0ZTogZnVuY3Rpb24gKGlkKSB7XG5cdFx0XHR2YXIgaW5kZXggPSAwLCBzZXQgPSBtYXAsIGksIHBhdGggPSBbXSwgYXJncyA9IGNhY2hlW2lkXTtcblx0XHRcdHdoaWxlIChpbmRleCA8IChsZW5ndGggLSAxKSkge1xuXHRcdFx0XHRpID0gaW5kZXhPZi5jYWxsKHNldFswXSwgYXJnc1tpbmRleF0pO1xuXHRcdFx0XHRpZiAoaSA9PT0gLTEpIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdFx0cGF0aC5wdXNoKHNldCwgaSk7XG5cdFx0XHRcdHNldCA9IHNldFsxXVtpXTtcblx0XHRcdFx0KytpbmRleDtcblx0XHRcdH1cblx0XHRcdGkgPSBpbmRleE9mLmNhbGwoc2V0WzBdLCBhcmdzW2luZGV4XSk7XG5cdFx0XHRpZiAoaSA9PT0gLTEpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0aWQgPSBzZXRbMV1baV07XG5cdFx0XHRzZXRbMF0uc3BsaWNlKGksIDEpO1xuXHRcdFx0c2V0WzFdLnNwbGljZShpLCAxKTtcblx0XHRcdHdoaWxlICghc2V0WzBdLmxlbmd0aCAmJiBwYXRoLmxlbmd0aCkge1xuXHRcdFx0XHRpID0gcGF0aC5wb3AoKTtcblx0XHRcdFx0c2V0ID0gcGF0aC5wb3AoKTtcblx0XHRcdFx0c2V0WzBdLnNwbGljZShpLCAxKTtcblx0XHRcdFx0c2V0WzFdLnNwbGljZShpLCAxKTtcblx0XHRcdH1cblx0XHRcdGRlbGV0ZSBjYWNoZVtpZF07XG5cdFx0fSxcblx0XHRjbGVhcjogZnVuY3Rpb24gKCkge1xuXHRcdFx0bWFwID0gW1tdLCBbXV07XG5cdFx0XHRjYWNoZSA9IGNyZWF0ZShudWxsKTtcblx0XHR9XG5cdH07XG59O1xuXG5cbi8qKiovIH0pLFxuLyogODYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGVuZ3RoKSB7XG5cdGlmICghbGVuZ3RoKSB7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuICcnOyB9O1xuXHR9XG5cdHJldHVybiBmdW5jdGlvbiAoYXJncykge1xuXHRcdHZhciBpZCA9IFN0cmluZyhhcmdzWzBdKSwgaSA9IDAsIGwgPSBsZW5ndGg7XG5cdFx0d2hpbGUgKC0tbCkgeyBpZCArPSAnXFx1MDAwMScgKyBhcmdzWysraV07IH1cblx0XHRyZXR1cm4gaWQ7XG5cdH07XG59O1xuXG5cbi8qKiovIH0pLFxuLyogODcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIGluZGV4T2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpXG4gICwgY3JlYXRlID0gT2JqZWN0LmNyZWF0ZTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG5cdHZhciBsYXN0SWQgPSAwLCBtYXAgPSBbXSwgY2FjaGUgPSBjcmVhdGUobnVsbCk7XG5cdHJldHVybiB7XG5cdFx0Z2V0OiBmdW5jdGlvbiAoYXJncykge1xuXHRcdFx0dmFyIGluZGV4ID0gMCwgc2V0ID0gbWFwLCBpLCBsZW5ndGggPSBhcmdzLmxlbmd0aDtcblx0XHRcdGlmIChsZW5ndGggPT09IDApIHJldHVybiBzZXRbbGVuZ3RoXSB8fCBudWxsO1xuXHRcdFx0aWYgKChzZXQgPSBzZXRbbGVuZ3RoXSkpIHtcblx0XHRcdFx0d2hpbGUgKGluZGV4IDwgKGxlbmd0aCAtIDEpKSB7XG5cdFx0XHRcdFx0aSA9IGluZGV4T2YuY2FsbChzZXRbMF0sIGFyZ3NbaW5kZXhdKTtcblx0XHRcdFx0XHRpZiAoaSA9PT0gLTEpIHJldHVybiBudWxsO1xuXHRcdFx0XHRcdHNldCA9IHNldFsxXVtpXTtcblx0XHRcdFx0XHQrK2luZGV4O1xuXHRcdFx0XHR9XG5cdFx0XHRcdGkgPSBpbmRleE9mLmNhbGwoc2V0WzBdLCBhcmdzW2luZGV4XSk7XG5cdFx0XHRcdGlmIChpID09PSAtMSkgcmV0dXJuIG51bGw7XG5cdFx0XHRcdHJldHVybiBzZXRbMV1baV0gfHwgbnVsbDtcblx0XHRcdH1cblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH0sXG5cdFx0c2V0OiBmdW5jdGlvbiAoYXJncykge1xuXHRcdFx0dmFyIGluZGV4ID0gMCwgc2V0ID0gbWFwLCBpLCBsZW5ndGggPSBhcmdzLmxlbmd0aDtcblx0XHRcdGlmIChsZW5ndGggPT09IDApIHtcblx0XHRcdFx0c2V0W2xlbmd0aF0gPSArK2xhc3RJZDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmICghc2V0W2xlbmd0aF0pIHtcblx0XHRcdFx0XHRzZXRbbGVuZ3RoXSA9IFtbXSwgW11dO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHNldCA9IHNldFtsZW5ndGhdO1xuXHRcdFx0XHR3aGlsZSAoaW5kZXggPCAobGVuZ3RoIC0gMSkpIHtcblx0XHRcdFx0XHRpID0gaW5kZXhPZi5jYWxsKHNldFswXSwgYXJnc1tpbmRleF0pO1xuXHRcdFx0XHRcdGlmIChpID09PSAtMSkge1xuXHRcdFx0XHRcdFx0aSA9IHNldFswXS5wdXNoKGFyZ3NbaW5kZXhdKSAtIDE7XG5cdFx0XHRcdFx0XHRzZXRbMV0ucHVzaChbW10sIFtdXSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHNldCA9IHNldFsxXVtpXTtcblx0XHRcdFx0XHQrK2luZGV4O1xuXHRcdFx0XHR9XG5cdFx0XHRcdGkgPSBpbmRleE9mLmNhbGwoc2V0WzBdLCBhcmdzW2luZGV4XSk7XG5cdFx0XHRcdGlmIChpID09PSAtMSkge1xuXHRcdFx0XHRcdGkgPSBzZXRbMF0ucHVzaChhcmdzW2luZGV4XSkgLSAxO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHNldFsxXVtpXSA9ICsrbGFzdElkO1xuXHRcdFx0fVxuXHRcdFx0Y2FjaGVbbGFzdElkXSA9IGFyZ3M7XG5cdFx0XHRyZXR1cm4gbGFzdElkO1xuXHRcdH0sXG5cdFx0ZGVsZXRlOiBmdW5jdGlvbiAoaWQpIHtcblx0XHRcdHZhciBpbmRleCA9IDAsIHNldCA9IG1hcCwgaSwgYXJncyA9IGNhY2hlW2lkXSwgbGVuZ3RoID0gYXJncy5sZW5ndGhcblx0XHRcdCAgLCBwYXRoID0gW107XG5cdFx0XHRpZiAobGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdGRlbGV0ZSBzZXRbbGVuZ3RoXTtcblx0XHRcdH0gZWxzZSBpZiAoKHNldCA9IHNldFtsZW5ndGhdKSkge1xuXHRcdFx0XHR3aGlsZSAoaW5kZXggPCAobGVuZ3RoIC0gMSkpIHtcblx0XHRcdFx0XHRpID0gaW5kZXhPZi5jYWxsKHNldFswXSwgYXJnc1tpbmRleF0pO1xuXHRcdFx0XHRcdGlmIChpID09PSAtMSkge1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRwYXRoLnB1c2goc2V0LCBpKTtcblx0XHRcdFx0XHRzZXQgPSBzZXRbMV1baV07XG5cdFx0XHRcdFx0KytpbmRleDtcblx0XHRcdFx0fVxuXHRcdFx0XHRpID0gaW5kZXhPZi5jYWxsKHNldFswXSwgYXJnc1tpbmRleF0pO1xuXHRcdFx0XHRpZiAoaSA9PT0gLTEpIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdFx0aWQgPSBzZXRbMV1baV07XG5cdFx0XHRcdHNldFswXS5zcGxpY2UoaSwgMSk7XG5cdFx0XHRcdHNldFsxXS5zcGxpY2UoaSwgMSk7XG5cdFx0XHRcdHdoaWxlICghc2V0WzBdLmxlbmd0aCAmJiBwYXRoLmxlbmd0aCkge1xuXHRcdFx0XHRcdGkgPSBwYXRoLnBvcCgpO1xuXHRcdFx0XHRcdHNldCA9IHBhdGgucG9wKCk7XG5cdFx0XHRcdFx0c2V0WzBdLnNwbGljZShpLCAxKTtcblx0XHRcdFx0XHRzZXRbMV0uc3BsaWNlKGksIDEpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRkZWxldGUgY2FjaGVbaWRdO1xuXHRcdH0sXG5cdFx0Y2xlYXI6IGZ1bmN0aW9uICgpIHtcblx0XHRcdG1hcCA9IFtdO1xuXHRcdFx0Y2FjaGUgPSBjcmVhdGUobnVsbCk7XG5cdFx0fVxuXHR9O1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDg4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFyZ3MpIHtcblx0dmFyIGlkLCBpLCBsZW5ndGggPSBhcmdzLmxlbmd0aDtcblx0aWYgKCFsZW5ndGgpIHJldHVybiAnXFx1MDAwMic7XG5cdGlkID0gU3RyaW5nKGFyZ3NbaSA9IDBdKTtcblx0d2hpbGUgKC0tbGVuZ3RoKSBpZCArPSAnXFx1MDAwMScgKyBhcmdzWysraV07XG5cdHJldHVybiBpZDtcbn07XG5cblxuLyoqKi8gfSksXG4vKiA4OSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgY2FsbGFibGUgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMClcbiAgLCBmb3JFYWNoICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KVxuICAsIGV4dGVuc2lvbnMgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpXG4gICwgY29uZmlndXJlICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oODEpXG4gICwgcmVzb2x2ZUxlbmd0aCA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpXG5cbiAgLCBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc2VsZihmbi8qLCBvcHRpb25zICovKSB7XG5cdHZhciBvcHRpb25zLCBsZW5ndGgsIGNvbmY7XG5cblx0Y2FsbGFibGUoZm4pO1xuXHRvcHRpb25zID0gT2JqZWN0KGFyZ3VtZW50c1sxXSk7XG5cblx0aWYgKG9wdGlvbnMuYXN5bmMgJiYgb3B0aW9ucy5wcm9taXNlKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiT3B0aW9ucyAnYXN5bmMnIGFuZCAncHJvbWlzZScgY2Fubm90IGJlIHVzZWQgdG9nZXRoZXJcIik7XG5cdH1cblxuXHQvLyBEbyBub3QgbWVtb2l6ZSBhbHJlYWR5IG1lbW9pemVkIGZ1bmN0aW9uXG5cdGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGZuLCAnX19tZW1vaXplZF9fJykgJiYgIW9wdGlvbnMuZm9yY2UpIHJldHVybiBmbjtcblxuXHQvLyBSZXNvbHZlIGxlbmd0aDtcblx0bGVuZ3RoID0gcmVzb2x2ZUxlbmd0aChvcHRpb25zLmxlbmd0aCwgZm4ubGVuZ3RoLCBvcHRpb25zLmFzeW5jICYmIGV4dGVuc2lvbnMuYXN5bmMpO1xuXG5cdC8vIENvbmZpZ3VyZSBjYWNoZSBtYXBcblx0Y29uZiA9IGNvbmZpZ3VyZShmbiwgbGVuZ3RoLCBvcHRpb25zKTtcblxuXHQvLyBCaW5kIGV2ZW50dWFsIGV4dGVuc2lvbnNcblx0Zm9yRWFjaChleHRlbnNpb25zLCBmdW5jdGlvbiAoZm4sIG5hbWUpIHtcblx0XHRpZiAob3B0aW9uc1tuYW1lXSkgZm4ob3B0aW9uc1tuYW1lXSwgY29uZiwgb3B0aW9ucyk7XG5cdH0pO1xuXG5cdGlmIChzZWxmLl9fcHJvZmlsZXJfXykgc2VsZi5fX3Byb2ZpbGVyX18oY29uZik7XG5cblx0Y29uZi51cGRhdGVFbnYoKTtcblx0cmV0dXJuIGNvbmYubWVtb2l6ZWQ7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogOTAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuLyoqXG4gKiBIZWxwZXJzLlxuICovXG5cbnZhciBzID0gMTAwMFxudmFyIG0gPSBzICogNjBcbnZhciBoID0gbSAqIDYwXG52YXIgZCA9IGggKiAyNFxudmFyIHkgPSBkICogMzY1LjI1XG5cbi8qKlxuICogUGFyc2Ugb3IgZm9ybWF0IHRoZSBnaXZlbiBgdmFsYC5cbiAqXG4gKiBPcHRpb25zOlxuICpcbiAqICAtIGBsb25nYCB2ZXJib3NlIGZvcm1hdHRpbmcgW2ZhbHNlXVxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0gdmFsXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAdGhyb3dzIHtFcnJvcn0gdGhyb3cgYW4gZXJyb3IgaWYgdmFsIGlzIG5vdCBhIG5vbi1lbXB0eSBzdHJpbmcgb3IgYSBudW1iZXJcbiAqIEByZXR1cm4ge1N0cmluZ3xOdW1iZXJ9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHZhbCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fVxuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWxcbiAgaWYgKHR5cGUgPT09ICdzdHJpbmcnICYmIHZhbC5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIHBhcnNlKHZhbClcbiAgfSBlbHNlIGlmICh0eXBlID09PSAnbnVtYmVyJyAmJiBpc05hTih2YWwpID09PSBmYWxzZSkge1xuICAgIHJldHVybiBvcHRpb25zLmxvbmcgP1xuXHRcdFx0Zm10TG9uZyh2YWwpIDpcblx0XHRcdGZtdFNob3J0KHZhbClcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoJ3ZhbCBpcyBub3QgYSBub24tZW1wdHkgc3RyaW5nIG9yIGEgdmFsaWQgbnVtYmVyLiB2YWw9JyArIEpTT04uc3RyaW5naWZ5KHZhbCkpXG59XG5cbi8qKlxuICogUGFyc2UgdGhlIGdpdmVuIGBzdHJgIGFuZCByZXR1cm4gbWlsbGlzZWNvbmRzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHBhcnNlKHN0cikge1xuICBzdHIgPSBTdHJpbmcoc3RyKVxuICBpZiAoc3RyLmxlbmd0aCA+IDEwMDAwKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgdmFyIG1hdGNoID0gL14oKD86XFxkKyk/XFwuP1xcZCspICoobWlsbGlzZWNvbmRzP3xtc2Vjcz98bXN8c2Vjb25kcz98c2Vjcz98c3xtaW51dGVzP3xtaW5zP3xtfGhvdXJzP3xocnM/fGh8ZGF5cz98ZHx5ZWFycz98eXJzP3x5KT8kL2kuZXhlYyhzdHIpXG4gIGlmICghbWF0Y2gpIHtcbiAgICByZXR1cm5cbiAgfVxuICB2YXIgbiA9IHBhcnNlRmxvYXQobWF0Y2hbMV0pXG4gIHZhciB0eXBlID0gKG1hdGNoWzJdIHx8ICdtcycpLnRvTG93ZXJDYXNlKClcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAneWVhcnMnOlxuICAgIGNhc2UgJ3llYXInOlxuICAgIGNhc2UgJ3lycyc6XG4gICAgY2FzZSAneXInOlxuICAgIGNhc2UgJ3knOlxuICAgICAgcmV0dXJuIG4gKiB5XG4gICAgY2FzZSAnZGF5cyc6XG4gICAgY2FzZSAnZGF5JzpcbiAgICBjYXNlICdkJzpcbiAgICAgIHJldHVybiBuICogZFxuICAgIGNhc2UgJ2hvdXJzJzpcbiAgICBjYXNlICdob3VyJzpcbiAgICBjYXNlICdocnMnOlxuICAgIGNhc2UgJ2hyJzpcbiAgICBjYXNlICdoJzpcbiAgICAgIHJldHVybiBuICogaFxuICAgIGNhc2UgJ21pbnV0ZXMnOlxuICAgIGNhc2UgJ21pbnV0ZSc6XG4gICAgY2FzZSAnbWlucyc6XG4gICAgY2FzZSAnbWluJzpcbiAgICBjYXNlICdtJzpcbiAgICAgIHJldHVybiBuICogbVxuICAgIGNhc2UgJ3NlY29uZHMnOlxuICAgIGNhc2UgJ3NlY29uZCc6XG4gICAgY2FzZSAnc2Vjcyc6XG4gICAgY2FzZSAnc2VjJzpcbiAgICBjYXNlICdzJzpcbiAgICAgIHJldHVybiBuICogc1xuICAgIGNhc2UgJ21pbGxpc2Vjb25kcyc6XG4gICAgY2FzZSAnbWlsbGlzZWNvbmQnOlxuICAgIGNhc2UgJ21zZWNzJzpcbiAgICBjYXNlICdtc2VjJzpcbiAgICBjYXNlICdtcyc6XG4gICAgICByZXR1cm4gblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gdW5kZWZpbmVkXG4gIH1cbn1cblxuLyoqXG4gKiBTaG9ydCBmb3JtYXQgZm9yIGBtc2AuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG1zXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBmbXRTaG9ydChtcykge1xuICBpZiAobXMgPj0gZCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gZCkgKyAnZCdcbiAgfVxuICBpZiAobXMgPj0gaCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gaCkgKyAnaCdcbiAgfVxuICBpZiAobXMgPj0gbSkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gbSkgKyAnbSdcbiAgfVxuICBpZiAobXMgPj0gcykge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gcykgKyAncydcbiAgfVxuICByZXR1cm4gbXMgKyAnbXMnXG59XG5cbi8qKlxuICogTG9uZyBmb3JtYXQgZm9yIGBtc2AuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG1zXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBmbXRMb25nKG1zKSB7XG4gIHJldHVybiBwbHVyYWwobXMsIGQsICdkYXknKSB8fFxuICAgIHBsdXJhbChtcywgaCwgJ2hvdXInKSB8fFxuICAgIHBsdXJhbChtcywgbSwgJ21pbnV0ZScpIHx8XG4gICAgcGx1cmFsKG1zLCBzLCAnc2Vjb25kJykgfHxcbiAgICBtcyArICcgbXMnXG59XG5cbi8qKlxuICogUGx1cmFsaXphdGlvbiBoZWxwZXIuXG4gKi9cblxuZnVuY3Rpb24gcGx1cmFsKG1zLCBuLCBuYW1lKSB7XG4gIGlmIChtcyA8IG4pIHtcbiAgICByZXR1cm5cbiAgfVxuICBpZiAobXMgPCBuICogMS41KSB7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IobXMgLyBuKSArICcgJyArIG5hbWVcbiAgfVxuICByZXR1cm4gTWF0aC5jZWlsKG1zIC8gbikgKyAnICcgKyBuYW1lICsgJ3MnXG59XG5cblxuLyoqKi8gfSksXG4vKiA5MSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgey8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4vLyByZXNvbHZlcyAuIGFuZCAuLiBlbGVtZW50cyBpbiBhIHBhdGggYXJyYXkgd2l0aCBkaXJlY3RvcnkgbmFtZXMgdGhlcmVcbi8vIG11c3QgYmUgbm8gc2xhc2hlcywgZW1wdHkgZWxlbWVudHMsIG9yIGRldmljZSBuYW1lcyAoYzpcXCkgaW4gdGhlIGFycmF5XG4vLyAoc28gYWxzbyBubyBsZWFkaW5nIGFuZCB0cmFpbGluZyBzbGFzaGVzIC0gaXQgZG9lcyBub3QgZGlzdGluZ3Vpc2hcbi8vIHJlbGF0aXZlIGFuZCBhYnNvbHV0ZSBwYXRocylcbmZ1bmN0aW9uIG5vcm1hbGl6ZUFycmF5KHBhcnRzLCBhbGxvd0Fib3ZlUm9vdCkge1xuICAvLyBpZiB0aGUgcGF0aCB0cmllcyB0byBnbyBhYm92ZSB0aGUgcm9vdCwgYHVwYCBlbmRzIHVwID4gMFxuICB2YXIgdXAgPSAwO1xuICBmb3IgKHZhciBpID0gcGFydHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICB2YXIgbGFzdCA9IHBhcnRzW2ldO1xuICAgIGlmIChsYXN0ID09PSAnLicpIHtcbiAgICAgIHBhcnRzLnNwbGljZShpLCAxKTtcbiAgICB9IGVsc2UgaWYgKGxhc3QgPT09ICcuLicpIHtcbiAgICAgIHBhcnRzLnNwbGljZShpLCAxKTtcbiAgICAgIHVwKys7XG4gICAgfSBlbHNlIGlmICh1cCkge1xuICAgICAgcGFydHMuc3BsaWNlKGksIDEpO1xuICAgICAgdXAtLTtcbiAgICB9XG4gIH1cblxuICAvLyBpZiB0aGUgcGF0aCBpcyBhbGxvd2VkIHRvIGdvIGFib3ZlIHRoZSByb290LCByZXN0b3JlIGxlYWRpbmcgLi5zXG4gIGlmIChhbGxvd0Fib3ZlUm9vdCkge1xuICAgIGZvciAoOyB1cC0tOyB1cCkge1xuICAgICAgcGFydHMudW5zaGlmdCgnLi4nKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcGFydHM7XG59XG5cbi8vIFNwbGl0IGEgZmlsZW5hbWUgaW50byBbcm9vdCwgZGlyLCBiYXNlbmFtZSwgZXh0XSwgdW5peCB2ZXJzaW9uXG4vLyAncm9vdCcgaXMganVzdCBhIHNsYXNoLCBvciBub3RoaW5nLlxudmFyIHNwbGl0UGF0aFJlID1cbiAgICAvXihcXC8/fCkoW1xcc1xcU10qPykoKD86XFwuezEsMn18W15cXC9dKz98KShcXC5bXi5cXC9dKnwpKSg/OltcXC9dKikkLztcbnZhciBzcGxpdFBhdGggPSBmdW5jdGlvbihmaWxlbmFtZSkge1xuICByZXR1cm4gc3BsaXRQYXRoUmUuZXhlYyhmaWxlbmFtZSkuc2xpY2UoMSk7XG59O1xuXG4vLyBwYXRoLnJlc29sdmUoW2Zyb20gLi4uXSwgdG8pXG4vLyBwb3NpeCB2ZXJzaW9uXG5leHBvcnRzLnJlc29sdmUgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHJlc29sdmVkUGF0aCA9ICcnLFxuICAgICAgcmVzb2x2ZWRBYnNvbHV0ZSA9IGZhbHNlO1xuXG4gIGZvciAodmFyIGkgPSBhcmd1bWVudHMubGVuZ3RoIC0gMTsgaSA+PSAtMSAmJiAhcmVzb2x2ZWRBYnNvbHV0ZTsgaS0tKSB7XG4gICAgdmFyIHBhdGggPSAoaSA+PSAwKSA/IGFyZ3VtZW50c1tpXSA6IHByb2Nlc3MuY3dkKCk7XG5cbiAgICAvLyBTa2lwIGVtcHR5IGFuZCBpbnZhbGlkIGVudHJpZXNcbiAgICBpZiAodHlwZW9mIHBhdGggIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudHMgdG8gcGF0aC5yZXNvbHZlIG11c3QgYmUgc3RyaW5ncycpO1xuICAgIH0gZWxzZSBpZiAoIXBhdGgpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHJlc29sdmVkUGF0aCA9IHBhdGggKyAnLycgKyByZXNvbHZlZFBhdGg7XG4gICAgcmVzb2x2ZWRBYnNvbHV0ZSA9IHBhdGguY2hhckF0KDApID09PSAnLyc7XG4gIH1cblxuICAvLyBBdCB0aGlzIHBvaW50IHRoZSBwYXRoIHNob3VsZCBiZSByZXNvbHZlZCB0byBhIGZ1bGwgYWJzb2x1dGUgcGF0aCwgYnV0XG4gIC8vIGhhbmRsZSByZWxhdGl2ZSBwYXRocyB0byBiZSBzYWZlIChtaWdodCBoYXBwZW4gd2hlbiBwcm9jZXNzLmN3ZCgpIGZhaWxzKVxuXG4gIC8vIE5vcm1hbGl6ZSB0aGUgcGF0aFxuICByZXNvbHZlZFBhdGggPSBub3JtYWxpemVBcnJheShmaWx0ZXIocmVzb2x2ZWRQYXRoLnNwbGl0KCcvJyksIGZ1bmN0aW9uKHApIHtcbiAgICByZXR1cm4gISFwO1xuICB9KSwgIXJlc29sdmVkQWJzb2x1dGUpLmpvaW4oJy8nKTtcblxuICByZXR1cm4gKChyZXNvbHZlZEFic29sdXRlID8gJy8nIDogJycpICsgcmVzb2x2ZWRQYXRoKSB8fCAnLic7XG59O1xuXG4vLyBwYXRoLm5vcm1hbGl6ZShwYXRoKVxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5ub3JtYWxpemUgPSBmdW5jdGlvbihwYXRoKSB7XG4gIHZhciBpc0Fic29sdXRlID0gZXhwb3J0cy5pc0Fic29sdXRlKHBhdGgpLFxuICAgICAgdHJhaWxpbmdTbGFzaCA9IHN1YnN0cihwYXRoLCAtMSkgPT09ICcvJztcblxuICAvLyBOb3JtYWxpemUgdGhlIHBhdGhcbiAgcGF0aCA9IG5vcm1hbGl6ZUFycmF5KGZpbHRlcihwYXRoLnNwbGl0KCcvJyksIGZ1bmN0aW9uKHApIHtcbiAgICByZXR1cm4gISFwO1xuICB9KSwgIWlzQWJzb2x1dGUpLmpvaW4oJy8nKTtcblxuICBpZiAoIXBhdGggJiYgIWlzQWJzb2x1dGUpIHtcbiAgICBwYXRoID0gJy4nO1xuICB9XG4gIGlmIChwYXRoICYmIHRyYWlsaW5nU2xhc2gpIHtcbiAgICBwYXRoICs9ICcvJztcbiAgfVxuXG4gIHJldHVybiAoaXNBYnNvbHV0ZSA/ICcvJyA6ICcnKSArIHBhdGg7XG59O1xuXG4vLyBwb3NpeCB2ZXJzaW9uXG5leHBvcnRzLmlzQWJzb2x1dGUgPSBmdW5jdGlvbihwYXRoKSB7XG4gIHJldHVybiBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nO1xufTtcblxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5qb2luID0gZnVuY3Rpb24oKSB7XG4gIHZhciBwYXRocyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7XG4gIHJldHVybiBleHBvcnRzLm5vcm1hbGl6ZShmaWx0ZXIocGF0aHMsIGZ1bmN0aW9uKHAsIGluZGV4KSB7XG4gICAgaWYgKHR5cGVvZiBwICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnRzIHRvIHBhdGguam9pbiBtdXN0IGJlIHN0cmluZ3MnKTtcbiAgICB9XG4gICAgcmV0dXJuIHA7XG4gIH0pLmpvaW4oJy8nKSk7XG59O1xuXG5cbi8vIHBhdGgucmVsYXRpdmUoZnJvbSwgdG8pXG4vLyBwb3NpeCB2ZXJzaW9uXG5leHBvcnRzLnJlbGF0aXZlID0gZnVuY3Rpb24oZnJvbSwgdG8pIHtcbiAgZnJvbSA9IGV4cG9ydHMucmVzb2x2ZShmcm9tKS5zdWJzdHIoMSk7XG4gIHRvID0gZXhwb3J0cy5yZXNvbHZlKHRvKS5zdWJzdHIoMSk7XG5cbiAgZnVuY3Rpb24gdHJpbShhcnIpIHtcbiAgICB2YXIgc3RhcnQgPSAwO1xuICAgIGZvciAoOyBzdGFydCA8IGFyci5sZW5ndGg7IHN0YXJ0KyspIHtcbiAgICAgIGlmIChhcnJbc3RhcnRdICE9PSAnJykgYnJlYWs7XG4gICAgfVxuXG4gICAgdmFyIGVuZCA9IGFyci5sZW5ndGggLSAxO1xuICAgIGZvciAoOyBlbmQgPj0gMDsgZW5kLS0pIHtcbiAgICAgIGlmIChhcnJbZW5kXSAhPT0gJycpIGJyZWFrO1xuICAgIH1cblxuICAgIGlmIChzdGFydCA+IGVuZCkgcmV0dXJuIFtdO1xuICAgIHJldHVybiBhcnIuc2xpY2Uoc3RhcnQsIGVuZCAtIHN0YXJ0ICsgMSk7XG4gIH1cblxuICB2YXIgZnJvbVBhcnRzID0gdHJpbShmcm9tLnNwbGl0KCcvJykpO1xuICB2YXIgdG9QYXJ0cyA9IHRyaW0odG8uc3BsaXQoJy8nKSk7XG5cbiAgdmFyIGxlbmd0aCA9IE1hdGgubWluKGZyb21QYXJ0cy5sZW5ndGgsIHRvUGFydHMubGVuZ3RoKTtcbiAgdmFyIHNhbWVQYXJ0c0xlbmd0aCA9IGxlbmd0aDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGlmIChmcm9tUGFydHNbaV0gIT09IHRvUGFydHNbaV0pIHtcbiAgICAgIHNhbWVQYXJ0c0xlbmd0aCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICB2YXIgb3V0cHV0UGFydHMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IHNhbWVQYXJ0c0xlbmd0aDsgaSA8IGZyb21QYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgIG91dHB1dFBhcnRzLnB1c2goJy4uJyk7XG4gIH1cblxuICBvdXRwdXRQYXJ0cyA9IG91dHB1dFBhcnRzLmNvbmNhdCh0b1BhcnRzLnNsaWNlKHNhbWVQYXJ0c0xlbmd0aCkpO1xuXG4gIHJldHVybiBvdXRwdXRQYXJ0cy5qb2luKCcvJyk7XG59O1xuXG5leHBvcnRzLnNlcCA9ICcvJztcbmV4cG9ydHMuZGVsaW1pdGVyID0gJzonO1xuXG5leHBvcnRzLmRpcm5hbWUgPSBmdW5jdGlvbihwYXRoKSB7XG4gIHZhciByZXN1bHQgPSBzcGxpdFBhdGgocGF0aCksXG4gICAgICByb290ID0gcmVzdWx0WzBdLFxuICAgICAgZGlyID0gcmVzdWx0WzFdO1xuXG4gIGlmICghcm9vdCAmJiAhZGlyKSB7XG4gICAgLy8gTm8gZGlybmFtZSB3aGF0c29ldmVyXG4gICAgcmV0dXJuICcuJztcbiAgfVxuXG4gIGlmIChkaXIpIHtcbiAgICAvLyBJdCBoYXMgYSBkaXJuYW1lLCBzdHJpcCB0cmFpbGluZyBzbGFzaFxuICAgIGRpciA9IGRpci5zdWJzdHIoMCwgZGlyLmxlbmd0aCAtIDEpO1xuICB9XG5cbiAgcmV0dXJuIHJvb3QgKyBkaXI7XG59O1xuXG5cbmV4cG9ydHMuYmFzZW5hbWUgPSBmdW5jdGlvbihwYXRoLCBleHQpIHtcbiAgdmFyIGYgPSBzcGxpdFBhdGgocGF0aClbMl07XG4gIC8vIFRPRE86IG1ha2UgdGhpcyBjb21wYXJpc29uIGNhc2UtaW5zZW5zaXRpdmUgb24gd2luZG93cz9cbiAgaWYgKGV4dCAmJiBmLnN1YnN0cigtMSAqIGV4dC5sZW5ndGgpID09PSBleHQpIHtcbiAgICBmID0gZi5zdWJzdHIoMCwgZi5sZW5ndGggLSBleHQubGVuZ3RoKTtcbiAgfVxuICByZXR1cm4gZjtcbn07XG5cblxuZXhwb3J0cy5leHRuYW1lID0gZnVuY3Rpb24ocGF0aCkge1xuICByZXR1cm4gc3BsaXRQYXRoKHBhdGgpWzNdO1xufTtcblxuZnVuY3Rpb24gZmlsdGVyICh4cywgZikge1xuICAgIGlmICh4cy5maWx0ZXIpIHJldHVybiB4cy5maWx0ZXIoZik7XG4gICAgdmFyIHJlcyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgeHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGYoeHNbaV0sIGksIHhzKSkgcmVzLnB1c2goeHNbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuXG4vLyBTdHJpbmcucHJvdG90eXBlLnN1YnN0ciAtIG5lZ2F0aXZlIGluZGV4IGRvbid0IHdvcmsgaW4gSUU4XG52YXIgc3Vic3RyID0gJ2FiJy5zdWJzdHIoLTEpID09PSAnYidcbiAgICA/IGZ1bmN0aW9uIChzdHIsIHN0YXJ0LCBsZW4pIHsgcmV0dXJuIHN0ci5zdWJzdHIoc3RhcnQsIGxlbikgfVxuICAgIDogZnVuY3Rpb24gKHN0ciwgc3RhcnQsIGxlbikge1xuICAgICAgICBpZiAoc3RhcnQgPCAwKSBzdGFydCA9IHN0ci5sZW5ndGggKyBzdGFydDtcbiAgICAgICAgcmV0dXJuIHN0ci5zdWJzdHIoc3RhcnQsIGxlbik7XG4gICAgfVxuO1xuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygzKSkpXG5cbi8qKiovIH0pLFxuLyogOTIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGdsb2JhbCwgcHJvY2VzcykgeyhmdW5jdGlvbiAoZ2xvYmFsLCB1bmRlZmluZWQpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIGlmIChnbG9iYWwuc2V0SW1tZWRpYXRlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgbmV4dEhhbmRsZSA9IDE7IC8vIFNwZWMgc2F5cyBncmVhdGVyIHRoYW4gemVyb1xuICAgIHZhciB0YXNrc0J5SGFuZGxlID0ge307XG4gICAgdmFyIGN1cnJlbnRseVJ1bm5pbmdBVGFzayA9IGZhbHNlO1xuICAgIHZhciBkb2MgPSBnbG9iYWwuZG9jdW1lbnQ7XG4gICAgdmFyIHJlZ2lzdGVySW1tZWRpYXRlO1xuXG4gICAgZnVuY3Rpb24gc2V0SW1tZWRpYXRlKGNhbGxiYWNrKSB7XG4gICAgICAvLyBDYWxsYmFjayBjYW4gZWl0aGVyIGJlIGEgZnVuY3Rpb24gb3IgYSBzdHJpbmdcbiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBjYWxsYmFjayA9IG5ldyBGdW5jdGlvbihcIlwiICsgY2FsbGJhY2spO1xuICAgICAgfVxuICAgICAgLy8gQ29weSBmdW5jdGlvbiBhcmd1bWVudHNcbiAgICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaSArIDFdO1xuICAgICAgfVxuICAgICAgLy8gU3RvcmUgYW5kIHJlZ2lzdGVyIHRoZSB0YXNrXG4gICAgICB2YXIgdGFzayA9IHsgY2FsbGJhY2s6IGNhbGxiYWNrLCBhcmdzOiBhcmdzIH07XG4gICAgICB0YXNrc0J5SGFuZGxlW25leHRIYW5kbGVdID0gdGFzaztcbiAgICAgIHJlZ2lzdGVySW1tZWRpYXRlKG5leHRIYW5kbGUpO1xuICAgICAgcmV0dXJuIG5leHRIYW5kbGUrKztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbGVhckltbWVkaWF0ZShoYW5kbGUpIHtcbiAgICAgICAgZGVsZXRlIHRhc2tzQnlIYW5kbGVbaGFuZGxlXTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBydW4odGFzaykge1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSB0YXNrLmNhbGxiYWNrO1xuICAgICAgICB2YXIgYXJncyA9IHRhc2suYXJncztcbiAgICAgICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIGNhbGxiYWNrKGFyZ3NbMF0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIGNhbGxiYWNrKGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIGNhbGxiYWNrKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjYWxsYmFjay5hcHBseSh1bmRlZmluZWQsIGFyZ3MpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBydW5JZlByZXNlbnQoaGFuZGxlKSB7XG4gICAgICAgIC8vIEZyb20gdGhlIHNwZWM6IFwiV2FpdCB1bnRpbCBhbnkgaW52b2NhdGlvbnMgb2YgdGhpcyBhbGdvcml0aG0gc3RhcnRlZCBiZWZvcmUgdGhpcyBvbmUgaGF2ZSBjb21wbGV0ZWQuXCJcbiAgICAgICAgLy8gU28gaWYgd2UncmUgY3VycmVudGx5IHJ1bm5pbmcgYSB0YXNrLCB3ZSdsbCBuZWVkIHRvIGRlbGF5IHRoaXMgaW52b2NhdGlvbi5cbiAgICAgICAgaWYgKGN1cnJlbnRseVJ1bm5pbmdBVGFzaykge1xuICAgICAgICAgICAgLy8gRGVsYXkgYnkgZG9pbmcgYSBzZXRUaW1lb3V0LiBzZXRJbW1lZGlhdGUgd2FzIHRyaWVkIGluc3RlYWQsIGJ1dCBpbiBGaXJlZm94IDcgaXQgZ2VuZXJhdGVkIGFcbiAgICAgICAgICAgIC8vIFwidG9vIG11Y2ggcmVjdXJzaW9uXCIgZXJyb3IuXG4gICAgICAgICAgICBzZXRUaW1lb3V0KHJ1bklmUHJlc2VudCwgMCwgaGFuZGxlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciB0YXNrID0gdGFza3NCeUhhbmRsZVtoYW5kbGVdO1xuICAgICAgICAgICAgaWYgKHRhc2spIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50bHlSdW5uaW5nQVRhc2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJ1bih0YXNrKTtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhckltbWVkaWF0ZShoYW5kbGUpO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50bHlSdW5uaW5nQVRhc2sgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsTmV4dFRpY2tJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24gKCkgeyBydW5JZlByZXNlbnQoaGFuZGxlKTsgfSk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2FuVXNlUG9zdE1lc3NhZ2UoKSB7XG4gICAgICAgIC8vIFRoZSB0ZXN0IGFnYWluc3QgYGltcG9ydFNjcmlwdHNgIHByZXZlbnRzIHRoaXMgaW1wbGVtZW50YXRpb24gZnJvbSBiZWluZyBpbnN0YWxsZWQgaW5zaWRlIGEgd2ViIHdvcmtlcixcbiAgICAgICAgLy8gd2hlcmUgYGdsb2JhbC5wb3N0TWVzc2FnZWAgbWVhbnMgc29tZXRoaW5nIGNvbXBsZXRlbHkgZGlmZmVyZW50IGFuZCBjYW4ndCBiZSB1c2VkIGZvciB0aGlzIHB1cnBvc2UuXG4gICAgICAgIGlmIChnbG9iYWwucG9zdE1lc3NhZ2UgJiYgIWdsb2JhbC5pbXBvcnRTY3JpcHRzKSB7XG4gICAgICAgICAgICB2YXIgcG9zdE1lc3NhZ2VJc0FzeW5jaHJvbm91cyA9IHRydWU7XG4gICAgICAgICAgICB2YXIgb2xkT25NZXNzYWdlID0gZ2xvYmFsLm9ubWVzc2FnZTtcbiAgICAgICAgICAgIGdsb2JhbC5vbm1lc3NhZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBwb3N0TWVzc2FnZUlzQXN5bmNocm9ub3VzID0gZmFsc2U7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZ2xvYmFsLnBvc3RNZXNzYWdlKFwiXCIsIFwiKlwiKTtcbiAgICAgICAgICAgIGdsb2JhbC5vbm1lc3NhZ2UgPSBvbGRPbk1lc3NhZ2U7XG4gICAgICAgICAgICByZXR1cm4gcG9zdE1lc3NhZ2VJc0FzeW5jaHJvbm91cztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxQb3N0TWVzc2FnZUltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICAvLyBJbnN0YWxscyBhbiBldmVudCBoYW5kbGVyIG9uIGBnbG9iYWxgIGZvciB0aGUgYG1lc3NhZ2VgIGV2ZW50OiBzZWVcbiAgICAgICAgLy8gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9ET00vd2luZG93LnBvc3RNZXNzYWdlXG4gICAgICAgIC8vICogaHR0cDovL3d3dy53aGF0d2cub3JnL3NwZWNzL3dlYi1hcHBzL2N1cnJlbnQtd29yay9tdWx0aXBhZ2UvY29tbXMuaHRtbCNjcm9zc0RvY3VtZW50TWVzc2FnZXNcblxuICAgICAgICB2YXIgbWVzc2FnZVByZWZpeCA9IFwic2V0SW1tZWRpYXRlJFwiICsgTWF0aC5yYW5kb20oKSArIFwiJFwiO1xuICAgICAgICB2YXIgb25HbG9iYWxNZXNzYWdlID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGlmIChldmVudC5zb3VyY2UgPT09IGdsb2JhbCAmJlxuICAgICAgICAgICAgICAgIHR5cGVvZiBldmVudC5kYXRhID09PSBcInN0cmluZ1wiICYmXG4gICAgICAgICAgICAgICAgZXZlbnQuZGF0YS5pbmRleE9mKG1lc3NhZ2VQcmVmaXgpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcnVuSWZQcmVzZW50KCtldmVudC5kYXRhLnNsaWNlKG1lc3NhZ2VQcmVmaXgubGVuZ3RoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICBnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgb25HbG9iYWxNZXNzYWdlLCBmYWxzZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnbG9iYWwuYXR0YWNoRXZlbnQoXCJvbm1lc3NhZ2VcIiwgb25HbG9iYWxNZXNzYWdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICBnbG9iYWwucG9zdE1lc3NhZ2UobWVzc2FnZVByZWZpeCArIGhhbmRsZSwgXCIqXCIpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxNZXNzYWdlQ2hhbm5lbEltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICB2YXIgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuICAgICAgICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgaGFuZGxlID0gZXZlbnQuZGF0YTtcbiAgICAgICAgICAgIHJ1bklmUHJlc2VudChoYW5kbGUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICBjaGFubmVsLnBvcnQyLnBvc3RNZXNzYWdlKGhhbmRsZSk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbFJlYWR5U3RhdGVDaGFuZ2VJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgdmFyIGh0bWwgPSBkb2MuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgLy8gQ3JlYXRlIGEgPHNjcmlwdD4gZWxlbWVudDsgaXRzIHJlYWR5c3RhdGVjaGFuZ2UgZXZlbnQgd2lsbCBiZSBmaXJlZCBhc3luY2hyb25vdXNseSBvbmNlIGl0IGlzIGluc2VydGVkXG4gICAgICAgICAgICAvLyBpbnRvIHRoZSBkb2N1bWVudC4gRG8gc28sIHRodXMgcXVldWluZyB1cCB0aGUgdGFzay4gUmVtZW1iZXIgdG8gY2xlYW4gdXAgb25jZSBpdCdzIGJlZW4gY2FsbGVkLlxuICAgICAgICAgICAgdmFyIHNjcmlwdCA9IGRvYy5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xuICAgICAgICAgICAgc2NyaXB0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBydW5JZlByZXNlbnQoaGFuZGxlKTtcbiAgICAgICAgICAgICAgICBzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBodG1sLnJlbW92ZUNoaWxkKHNjcmlwdCk7XG4gICAgICAgICAgICAgICAgc2NyaXB0ID0gbnVsbDtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBodG1sLmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbFNldFRpbWVvdXRJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQocnVuSWZQcmVzZW50LCAwLCBoYW5kbGUpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIElmIHN1cHBvcnRlZCwgd2Ugc2hvdWxkIGF0dGFjaCB0byB0aGUgcHJvdG90eXBlIG9mIGdsb2JhbCwgc2luY2UgdGhhdCBpcyB3aGVyZSBzZXRUaW1lb3V0IGV0IGFsLiBsaXZlLlxuICAgIHZhciBhdHRhY2hUbyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZ2xvYmFsKTtcbiAgICBhdHRhY2hUbyA9IGF0dGFjaFRvICYmIGF0dGFjaFRvLnNldFRpbWVvdXQgPyBhdHRhY2hUbyA6IGdsb2JhbDtcblxuICAgIC8vIERvbid0IGdldCBmb29sZWQgYnkgZS5nLiBicm93c2VyaWZ5IGVudmlyb25tZW50cy5cbiAgICBpZiAoe30udG9TdHJpbmcuY2FsbChnbG9iYWwucHJvY2VzcykgPT09IFwiW29iamVjdCBwcm9jZXNzXVwiKSB7XG4gICAgICAgIC8vIEZvciBOb2RlLmpzIGJlZm9yZSAwLjlcbiAgICAgICAgaW5zdGFsbE5leHRUaWNrSW1wbGVtZW50YXRpb24oKTtcblxuICAgIH0gZWxzZSBpZiAoY2FuVXNlUG9zdE1lc3NhZ2UoKSkge1xuICAgICAgICAvLyBGb3Igbm9uLUlFMTAgbW9kZXJuIGJyb3dzZXJzXG4gICAgICAgIGluc3RhbGxQb3N0TWVzc2FnZUltcGxlbWVudGF0aW9uKCk7XG5cbiAgICB9IGVsc2UgaWYgKGdsb2JhbC5NZXNzYWdlQ2hhbm5lbCkge1xuICAgICAgICAvLyBGb3Igd2ViIHdvcmtlcnMsIHdoZXJlIHN1cHBvcnRlZFxuICAgICAgICBpbnN0YWxsTWVzc2FnZUNoYW5uZWxJbXBsZW1lbnRhdGlvbigpO1xuXG4gICAgfSBlbHNlIGlmIChkb2MgJiYgXCJvbnJlYWR5c3RhdGVjaGFuZ2VcIiBpbiBkb2MuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKSkge1xuICAgICAgICAvLyBGb3IgSUUgNuKAkzhcbiAgICAgICAgaW5zdGFsbFJlYWR5U3RhdGVDaGFuZ2VJbXBsZW1lbnRhdGlvbigpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRm9yIG9sZGVyIGJyb3dzZXJzXG4gICAgICAgIGluc3RhbGxTZXRUaW1lb3V0SW1wbGVtZW50YXRpb24oKTtcbiAgICB9XG5cbiAgICBhdHRhY2hUby5zZXRJbW1lZGlhdGUgPSBzZXRJbW1lZGlhdGU7XG4gICAgYXR0YWNoVG8uY2xlYXJJbW1lZGlhdGUgPSBjbGVhckltbWVkaWF0ZTtcbn0odHlwZW9mIHNlbGYgPT09IFwidW5kZWZpbmVkXCIgPyB0eXBlb2YgZ2xvYmFsID09PSBcInVuZGVmaW5lZFwiID8gdGhpcyA6IGdsb2JhbCA6IHNlbGYpKTtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMTEpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpKSlcblxuLyoqKi8gfSksXG4vKiA5MyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5leHBvcnRzLmdldCA9IGZ1bmN0aW9uKGJlbG93Rm4pIHtcbiAgdmFyIG9sZExpbWl0ID0gRXJyb3Iuc3RhY2tUcmFjZUxpbWl0O1xuICBFcnJvci5zdGFja1RyYWNlTGltaXQgPSBJbmZpbml0eTtcblxuICB2YXIgZHVtbXlPYmplY3QgPSB7fTtcblxuICB2YXIgdjhIYW5kbGVyID0gRXJyb3IucHJlcGFyZVN0YWNrVHJhY2U7XG4gIEVycm9yLnByZXBhcmVTdGFja1RyYWNlID0gZnVuY3Rpb24oZHVtbXlPYmplY3QsIHY4U3RhY2tUcmFjZSkge1xuICAgIHJldHVybiB2OFN0YWNrVHJhY2U7XG4gIH07XG4gIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKGR1bW15T2JqZWN0LCBiZWxvd0ZuIHx8IGV4cG9ydHMuZ2V0KTtcblxuICB2YXIgdjhTdGFja1RyYWNlID0gZHVtbXlPYmplY3Quc3RhY2s7XG4gIEVycm9yLnByZXBhcmVTdGFja1RyYWNlID0gdjhIYW5kbGVyO1xuICBFcnJvci5zdGFja1RyYWNlTGltaXQgPSBvbGRMaW1pdDtcblxuICByZXR1cm4gdjhTdGFja1RyYWNlO1xufTtcblxuZXhwb3J0cy5wYXJzZSA9IGZ1bmN0aW9uKGVycikge1xuICBpZiAoIWVyci5zdGFjaykge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIHZhciBzZWxmID0gdGhpcztcbiAgdmFyIGxpbmVzID0gZXJyLnN0YWNrLnNwbGl0KCdcXG4nKS5zbGljZSgxKTtcblxuICByZXR1cm4gbGluZXNcbiAgICAubWFwKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgIGlmIChsaW5lLm1hdGNoKC9eXFxzKlstXXs0LH0kLykpIHtcbiAgICAgICAgcmV0dXJuIHNlbGYuX2NyZWF0ZVBhcnNlZENhbGxTaXRlKHtcbiAgICAgICAgICBmaWxlTmFtZTogbGluZSxcbiAgICAgICAgICBsaW5lTnVtYmVyOiBudWxsLFxuICAgICAgICAgIGZ1bmN0aW9uTmFtZTogbnVsbCxcbiAgICAgICAgICB0eXBlTmFtZTogbnVsbCxcbiAgICAgICAgICBtZXRob2ROYW1lOiBudWxsLFxuICAgICAgICAgIGNvbHVtbk51bWJlcjogbnVsbCxcbiAgICAgICAgICAnbmF0aXZlJzogbnVsbCxcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBsaW5lTWF0Y2ggPSBsaW5lLm1hdGNoKC9hdCAoPzooLispXFxzKyk/XFwoPyg/OiguKz8pOihcXGQrKTooXFxkKyl8KFteKV0rKSlcXCk/Lyk7XG4gICAgICBpZiAoIWxpbmVNYXRjaCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBvYmplY3QgPSBudWxsO1xuICAgICAgdmFyIG1ldGhvZCA9IG51bGw7XG4gICAgICB2YXIgZnVuY3Rpb25OYW1lID0gbnVsbDtcbiAgICAgIHZhciB0eXBlTmFtZSA9IG51bGw7XG4gICAgICB2YXIgbWV0aG9kTmFtZSA9IG51bGw7XG4gICAgICB2YXIgaXNOYXRpdmUgPSAobGluZU1hdGNoWzVdID09PSAnbmF0aXZlJyk7XG5cbiAgICAgIGlmIChsaW5lTWF0Y2hbMV0pIHtcbiAgICAgICAgdmFyIG1ldGhvZE1hdGNoID0gbGluZU1hdGNoWzFdLm1hdGNoKC8oW15cXC5dKykoPzpcXC4oLispKT8vKTtcbiAgICAgICAgb2JqZWN0ID0gbWV0aG9kTWF0Y2hbMV07XG4gICAgICAgIG1ldGhvZCA9IG1ldGhvZE1hdGNoWzJdO1xuICAgICAgICBmdW5jdGlvbk5hbWUgPSBsaW5lTWF0Y2hbMV07XG4gICAgICAgIHR5cGVOYW1lID0gJ09iamVjdCc7XG4gICAgICB9XG5cbiAgICAgIGlmIChtZXRob2QpIHtcbiAgICAgICAgdHlwZU5hbWUgPSBvYmplY3Q7XG4gICAgICAgIG1ldGhvZE5hbWUgPSBtZXRob2Q7XG4gICAgICB9XG5cbiAgICAgIGlmIChtZXRob2QgPT09ICc8YW5vbnltb3VzPicpIHtcbiAgICAgICAgbWV0aG9kTmFtZSA9IG51bGw7XG4gICAgICAgIGZ1bmN0aW9uTmFtZSA9ICcnO1xuICAgICAgfVxuXG4gICAgICB2YXIgcHJvcGVydGllcyA9IHtcbiAgICAgICAgZmlsZU5hbWU6IGxpbmVNYXRjaFsyXSB8fCBudWxsLFxuICAgICAgICBsaW5lTnVtYmVyOiBwYXJzZUludChsaW5lTWF0Y2hbM10sIDEwKSB8fCBudWxsLFxuICAgICAgICBmdW5jdGlvbk5hbWU6IGZ1bmN0aW9uTmFtZSxcbiAgICAgICAgdHlwZU5hbWU6IHR5cGVOYW1lLFxuICAgICAgICBtZXRob2ROYW1lOiBtZXRob2ROYW1lLFxuICAgICAgICBjb2x1bW5OdW1iZXI6IHBhcnNlSW50KGxpbmVNYXRjaFs0XSwgMTApIHx8IG51bGwsXG4gICAgICAgICduYXRpdmUnOiBpc05hdGl2ZSxcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBzZWxmLl9jcmVhdGVQYXJzZWRDYWxsU2l0ZShwcm9wZXJ0aWVzKTtcbiAgICB9KVxuICAgIC5maWx0ZXIoZnVuY3Rpb24oY2FsbFNpdGUpIHtcbiAgICAgIHJldHVybiAhIWNhbGxTaXRlO1xuICAgIH0pO1xufTtcblxuZXhwb3J0cy5fY3JlYXRlUGFyc2VkQ2FsbFNpdGUgPSBmdW5jdGlvbihwcm9wZXJ0aWVzKSB7XG4gIHZhciBtZXRob2RzID0ge307XG4gIGZvciAodmFyIHByb3BlcnR5IGluIHByb3BlcnRpZXMpIHtcbiAgICB2YXIgcHJlZml4ID0gJ2dldCc7XG4gICAgaWYgKHByb3BlcnR5ID09PSAnbmF0aXZlJykge1xuICAgICAgcHJlZml4ID0gJ2lzJztcbiAgICB9XG4gICAgdmFyIG1ldGhvZCA9IHByZWZpeCArIHByb3BlcnR5LnN1YnN0cigwLCAxKS50b1VwcGVyQ2FzZSgpICsgcHJvcGVydHkuc3Vic3RyKDEpO1xuXG4gICAgKGZ1bmN0aW9uKHByb3BlcnR5KSB7XG4gICAgICBtZXRob2RzW21ldGhvZF0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHByb3BlcnRpZXNbcHJvcGVydHldO1xuICAgICAgfVxuICAgIH0pKHByb3BlcnR5KTtcbiAgfVxuXG4gIHZhciBjYWxsU2l0ZSA9IE9iamVjdC5jcmVhdGUobWV0aG9kcyk7XG4gIGZvciAodmFyIHByb3BlcnR5IGluIHByb3BlcnRpZXMpIHtcbiAgICBjYWxsU2l0ZVtwcm9wZXJ0eV0gPSBwcm9wZXJ0aWVzW3Byb3BlcnR5XTtcbiAgfVxuXG4gIHJldHVybiBjYWxsU2l0ZTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiA5NCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgYXBwbHkgPSBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHk7XG5cbi8vIERPTSBBUElzLCBmb3IgY29tcGxldGVuZXNzXG5cbmV4cG9ydHMuc2V0VGltZW91dCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFRpbWVvdXQoYXBwbHkuY2FsbChzZXRUaW1lb3V0LCB3aW5kb3csIGFyZ3VtZW50cyksIGNsZWFyVGltZW91dCk7XG59O1xuZXhwb3J0cy5zZXRJbnRlcnZhbCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFRpbWVvdXQoYXBwbHkuY2FsbChzZXRJbnRlcnZhbCwgd2luZG93LCBhcmd1bWVudHMpLCBjbGVhckludGVydmFsKTtcbn07XG5leHBvcnRzLmNsZWFyVGltZW91dCA9XG5leHBvcnRzLmNsZWFySW50ZXJ2YWwgPSBmdW5jdGlvbih0aW1lb3V0KSB7XG4gIGlmICh0aW1lb3V0KSB7XG4gICAgdGltZW91dC5jbG9zZSgpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBUaW1lb3V0KGlkLCBjbGVhckZuKSB7XG4gIHRoaXMuX2lkID0gaWQ7XG4gIHRoaXMuX2NsZWFyRm4gPSBjbGVhckZuO1xufVxuVGltZW91dC5wcm90b3R5cGUudW5yZWYgPSBUaW1lb3V0LnByb3RvdHlwZS5yZWYgPSBmdW5jdGlvbigpIHt9O1xuVGltZW91dC5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fY2xlYXJGbi5jYWxsKHdpbmRvdywgdGhpcy5faWQpO1xufTtcblxuLy8gRG9lcyBub3Qgc3RhcnQgdGhlIHRpbWUsIGp1c3Qgc2V0cyB1cCB0aGUgbWVtYmVycyBuZWVkZWQuXG5leHBvcnRzLmVucm9sbCA9IGZ1bmN0aW9uKGl0ZW0sIG1zZWNzKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcbiAgaXRlbS5faWRsZVRpbWVvdXQgPSBtc2Vjcztcbn07XG5cbmV4cG9ydHMudW5lbnJvbGwgPSBmdW5jdGlvbihpdGVtKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcbiAgaXRlbS5faWRsZVRpbWVvdXQgPSAtMTtcbn07XG5cbmV4cG9ydHMuX3VucmVmQWN0aXZlID0gZXhwb3J0cy5hY3RpdmUgPSBmdW5jdGlvbihpdGVtKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcblxuICB2YXIgbXNlY3MgPSBpdGVtLl9pZGxlVGltZW91dDtcbiAgaWYgKG1zZWNzID49IDApIHtcbiAgICBpdGVtLl9pZGxlVGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiBvblRpbWVvdXQoKSB7XG4gICAgICBpZiAoaXRlbS5fb25UaW1lb3V0KVxuICAgICAgICBpdGVtLl9vblRpbWVvdXQoKTtcbiAgICB9LCBtc2Vjcyk7XG4gIH1cbn07XG5cbi8vIHNldGltbWVkaWF0ZSBhdHRhY2hlcyBpdHNlbGYgdG8gdGhlIGdsb2JhbCBvYmplY3Rcbl9fd2VicGFja19yZXF1aXJlX18oOTIpO1xuZXhwb3J0cy5zZXRJbW1lZGlhdGUgPSBzZXRJbW1lZGlhdGU7XG5leHBvcnRzLmNsZWFySW1tZWRpYXRlID0gY2xlYXJJbW1lZGlhdGU7XG5cblxuLyoqKi8gfSksXG4vKiA5NSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IDIxNDc0ODM2NDc7XG5cblxuLyoqKi8gfSksXG4vKiA5NiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgdG9Qb3NJbnQgICA9IF9fd2VicGFja19yZXF1aXJlX18oMSlcbiAgLCBtYXhUaW1lb3V0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5NSk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdHZhbHVlID0gdG9Qb3NJbnQodmFsdWUpO1xuXHRpZiAodmFsdWUgPiBtYXhUaW1lb3V0KSB0aHJvdyBuZXcgVHlwZUVycm9yKHZhbHVlICsgXCIgZXhjZWVkcyBtYXhpbXVtIHBvc3NpYmxlIHRpbWVvdXRcIik7XG5cdHJldHVybiB2YWx1ZTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiA5NyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5pZiAodHlwZW9mIE9iamVjdC5jcmVhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgLy8gaW1wbGVtZW50YXRpb24gZnJvbSBzdGFuZGFyZCBub2RlLmpzICd1dGlsJyBtb2R1bGVcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvclxuICAgIGN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckN0b3IucHJvdG90eXBlLCB7XG4gICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICB2YWx1ZTogY3RvcixcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbn0gZWxzZSB7XG4gIC8vIG9sZCBzY2hvb2wgc2hpbSBmb3Igb2xkIGJyb3dzZXJzXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3JcbiAgICB2YXIgVGVtcEN0b3IgPSBmdW5jdGlvbiAoKSB7fVxuICAgIFRlbXBDdG9yLnByb3RvdHlwZSA9IHN1cGVyQ3Rvci5wcm90b3R5cGVcbiAgICBjdG9yLnByb3RvdHlwZSA9IG5ldyBUZW1wQ3RvcigpXG4gICAgY3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBjdG9yXG4gIH1cbn1cblxuXG4vKioqLyB9KSxcbi8qIDk4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNCdWZmZXIoYXJnKSB7XG4gIHJldHVybiBhcmcgJiYgdHlwZW9mIGFyZyA9PT0gJ29iamVjdCdcbiAgICAmJiB0eXBlb2YgYXJnLmNvcHkgPT09ICdmdW5jdGlvbidcbiAgICAmJiB0eXBlb2YgYXJnLmZpbGwgPT09ICdmdW5jdGlvbidcbiAgICAmJiB0eXBlb2YgYXJnLnJlYWRVSW50OCA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuLyoqKi8gfSksXG4vKiA5OSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oZ2xvYmFsLCBwcm9jZXNzKSB7Ly8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbnZhciBmb3JtYXRSZWdFeHAgPSAvJVtzZGolXS9nO1xuZXhwb3J0cy5mb3JtYXQgPSBmdW5jdGlvbihmKSB7XG4gIGlmICghaXNTdHJpbmcoZikpIHtcbiAgICB2YXIgb2JqZWN0cyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBvYmplY3RzLnB1c2goaW5zcGVjdChhcmd1bWVudHNbaV0pKTtcbiAgICB9XG4gICAgcmV0dXJuIG9iamVjdHMuam9pbignICcpO1xuICB9XG5cbiAgdmFyIGkgPSAxO1xuICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgdmFyIGxlbiA9IGFyZ3MubGVuZ3RoO1xuICB2YXIgc3RyID0gU3RyaW5nKGYpLnJlcGxhY2UoZm9ybWF0UmVnRXhwLCBmdW5jdGlvbih4KSB7XG4gICAgaWYgKHggPT09ICclJScpIHJldHVybiAnJSc7XG4gICAgaWYgKGkgPj0gbGVuKSByZXR1cm4geDtcbiAgICBzd2l0Y2ggKHgpIHtcbiAgICAgIGNhc2UgJyVzJzogcmV0dXJuIFN0cmluZyhhcmdzW2krK10pO1xuICAgICAgY2FzZSAnJWQnOiByZXR1cm4gTnVtYmVyKGFyZ3NbaSsrXSk7XG4gICAgICBjYXNlICclaic6XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGFyZ3NbaSsrXSk7XG4gICAgICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgICAgICByZXR1cm4gJ1tDaXJjdWxhcl0nO1xuICAgICAgICB9XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4geDtcbiAgICB9XG4gIH0pO1xuICBmb3IgKHZhciB4ID0gYXJnc1tpXTsgaSA8IGxlbjsgeCA9IGFyZ3NbKytpXSkge1xuICAgIGlmIChpc051bGwoeCkgfHwgIWlzT2JqZWN0KHgpKSB7XG4gICAgICBzdHIgKz0gJyAnICsgeDtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyICs9ICcgJyArIGluc3BlY3QoeCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBzdHI7XG59O1xuXG5cbi8vIE1hcmsgdGhhdCBhIG1ldGhvZCBzaG91bGQgbm90IGJlIHVzZWQuXG4vLyBSZXR1cm5zIGEgbW9kaWZpZWQgZnVuY3Rpb24gd2hpY2ggd2FybnMgb25jZSBieSBkZWZhdWx0LlxuLy8gSWYgLS1uby1kZXByZWNhdGlvbiBpcyBzZXQsIHRoZW4gaXQgaXMgYSBuby1vcC5cbmV4cG9ydHMuZGVwcmVjYXRlID0gZnVuY3Rpb24oZm4sIG1zZykge1xuICAvLyBBbGxvdyBmb3IgZGVwcmVjYXRpbmcgdGhpbmdzIGluIHRoZSBwcm9jZXNzIG9mIHN0YXJ0aW5nIHVwLlxuICBpZiAoaXNVbmRlZmluZWQoZ2xvYmFsLnByb2Nlc3MpKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGV4cG9ydHMuZGVwcmVjYXRlKGZuLCBtc2cpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfVxuXG4gIGlmIChwcm9jZXNzLm5vRGVwcmVjYXRpb24gPT09IHRydWUpIHtcbiAgICByZXR1cm4gZm47XG4gIH1cblxuICB2YXIgd2FybmVkID0gZmFsc2U7XG4gIGZ1bmN0aW9uIGRlcHJlY2F0ZWQoKSB7XG4gICAgaWYgKCF3YXJuZWQpIHtcbiAgICAgIGlmIChwcm9jZXNzLnRocm93RGVwcmVjYXRpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gICAgICB9IGVsc2UgaWYgKHByb2Nlc3MudHJhY2VEZXByZWNhdGlvbikge1xuICAgICAgICBjb25zb2xlLnRyYWNlKG1zZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKG1zZyk7XG4gICAgICB9XG4gICAgICB3YXJuZWQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIHJldHVybiBkZXByZWNhdGVkO1xufTtcblxuXG52YXIgZGVidWdzID0ge307XG52YXIgZGVidWdFbnZpcm9uO1xuZXhwb3J0cy5kZWJ1Z2xvZyA9IGZ1bmN0aW9uKHNldCkge1xuICBpZiAoaXNVbmRlZmluZWQoZGVidWdFbnZpcm9uKSlcbiAgICBkZWJ1Z0Vudmlyb24gPSBwcm9jZXNzLmVudi5OT0RFX0RFQlVHIHx8ICcnO1xuICBzZXQgPSBzZXQudG9VcHBlckNhc2UoKTtcbiAgaWYgKCFkZWJ1Z3Nbc2V0XSkge1xuICAgIGlmIChuZXcgUmVnRXhwKCdcXFxcYicgKyBzZXQgKyAnXFxcXGInLCAnaScpLnRlc3QoZGVidWdFbnZpcm9uKSkge1xuICAgICAgdmFyIHBpZCA9IHByb2Nlc3MucGlkO1xuICAgICAgZGVidWdzW3NldF0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG1zZyA9IGV4cG9ydHMuZm9ybWF0LmFwcGx5KGV4cG9ydHMsIGFyZ3VtZW50cyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJyVzICVkOiAlcycsIHNldCwgcGlkLCBtc2cpO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVidWdzW3NldF0gPSBmdW5jdGlvbigpIHt9O1xuICAgIH1cbiAgfVxuICByZXR1cm4gZGVidWdzW3NldF07XG59O1xuXG5cbi8qKlxuICogRWNob3MgdGhlIHZhbHVlIG9mIGEgdmFsdWUuIFRyeXMgdG8gcHJpbnQgdGhlIHZhbHVlIG91dFxuICogaW4gdGhlIGJlc3Qgd2F5IHBvc3NpYmxlIGdpdmVuIHRoZSBkaWZmZXJlbnQgdHlwZXMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iaiBUaGUgb2JqZWN0IHRvIHByaW50IG91dC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIE9wdGlvbmFsIG9wdGlvbnMgb2JqZWN0IHRoYXQgYWx0ZXJzIHRoZSBvdXRwdXQuXG4gKi9cbi8qIGxlZ2FjeTogb2JqLCBzaG93SGlkZGVuLCBkZXB0aCwgY29sb3JzKi9cbmZ1bmN0aW9uIGluc3BlY3Qob2JqLCBvcHRzKSB7XG4gIC8vIGRlZmF1bHQgb3B0aW9uc1xuICB2YXIgY3R4ID0ge1xuICAgIHNlZW46IFtdLFxuICAgIHN0eWxpemU6IHN0eWxpemVOb0NvbG9yXG4gIH07XG4gIC8vIGxlZ2FjeS4uLlxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAzKSBjdHguZGVwdGggPSBhcmd1bWVudHNbMl07XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDQpIGN0eC5jb2xvcnMgPSBhcmd1bWVudHNbM107XG4gIGlmIChpc0Jvb2xlYW4ob3B0cykpIHtcbiAgICAvLyBsZWdhY3kuLi5cbiAgICBjdHguc2hvd0hpZGRlbiA9IG9wdHM7XG4gIH0gZWxzZSBpZiAob3B0cykge1xuICAgIC8vIGdvdCBhbiBcIm9wdGlvbnNcIiBvYmplY3RcbiAgICBleHBvcnRzLl9leHRlbmQoY3R4LCBvcHRzKTtcbiAgfVxuICAvLyBzZXQgZGVmYXVsdCBvcHRpb25zXG4gIGlmIChpc1VuZGVmaW5lZChjdHguc2hvd0hpZGRlbikpIGN0eC5zaG93SGlkZGVuID0gZmFsc2U7XG4gIGlmIChpc1VuZGVmaW5lZChjdHguZGVwdGgpKSBjdHguZGVwdGggPSAyO1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LmNvbG9ycykpIGN0eC5jb2xvcnMgPSBmYWxzZTtcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5jdXN0b21JbnNwZWN0KSkgY3R4LmN1c3RvbUluc3BlY3QgPSB0cnVlO1xuICBpZiAoY3R4LmNvbG9ycykgY3R4LnN0eWxpemUgPSBzdHlsaXplV2l0aENvbG9yO1xuICByZXR1cm4gZm9ybWF0VmFsdWUoY3R4LCBvYmosIGN0eC5kZXB0aCk7XG59XG5leHBvcnRzLmluc3BlY3QgPSBpbnNwZWN0O1xuXG5cbi8vIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQU5TSV9lc2NhcGVfY29kZSNncmFwaGljc1xuaW5zcGVjdC5jb2xvcnMgPSB7XG4gICdib2xkJyA6IFsxLCAyMl0sXG4gICdpdGFsaWMnIDogWzMsIDIzXSxcbiAgJ3VuZGVybGluZScgOiBbNCwgMjRdLFxuICAnaW52ZXJzZScgOiBbNywgMjddLFxuICAnd2hpdGUnIDogWzM3LCAzOV0sXG4gICdncmV5JyA6IFs5MCwgMzldLFxuICAnYmxhY2snIDogWzMwLCAzOV0sXG4gICdibHVlJyA6IFszNCwgMzldLFxuICAnY3lhbicgOiBbMzYsIDM5XSxcbiAgJ2dyZWVuJyA6IFszMiwgMzldLFxuICAnbWFnZW50YScgOiBbMzUsIDM5XSxcbiAgJ3JlZCcgOiBbMzEsIDM5XSxcbiAgJ3llbGxvdycgOiBbMzMsIDM5XVxufTtcblxuLy8gRG9uJ3QgdXNlICdibHVlJyBub3QgdmlzaWJsZSBvbiBjbWQuZXhlXG5pbnNwZWN0LnN0eWxlcyA9IHtcbiAgJ3NwZWNpYWwnOiAnY3lhbicsXG4gICdudW1iZXInOiAneWVsbG93JyxcbiAgJ2Jvb2xlYW4nOiAneWVsbG93JyxcbiAgJ3VuZGVmaW5lZCc6ICdncmV5JyxcbiAgJ251bGwnOiAnYm9sZCcsXG4gICdzdHJpbmcnOiAnZ3JlZW4nLFxuICAnZGF0ZSc6ICdtYWdlbnRhJyxcbiAgLy8gXCJuYW1lXCI6IGludGVudGlvbmFsbHkgbm90IHN0eWxpbmdcbiAgJ3JlZ2V4cCc6ICdyZWQnXG59O1xuXG5cbmZ1bmN0aW9uIHN0eWxpemVXaXRoQ29sb3Ioc3RyLCBzdHlsZVR5cGUpIHtcbiAgdmFyIHN0eWxlID0gaW5zcGVjdC5zdHlsZXNbc3R5bGVUeXBlXTtcblxuICBpZiAoc3R5bGUpIHtcbiAgICByZXR1cm4gJ1xcdTAwMWJbJyArIGluc3BlY3QuY29sb3JzW3N0eWxlXVswXSArICdtJyArIHN0ciArXG4gICAgICAgICAgICdcXHUwMDFiWycgKyBpbnNwZWN0LmNvbG9yc1tzdHlsZV1bMV0gKyAnbSc7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIHN0eWxpemVOb0NvbG9yKHN0ciwgc3R5bGVUeXBlKSB7XG4gIHJldHVybiBzdHI7XG59XG5cblxuZnVuY3Rpb24gYXJyYXlUb0hhc2goYXJyYXkpIHtcbiAgdmFyIGhhc2ggPSB7fTtcblxuICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uKHZhbCwgaWR4KSB7XG4gICAgaGFzaFt2YWxdID0gdHJ1ZTtcbiAgfSk7XG5cbiAgcmV0dXJuIGhhc2g7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0VmFsdWUoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzKSB7XG4gIC8vIFByb3ZpZGUgYSBob29rIGZvciB1c2VyLXNwZWNpZmllZCBpbnNwZWN0IGZ1bmN0aW9ucy5cbiAgLy8gQ2hlY2sgdGhhdCB2YWx1ZSBpcyBhbiBvYmplY3Qgd2l0aCBhbiBpbnNwZWN0IGZ1bmN0aW9uIG9uIGl0XG4gIGlmIChjdHguY3VzdG9tSW5zcGVjdCAmJlxuICAgICAgdmFsdWUgJiZcbiAgICAgIGlzRnVuY3Rpb24odmFsdWUuaW5zcGVjdCkgJiZcbiAgICAgIC8vIEZpbHRlciBvdXQgdGhlIHV0aWwgbW9kdWxlLCBpdCdzIGluc3BlY3QgZnVuY3Rpb24gaXMgc3BlY2lhbFxuICAgICAgdmFsdWUuaW5zcGVjdCAhPT0gZXhwb3J0cy5pbnNwZWN0ICYmXG4gICAgICAvLyBBbHNvIGZpbHRlciBvdXQgYW55IHByb3RvdHlwZSBvYmplY3RzIHVzaW5nIHRoZSBjaXJjdWxhciBjaGVjay5cbiAgICAgICEodmFsdWUuY29uc3RydWN0b3IgJiYgdmFsdWUuY29uc3RydWN0b3IucHJvdG90eXBlID09PSB2YWx1ZSkpIHtcbiAgICB2YXIgcmV0ID0gdmFsdWUuaW5zcGVjdChyZWN1cnNlVGltZXMsIGN0eCk7XG4gICAgaWYgKCFpc1N0cmluZyhyZXQpKSB7XG4gICAgICByZXQgPSBmb3JtYXRWYWx1ZShjdHgsIHJldCwgcmVjdXJzZVRpbWVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbiAgfVxuXG4gIC8vIFByaW1pdGl2ZSB0eXBlcyBjYW5ub3QgaGF2ZSBwcm9wZXJ0aWVzXG4gIHZhciBwcmltaXRpdmUgPSBmb3JtYXRQcmltaXRpdmUoY3R4LCB2YWx1ZSk7XG4gIGlmIChwcmltaXRpdmUpIHtcbiAgICByZXR1cm4gcHJpbWl0aXZlO1xuICB9XG5cbiAgLy8gTG9vayB1cCB0aGUga2V5cyBvZiB0aGUgb2JqZWN0LlxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHZhbHVlKTtcbiAgdmFyIHZpc2libGVLZXlzID0gYXJyYXlUb0hhc2goa2V5cyk7XG5cbiAgaWYgKGN0eC5zaG93SGlkZGVuKSB7XG4gICAga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKTtcbiAgfVxuXG4gIC8vIElFIGRvZXNuJ3QgbWFrZSBlcnJvciBmaWVsZHMgbm9uLWVudW1lcmFibGVcbiAgLy8gaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2llL2R3dzUyc2J0KHY9dnMuOTQpLmFzcHhcbiAgaWYgKGlzRXJyb3IodmFsdWUpXG4gICAgICAmJiAoa2V5cy5pbmRleE9mKCdtZXNzYWdlJykgPj0gMCB8fCBrZXlzLmluZGV4T2YoJ2Rlc2NyaXB0aW9uJykgPj0gMCkpIHtcbiAgICByZXR1cm4gZm9ybWF0RXJyb3IodmFsdWUpO1xuICB9XG5cbiAgLy8gU29tZSB0eXBlIG9mIG9iamVjdCB3aXRob3V0IHByb3BlcnRpZXMgY2FuIGJlIHNob3J0Y3V0dGVkLlxuICBpZiAoa2V5cy5sZW5ndGggPT09IDApIHtcbiAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgIHZhciBuYW1lID0gdmFsdWUubmFtZSA/ICc6ICcgKyB2YWx1ZS5uYW1lIDogJyc7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoJ1tGdW5jdGlvbicgKyBuYW1lICsgJ10nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ3JlZ2V4cCcpO1xuICAgIH1cbiAgICBpZiAoaXNEYXRlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAnZGF0ZScpO1xuICAgIH1cbiAgICBpZiAoaXNFcnJvcih2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGJhc2UgPSAnJywgYXJyYXkgPSBmYWxzZSwgYnJhY2VzID0gWyd7JywgJ30nXTtcblxuICAvLyBNYWtlIEFycmF5IHNheSB0aGF0IHRoZXkgYXJlIEFycmF5XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIGFycmF5ID0gdHJ1ZTtcbiAgICBicmFjZXMgPSBbJ1snLCAnXSddO1xuICB9XG5cbiAgLy8gTWFrZSBmdW5jdGlvbnMgc2F5IHRoYXQgdGhleSBhcmUgZnVuY3Rpb25zXG4gIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgIHZhciBuID0gdmFsdWUubmFtZSA/ICc6ICcgKyB2YWx1ZS5uYW1lIDogJyc7XG4gICAgYmFzZSA9ICcgW0Z1bmN0aW9uJyArIG4gKyAnXSc7XG4gIH1cblxuICAvLyBNYWtlIFJlZ0V4cHMgc2F5IHRoYXQgdGhleSBhcmUgUmVnRXhwc1xuICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgYmFzZSA9ICcgJyArIFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIH1cblxuICAvLyBNYWtlIGRhdGVzIHdpdGggcHJvcGVydGllcyBmaXJzdCBzYXkgdGhlIGRhdGVcbiAgaWYgKGlzRGF0ZSh2YWx1ZSkpIHtcbiAgICBiYXNlID0gJyAnICsgRGF0ZS5wcm90b3R5cGUudG9VVENTdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIH1cblxuICAvLyBNYWtlIGVycm9yIHdpdGggbWVzc2FnZSBmaXJzdCBzYXkgdGhlIGVycm9yXG4gIGlmIChpc0Vycm9yKHZhbHVlKSkge1xuICAgIGJhc2UgPSAnICcgKyBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gIH1cblxuICBpZiAoa2V5cy5sZW5ndGggPT09IDAgJiYgKCFhcnJheSB8fCB2YWx1ZS5sZW5ndGggPT0gMCkpIHtcbiAgICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArIGJyYWNlc1sxXTtcbiAgfVxuXG4gIGlmIChyZWN1cnNlVGltZXMgPCAwKSB7XG4gICAgaWYgKGlzUmVnRXhwKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdyZWdleHAnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKCdbT2JqZWN0XScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9XG5cbiAgY3R4LnNlZW4ucHVzaCh2YWx1ZSk7XG5cbiAgdmFyIG91dHB1dDtcbiAgaWYgKGFycmF5KSB7XG4gICAgb3V0cHV0ID0gZm9ybWF0QXJyYXkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cyk7XG4gIH0gZWxzZSB7XG4gICAgb3V0cHV0ID0ga2V5cy5tYXAoZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5LCBhcnJheSk7XG4gICAgfSk7XG4gIH1cblxuICBjdHguc2Vlbi5wb3AoKTtcblxuICByZXR1cm4gcmVkdWNlVG9TaW5nbGVTdHJpbmcob3V0cHV0LCBiYXNlLCBicmFjZXMpO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdFByaW1pdGl2ZShjdHgsIHZhbHVlKSB7XG4gIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCd1bmRlZmluZWQnLCAndW5kZWZpbmVkJyk7XG4gIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICB2YXIgc2ltcGxlID0gJ1xcJycgKyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkucmVwbGFjZSgvXlwifFwiJC9nLCAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcXCIvZywgJ1wiJykgKyAnXFwnJztcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoc2ltcGxlLCAnc3RyaW5nJyk7XG4gIH1cbiAgaWYgKGlzTnVtYmVyKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJycgKyB2YWx1ZSwgJ251bWJlcicpO1xuICBpZiAoaXNCb29sZWFuKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJycgKyB2YWx1ZSwgJ2Jvb2xlYW4nKTtcbiAgLy8gRm9yIHNvbWUgcmVhc29uIHR5cGVvZiBudWxsIGlzIFwib2JqZWN0XCIsIHNvIHNwZWNpYWwgY2FzZSBoZXJlLlxuICBpZiAoaXNOdWxsKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJ251bGwnLCAnbnVsbCcpO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdEVycm9yKHZhbHVlKSB7XG4gIHJldHVybiAnWycgKyBFcnJvci5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgKyAnXSc7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0QXJyYXkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cykge1xuICB2YXIgb3V0cHV0ID0gW107XG4gIGZvciAodmFyIGkgPSAwLCBsID0gdmFsdWUubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5KHZhbHVlLCBTdHJpbmcoaSkpKSB7XG4gICAgICBvdXRwdXQucHVzaChmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLFxuICAgICAgICAgIFN0cmluZyhpKSwgdHJ1ZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXRwdXQucHVzaCgnJyk7XG4gICAgfVxuICB9XG4gIGtleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICBpZiAoIWtleS5tYXRjaCgvXlxcZCskLykpIHtcbiAgICAgIG91dHB1dC5wdXNoKGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsXG4gICAgICAgICAga2V5LCB0cnVlKSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIG91dHB1dDtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXksIGFycmF5KSB7XG4gIHZhciBuYW1lLCBzdHIsIGRlc2M7XG4gIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHZhbHVlLCBrZXkpIHx8IHsgdmFsdWU6IHZhbHVlW2tleV0gfTtcbiAgaWYgKGRlc2MuZ2V0KSB7XG4gICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0dldHRlci9TZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tHZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW1NldHRlcl0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfVxuICBpZiAoIWhhc093blByb3BlcnR5KHZpc2libGVLZXlzLCBrZXkpKSB7XG4gICAgbmFtZSA9ICdbJyArIGtleSArICddJztcbiAgfVxuICBpZiAoIXN0cikge1xuICAgIGlmIChjdHguc2Vlbi5pbmRleE9mKGRlc2MudmFsdWUpIDwgMCkge1xuICAgICAgaWYgKGlzTnVsbChyZWN1cnNlVGltZXMpKSB7XG4gICAgICAgIHN0ciA9IGZvcm1hdFZhbHVlKGN0eCwgZGVzYy52YWx1ZSwgbnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHIgPSBmb3JtYXRWYWx1ZShjdHgsIGRlc2MudmFsdWUsIHJlY3Vyc2VUaW1lcyAtIDEpO1xuICAgICAgfVxuICAgICAgaWYgKHN0ci5pbmRleE9mKCdcXG4nKSA+IC0xKSB7XG4gICAgICAgIGlmIChhcnJheSkge1xuICAgICAgICAgIHN0ciA9IHN0ci5zcGxpdCgnXFxuJykubWFwKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgICAgIHJldHVybiAnICAnICsgbGluZTtcbiAgICAgICAgICB9KS5qb2luKCdcXG4nKS5zdWJzdHIoMik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RyID0gJ1xcbicgKyBzdHIuc3BsaXQoJ1xcbicpLm1hcChmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgICAgICByZXR1cm4gJyAgICcgKyBsaW5lO1xuICAgICAgICAgIH0pLmpvaW4oJ1xcbicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbQ2lyY3VsYXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzVW5kZWZpbmVkKG5hbWUpKSB7XG4gICAgaWYgKGFycmF5ICYmIGtleS5tYXRjaCgvXlxcZCskLykpIHtcbiAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIG5hbWUgPSBKU09OLnN0cmluZ2lmeSgnJyArIGtleSk7XG4gICAgaWYgKG5hbWUubWF0Y2goL15cIihbYS16QS1aX11bYS16QS1aXzAtOV0qKVwiJC8pKSB7XG4gICAgICBuYW1lID0gbmFtZS5zdWJzdHIoMSwgbmFtZS5sZW5ndGggLSAyKTtcbiAgICAgIG5hbWUgPSBjdHguc3R5bGl6ZShuYW1lLCAnbmFtZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIilcbiAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFxcIi9nLCAnXCInKVxuICAgICAgICAgICAgICAgICAucmVwbGFjZSgvKF5cInxcIiQpL2csIFwiJ1wiKTtcbiAgICAgIG5hbWUgPSBjdHguc3R5bGl6ZShuYW1lLCAnc3RyaW5nJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5hbWUgKyAnOiAnICsgc3RyO1xufVxuXG5cbmZ1bmN0aW9uIHJlZHVjZVRvU2luZ2xlU3RyaW5nKG91dHB1dCwgYmFzZSwgYnJhY2VzKSB7XG4gIHZhciBudW1MaW5lc0VzdCA9IDA7XG4gIHZhciBsZW5ndGggPSBvdXRwdXQucmVkdWNlKGZ1bmN0aW9uKHByZXYsIGN1cikge1xuICAgIG51bUxpbmVzRXN0Kys7XG4gICAgaWYgKGN1ci5pbmRleE9mKCdcXG4nKSA+PSAwKSBudW1MaW5lc0VzdCsrO1xuICAgIHJldHVybiBwcmV2ICsgY3VyLnJlcGxhY2UoL1xcdTAwMWJcXFtcXGRcXGQ/bS9nLCAnJykubGVuZ3RoICsgMTtcbiAgfSwgMCk7XG5cbiAgaWYgKGxlbmd0aCA+IDYwKSB7XG4gICAgcmV0dXJuIGJyYWNlc1swXSArXG4gICAgICAgICAgIChiYXNlID09PSAnJyA/ICcnIDogYmFzZSArICdcXG4gJykgK1xuICAgICAgICAgICAnICcgK1xuICAgICAgICAgICBvdXRwdXQuam9pbignLFxcbiAgJykgK1xuICAgICAgICAgICAnICcgK1xuICAgICAgICAgICBicmFjZXNbMV07XG4gIH1cblxuICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArICcgJyArIG91dHB1dC5qb2luKCcsICcpICsgJyAnICsgYnJhY2VzWzFdO1xufVxuXG5cbi8vIE5PVEU6IFRoZXNlIHR5cGUgY2hlY2tpbmcgZnVuY3Rpb25zIGludGVudGlvbmFsbHkgZG9uJ3QgdXNlIGBpbnN0YW5jZW9mYFxuLy8gYmVjYXVzZSBpdCBpcyBmcmFnaWxlIGFuZCBjYW4gYmUgZWFzaWx5IGZha2VkIHdpdGggYE9iamVjdC5jcmVhdGUoKWAuXG5mdW5jdGlvbiBpc0FycmF5KGFyKSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KGFyKTtcbn1cbmV4cG9ydHMuaXNBcnJheSA9IGlzQXJyYXk7XG5cbmZ1bmN0aW9uIGlzQm9vbGVhbihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdib29sZWFuJztcbn1cbmV4cG9ydHMuaXNCb29sZWFuID0gaXNCb29sZWFuO1xuXG5mdW5jdGlvbiBpc051bGwoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IG51bGw7XG59XG5leHBvcnRzLmlzTnVsbCA9IGlzTnVsbDtcblxuZnVuY3Rpb24gaXNOdWxsT3JVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNOdWxsT3JVbmRlZmluZWQgPSBpc051bGxPclVuZGVmaW5lZDtcblxuZnVuY3Rpb24gaXNOdW1iZXIoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnbnVtYmVyJztcbn1cbmV4cG9ydHMuaXNOdW1iZXIgPSBpc051bWJlcjtcblxuZnVuY3Rpb24gaXNTdHJpbmcoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnc3RyaW5nJztcbn1cbmV4cG9ydHMuaXNTdHJpbmcgPSBpc1N0cmluZztcblxuZnVuY3Rpb24gaXNTeW1ib2woYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnc3ltYm9sJztcbn1cbmV4cG9ydHMuaXNTeW1ib2wgPSBpc1N5bWJvbDtcblxuZnVuY3Rpb24gaXNVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IHZvaWQgMDtcbn1cbmV4cG9ydHMuaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDtcblxuZnVuY3Rpb24gaXNSZWdFeHAocmUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHJlKSAmJiBvYmplY3RUb1N0cmluZyhyZSkgPT09ICdbb2JqZWN0IFJlZ0V4cF0nO1xufVxuZXhwb3J0cy5pc1JlZ0V4cCA9IGlzUmVnRXhwO1xuXG5mdW5jdGlvbiBpc09iamVjdChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNPYmplY3QgPSBpc09iamVjdDtcblxuZnVuY3Rpb24gaXNEYXRlKGQpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KGQpICYmIG9iamVjdFRvU3RyaW5nKGQpID09PSAnW29iamVjdCBEYXRlXSc7XG59XG5leHBvcnRzLmlzRGF0ZSA9IGlzRGF0ZTtcblxuZnVuY3Rpb24gaXNFcnJvcihlKSB7XG4gIHJldHVybiBpc09iamVjdChlKSAmJlxuICAgICAgKG9iamVjdFRvU3RyaW5nKGUpID09PSAnW29iamVjdCBFcnJvcl0nIHx8IGUgaW5zdGFuY2VvZiBFcnJvcik7XG59XG5leHBvcnRzLmlzRXJyb3IgPSBpc0Vycm9yO1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJztcbn1cbmV4cG9ydHMuaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG5cbmZ1bmN0aW9uIGlzUHJpbWl0aXZlKGFyZykge1xuICByZXR1cm4gYXJnID09PSBudWxsIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnYm9vbGVhbicgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdudW1iZXInIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnc3RyaW5nJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3N5bWJvbCcgfHwgIC8vIEVTNiBzeW1ib2xcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICd1bmRlZmluZWQnO1xufVxuZXhwb3J0cy5pc1ByaW1pdGl2ZSA9IGlzUHJpbWl0aXZlO1xuXG5leHBvcnRzLmlzQnVmZmVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5OCk7XG5cbmZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKG8pIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKTtcbn1cblxuXG5mdW5jdGlvbiBwYWQobikge1xuICByZXR1cm4gbiA8IDEwID8gJzAnICsgbi50b1N0cmluZygxMCkgOiBuLnRvU3RyaW5nKDEwKTtcbn1cblxuXG52YXIgbW9udGhzID0gWydKYW4nLCAnRmViJywgJ01hcicsICdBcHInLCAnTWF5JywgJ0p1bicsICdKdWwnLCAnQXVnJywgJ1NlcCcsXG4gICAgICAgICAgICAgICdPY3QnLCAnTm92JywgJ0RlYyddO1xuXG4vLyAyNiBGZWIgMTY6MTk6MzRcbmZ1bmN0aW9uIHRpbWVzdGFtcCgpIHtcbiAgdmFyIGQgPSBuZXcgRGF0ZSgpO1xuICB2YXIgdGltZSA9IFtwYWQoZC5nZXRIb3VycygpKSxcbiAgICAgICAgICAgICAgcGFkKGQuZ2V0TWludXRlcygpKSxcbiAgICAgICAgICAgICAgcGFkKGQuZ2V0U2Vjb25kcygpKV0uam9pbignOicpO1xuICByZXR1cm4gW2QuZ2V0RGF0ZSgpLCBtb250aHNbZC5nZXRNb250aCgpXSwgdGltZV0uam9pbignICcpO1xufVxuXG5cbi8vIGxvZyBpcyBqdXN0IGEgdGhpbiB3cmFwcGVyIHRvIGNvbnNvbGUubG9nIHRoYXQgcHJlcGVuZHMgYSB0aW1lc3RhbXBcbmV4cG9ydHMubG9nID0gZnVuY3Rpb24oKSB7XG4gIGNvbnNvbGUubG9nKCclcyAtICVzJywgdGltZXN0YW1wKCksIGV4cG9ydHMuZm9ybWF0LmFwcGx5KGV4cG9ydHMsIGFyZ3VtZW50cykpO1xufTtcblxuXG4vKipcbiAqIEluaGVyaXQgdGhlIHByb3RvdHlwZSBtZXRob2RzIGZyb20gb25lIGNvbnN0cnVjdG9yIGludG8gYW5vdGhlci5cbiAqXG4gKiBUaGUgRnVuY3Rpb24ucHJvdG90eXBlLmluaGVyaXRzIGZyb20gbGFuZy5qcyByZXdyaXR0ZW4gYXMgYSBzdGFuZGFsb25lXG4gKiBmdW5jdGlvbiAobm90IG9uIEZ1bmN0aW9uLnByb3RvdHlwZSkuIE5PVEU6IElmIHRoaXMgZmlsZSBpcyB0byBiZSBsb2FkZWRcbiAqIGR1cmluZyBib290c3RyYXBwaW5nIHRoaXMgZnVuY3Rpb24gbmVlZHMgdG8gYmUgcmV3cml0dGVuIHVzaW5nIHNvbWUgbmF0aXZlXG4gKiBmdW5jdGlvbnMgYXMgcHJvdG90eXBlIHNldHVwIHVzaW5nIG5vcm1hbCBKYXZhU2NyaXB0IGRvZXMgbm90IHdvcmsgYXNcbiAqIGV4cGVjdGVkIGR1cmluZyBib290c3RyYXBwaW5nIChzZWUgbWlycm9yLmpzIGluIHIxMTQ5MDMpLlxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGN0b3IgQ29uc3RydWN0b3IgZnVuY3Rpb24gd2hpY2ggbmVlZHMgdG8gaW5oZXJpdCB0aGVcbiAqICAgICBwcm90b3R5cGUuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBzdXBlckN0b3IgQ29uc3RydWN0b3IgZnVuY3Rpb24gdG8gaW5oZXJpdCBwcm90b3R5cGUgZnJvbS5cbiAqL1xuZXhwb3J0cy5pbmhlcml0cyA9IF9fd2VicGFja19yZXF1aXJlX18oOTcpO1xuXG5leHBvcnRzLl9leHRlbmQgPSBmdW5jdGlvbihvcmlnaW4sIGFkZCkge1xuICAvLyBEb24ndCBkbyBhbnl0aGluZyBpZiBhZGQgaXNuJ3QgYW4gb2JqZWN0XG4gIGlmICghYWRkIHx8ICFpc09iamVjdChhZGQpKSByZXR1cm4gb3JpZ2luO1xuXG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMoYWRkKTtcbiAgdmFyIGkgPSBrZXlzLmxlbmd0aDtcbiAgd2hpbGUgKGktLSkge1xuICAgIG9yaWdpbltrZXlzW2ldXSA9IGFkZFtrZXlzW2ldXTtcbiAgfVxuICByZXR1cm4gb3JpZ2luO1xufTtcblxuZnVuY3Rpb24gaGFzT3duUHJvcGVydHkob2JqLCBwcm9wKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcbn1cblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMTEpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpKSlcblxuLyoqKi8gfSksXG4vKiAxMDAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG5cdFwibmFtZVwiOiBcInByZWFjaGVyXCIsXG5cdFwidmVyc2lvblwiOiBcIjAuMC4xXCIsXG5cdFwiZGVzY3JpcHRpb25cIjogXCJMb2dnaW5nIHdyYXBwZXIgdG8gZXh0ZW5kIGNvbnNvbGUgb3IgeW91ciBmYXZvcml0ZSBsb2dnZXIuXCIsXG5cdFwibWFpblwiOiBcImRpc3QvcHJlYWNoZXIuanNcIixcblx0XCJzY3JpcHRzXCI6IHtcblx0XHRcImxpbnRcIjogXCJlc2xpbnQgKi5qcyAuLyoqLyouanMgLS1pZ25vcmUtcGF0aCAuLy5lc2xpbnRpZ25vcmUgLS1xdWlldFwiLFxuXHRcdFwibW9jaGFcIjogXCJtb2NoYSAtLWNvbG9ycyAtLWNvbXBpbGVycyBqczpiYWJlbC1yZWdpc3RlciAkQFwiLFxuXHRcdFwidGVzdFwiOiBcIm5wbSBydW4gbGludCAmJiBtb2NoYSAtLWNvbG9ycyAtLWNvbXBpbGVycyBqczpiYWJlbC1yZWdpc3RlciAuL3Rlc3QvKiovKnRlc3QuanMgLi90ZXN0LyoudGVzdC5qc1wiLFxuXHRcdFwiYnVpbGQ6YnJvd3NlclwiOiBcIndlYnBhY2sgLXBcIixcblx0XHRcImJ1aWxkOm5vZGVcIjogXCJta2RpciAtcCBkaXN0LyAmJiBiYWJlbCAuL3NyYyAtLW91dC1kaXIgZGlzdFwiLFxuXHRcdFwiYnVpbGRcIjogXCJucG0gcnVuIGJ1aWxkOmJyb3dzZXIgJiYgbnBtIHJ1biBidWlsZDpub2RlXCIsXG5cdFx0XCJzdGFydFwiOiBcIndlYnBhY2stZGV2LXNlcnZlciAtLXByb2dyZXNzIC0taW5saW5lIC0taG90IC0tb3BlblwiLFxuXHRcdFwicHJlcHVibGlzaFwiOiBcIm5wbSBydW4gYnVpbGQ6bm9kZVwiXG5cdH0sXG5cdFwicmVwb3NpdG9yeVwiOiB7XG5cdFx0XCJ0eXBlXCI6IFwiZ2l0XCIsXG5cdFx0XCJ1cmxcIjogXCJodHRwOi8vd3d3LmdpdGh1Yi5jb20vbm1jY3JlYWR5L3ByZWFjaGVyXCJcblx0fSxcblx0XCJrZXl3b3Jkc1wiOiBbXG5cdFx0XCJsb2dnaW5nXCIsXG5cdFx0XCJsb2dnZXJcIixcblx0XHRcImxhenktZXZhbFwiLFxuXHRcdFwiZGVidWdcIlxuXHRdLFxuXHRcImF1dGhvclwiOiBcIk5pY2hvbGFzIE1jQ3JlYWR5XCIsXG5cdFwiY29udHJpYnV0b3JzXCI6IFtcblx0XHRcIkpvZSBJYmVyc2hvZmZcIlxuXHRdLFxuXHRcImxpY2Vuc2VcIjogXCJNSVRcIixcblx0XCJkZXBlbmRlbmNpZXNcIjoge1xuXHRcdFwiY29sb3Itd3JhcFwiOiBcIjAuMC4zXCIsXG5cdFx0XCJkZWJ1Zy1mYWJ1bG91c1wiOiBcIjAuMS5YXCIsXG5cdFx0XCJtZW1vaXplZVwiOiBcIjAuNC5YXCIsXG5cdFx0XCJvYmplY3QtYXNzaWduXCI6IFwiNC4xLlhcIixcblx0XHRcInN0YWNrLXRyYWNlXCI6IFwiMC4wLjlcIlxuXHR9LFxuXHRcImRldkRlcGVuZGVuY2llc1wiOiB7XG5cdFx0XCJiYWJlbC1jbGlcIjogXCJeNi4yNC4xXCIsXG5cdFx0XCJiYWJlbC1jb3JlXCI6IFwiXjYuMy4yNlwiLFxuXHRcdFwiYmFiZWwtZXNsaW50XCI6IFwiXjYuMS4wXCIsXG5cdFx0XCJiYWJlbC1sb2FkZXJcIjogXCJeNi40LjFcIixcblx0XHRcImJhYmVsLXBsdWdpbi10cmFuc2Zvcm0tY2xhc3MtcHJvcGVydGllc1wiOiBcIl42LjI0LjFcIixcblx0XHRcImJhYmVsLXBsdWdpbi10cmFuc2Zvcm0tZXhwb3J0LWV4dGVuc2lvbnNcIjogXCJeNi4yMi4wXCIsXG5cdFx0XCJiYWJlbC1wbHVnaW4tdHJhbnNmb3JtLW9iamVjdC1hc3NpZ25cIjogXCJeNi4yMi4wXCIsXG5cdFx0XCJiYWJlbC1wbHVnaW4tdHJhbnNmb3JtLW9iamVjdC1yZXN0LXNwcmVhZFwiOiBcIl42LjIzLjBcIixcblx0XHRcImJhYmVsLXByZXNldC1lczIwMTVcIjogXCJeNi4zLjEzXCIsXG5cdFx0XCJiYWJlbC1wcmVzZXQtcmVhY3RcIjogXCJeNi4zLjEzXCIsXG5cdFx0XCJiYWJlbC1yZWdpc3RlclwiOiBcIl42LjMuMTNcIixcblx0XHRcImJsdWViaXJkXCI6IFwiXjMuNS4wXCIsXG5cdFx0XCJjaGFpXCI6IFwiMy5YXCIsXG5cdFx0XCJlc2xpbnRcIjogXCIzLlhcIixcblx0XHRcImhvb2stc3RkXCI6IFwiMC5YXCIsXG5cdFx0XCJtb2NoYVwiOiBcIjMuWFwiLFxuXHRcdFwicmltcmFmXCI6IFwiXjIuNi4xXCIsXG5cdFx0XCJzaW5vblwiOiBcIl4yLjEuMFwiLFxuXHRcdFwid2VicGFja1wiOiBcIl4yLjQuMVwiLFxuXHRcdFwid2VicGFjay1kZXYtc2VydmVyXCI6IFwiXjIuNC40XCIsXG5cdFx0XCJ3aW5zdG9uXCI6IFwiXjIuMy4xXCJcblx0fVxufTtcblxuLyoqKi8gfSlcbi8qKioqKiovIF0pO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBicm93c2VyUHJlYWNoZXIuanMiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBpZGVudGl0eSBmdW5jdGlvbiBmb3IgY2FsbGluZyBoYXJtb255IGltcG9ydHMgd2l0aCB0aGUgY29ycmVjdCBjb250ZXh0XG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmkgPSBmdW5jdGlvbih2YWx1ZSkgeyByZXR1cm4gdmFsdWU7IH07XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDI1KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCA5N2RjYTVjZGZhZWNjYjdjOTM5OSIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZm4pIHtcblx0aWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykgdGhyb3cgbmV3IFR5cGVFcnJvcihmbiArIFwiIGlzIG5vdCBhIGZ1bmN0aW9uXCIpO1xuXHRyZXR1cm4gZm47XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2VzNS1leHQvb2JqZWN0L3ZhbGlkLWNhbGxhYmxlLmpzXG4vLyBtb2R1bGUgaWQgPSAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxudmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vdG8taW50ZWdlcicpXG5cbiAgLCBtYXggPSBNYXRoLm1heDtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIG1heCgwLCB0b0ludGVnZXIodmFsdWUpKTsgfTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9lczUtZXh0L251bWJlci90by1wb3MtaW50ZWdlci5qc1xuLy8gbW9kdWxlIGlkID0gMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3Byb2Nlc3MvYnJvd3Nlci5qc1xuLy8gbW9kdWxlIGlkID0gM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKlxuXG5UaGUgTUlUIExpY2Vuc2UgKE1JVClcblxuT3JpZ2luYWwgTGlicmFyeSBcbiAgLSBDb3B5cmlnaHQgKGMpIE1hcmFrIFNxdWlyZXNcblxuQWRkaXRpb25hbCBmdW5jdGlvbmFsaXR5XG4gLSBDb3B5cmlnaHQgKGMpIFNpbmRyZSBTb3JodXMgPHNpbmRyZXNvcmh1c0BnbWFpbC5jb20+IChzaW5kcmVzb3JodXMuY29tKVxuXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG5vZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG5pbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG50byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG5jb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbmZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG5cblRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG5hbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cblxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG5GSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbkFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbkxJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG5PVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG5USEUgU09GVFdBUkUuXG5cbiovXG5cbnZhciBjb2xvcnMgPSB7fTtcbm1vZHVsZVsnZXhwb3J0cyddID0gY29sb3JzO1xuXG5jb2xvcnMudGhlbWVzID0ge307XG5cbnZhciBhbnNpU3R5bGVzID0gY29sb3JzLnN0eWxlcyA9IHJlcXVpcmUoJy4vc3R5bGVzJyk7XG52YXIgZGVmaW5lUHJvcHMgPSBPYmplY3QuZGVmaW5lUHJvcGVydGllcztcblxuY29sb3JzLnN1cHBvcnRzQ29sb3IgPSByZXF1aXJlKCcuL3N5c3RlbS9zdXBwb3J0cy1jb2xvcnMnKTtcblxuaWYgKHR5cGVvZiBjb2xvcnMuZW5hYmxlZCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICBjb2xvcnMuZW5hYmxlZCA9IGNvbG9ycy5zdXBwb3J0c0NvbG9yO1xufVxuXG5jb2xvcnMuc3RyaXBDb2xvcnMgPSBjb2xvcnMuc3RyaXAgPSBmdW5jdGlvbihzdHIpe1xuICByZXR1cm4gKFwiXCIgKyBzdHIpLnJlcGxhY2UoL1xceDFCXFxbXFxkK20vZywgJycpO1xufTtcblxuXG52YXIgc3R5bGl6ZSA9IGNvbG9ycy5zdHlsaXplID0gZnVuY3Rpb24gc3R5bGl6ZSAoc3RyLCBzdHlsZSkge1xuICBpZiAoIWNvbG9ycy5lbmFibGVkKSB7XG4gICAgcmV0dXJuIHN0cisnJztcbiAgfVxuXG4gIHJldHVybiBhbnNpU3R5bGVzW3N0eWxlXS5vcGVuICsgc3RyICsgYW5zaVN0eWxlc1tzdHlsZV0uY2xvc2U7XG59XG5cbnZhciBtYXRjaE9wZXJhdG9yc1JlID0gL1t8XFxcXHt9KClbXFxdXiQrKj8uXS9nO1xudmFyIGVzY2FwZVN0cmluZ1JlZ2V4cCA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgaWYgKHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgYSBzdHJpbmcnKTtcbiAgfVxuICByZXR1cm4gc3RyLnJlcGxhY2UobWF0Y2hPcGVyYXRvcnNSZSwgICdcXFxcJCYnKTtcbn1cblxuZnVuY3Rpb24gYnVpbGQoX3N0eWxlcykge1xuICB2YXIgYnVpbGRlciA9IGZ1bmN0aW9uIGJ1aWxkZXIoKSB7XG4gICAgcmV0dXJuIGFwcGx5U3R5bGUuYXBwbHkoYnVpbGRlciwgYXJndW1lbnRzKTtcbiAgfTtcbiAgYnVpbGRlci5fc3R5bGVzID0gX3N0eWxlcztcbiAgLy8gX19wcm90b19fIGlzIHVzZWQgYmVjYXVzZSB3ZSBtdXN0IHJldHVybiBhIGZ1bmN0aW9uLCBidXQgdGhlcmUgaXNcbiAgLy8gbm8gd2F5IHRvIGNyZWF0ZSBhIGZ1bmN0aW9uIHdpdGggYSBkaWZmZXJlbnQgcHJvdG90eXBlLlxuICBidWlsZGVyLl9fcHJvdG9fXyA9IHByb3RvO1xuICByZXR1cm4gYnVpbGRlcjtcbn1cblxudmFyIHN0eWxlcyA9IChmdW5jdGlvbiAoKSB7XG4gIHZhciByZXQgPSB7fTtcbiAgYW5zaVN0eWxlcy5ncmV5ID0gYW5zaVN0eWxlcy5ncmF5O1xuICBPYmplY3Qua2V5cyhhbnNpU3R5bGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBhbnNpU3R5bGVzW2tleV0uY2xvc2VSZSA9IG5ldyBSZWdFeHAoZXNjYXBlU3RyaW5nUmVnZXhwKGFuc2lTdHlsZXNba2V5XS5jbG9zZSksICdnJyk7XG4gICAgcmV0W2tleV0gPSB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGJ1aWxkKHRoaXMuX3N0eWxlcy5jb25jYXQoa2V5KSk7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG4gIHJldHVybiByZXQ7XG59KSgpO1xuXG52YXIgcHJvdG8gPSBkZWZpbmVQcm9wcyhmdW5jdGlvbiBjb2xvcnMoKSB7fSwgc3R5bGVzKTtcblxuZnVuY3Rpb24gYXBwbHlTdHlsZSgpIHtcbiAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gIHZhciBhcmdzTGVuID0gYXJncy5sZW5ndGg7XG4gIHZhciBzdHIgPSBhcmdzTGVuICE9PSAwICYmIFN0cmluZyhhcmd1bWVudHNbMF0pO1xuICBpZiAoYXJnc0xlbiA+IDEpIHtcbiAgICBmb3IgKHZhciBhID0gMTsgYSA8IGFyZ3NMZW47IGErKykge1xuICAgICAgc3RyICs9ICcgJyArIGFyZ3NbYV07XG4gICAgfVxuICB9XG5cbiAgaWYgKCFjb2xvcnMuZW5hYmxlZCB8fCAhc3RyKSB7XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxuXG4gIHZhciBuZXN0ZWRTdHlsZXMgPSB0aGlzLl9zdHlsZXM7XG5cbiAgdmFyIGkgPSBuZXN0ZWRTdHlsZXMubGVuZ3RoO1xuICB3aGlsZSAoaS0tKSB7XG4gICAgdmFyIGNvZGUgPSBhbnNpU3R5bGVzW25lc3RlZFN0eWxlc1tpXV07XG4gICAgc3RyID0gY29kZS5vcGVuICsgc3RyLnJlcGxhY2UoY29kZS5jbG9zZVJlLCBjb2RlLm9wZW4pICsgY29kZS5jbG9zZTtcbiAgfVxuXG4gIHJldHVybiBzdHI7XG59XG5cbmZ1bmN0aW9uIGFwcGx5VGhlbWUgKHRoZW1lKSB7XG4gIGZvciAodmFyIHN0eWxlIGluIHRoZW1lKSB7XG4gICAgKGZ1bmN0aW9uKHN0eWxlKXtcbiAgICAgIGNvbG9yc1tzdHlsZV0gPSBmdW5jdGlvbihzdHIpe1xuICAgICAgICBpZiAodHlwZW9mIHRoZW1lW3N0eWxlXSA9PT0gJ29iamVjdCcpe1xuICAgICAgICAgIHZhciBvdXQgPSBzdHI7XG4gICAgICAgICAgZm9yICh2YXIgaSBpbiB0aGVtZVtzdHlsZV0pe1xuICAgICAgICAgICAgb3V0ID0gY29sb3JzW3RoZW1lW3N0eWxlXVtpXV0ob3V0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG91dDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29sb3JzW3RoZW1lW3N0eWxlXV0oc3RyKTtcbiAgICAgIH07XG4gICAgfSkoc3R5bGUpXG4gIH1cbn1cblxuY29sb3JzLnNldFRoZW1lID0gZnVuY3Rpb24gKHRoZW1lKSB7XG4gIGlmICh0eXBlb2YgdGhlbWUgPT09ICdzdHJpbmcnKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbG9ycy50aGVtZXNbdGhlbWVdID0gcmVxdWlyZSh0aGVtZSk7XG4gICAgICBhcHBseVRoZW1lKGNvbG9ycy50aGVtZXNbdGhlbWVdKTtcbiAgICAgIHJldHVybiBjb2xvcnMudGhlbWVzW3RoZW1lXTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICByZXR1cm4gZXJyO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBhcHBseVRoZW1lKHRoZW1lKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gaW5pdCgpIHtcbiAgdmFyIHJldCA9IHt9O1xuICBPYmplY3Qua2V5cyhzdHlsZXMpLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICByZXRbbmFtZV0gPSB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGJ1aWxkKFtuYW1lXSk7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG4gIHJldHVybiByZXQ7XG59XG5cbnZhciBzZXF1ZW5jZXIgPSBmdW5jdGlvbiBzZXF1ZW5jZXIgKG1hcCwgc3RyKSB7XG4gIHZhciBleHBsb2RlZCA9IHN0ci5zcGxpdChcIlwiKSwgaSA9IDA7XG4gIGV4cGxvZGVkID0gZXhwbG9kZWQubWFwKG1hcCk7XG4gIHJldHVybiBleHBsb2RlZC5qb2luKFwiXCIpO1xufTtcblxuLy8gY3VzdG9tIGZvcm1hdHRlciBtZXRob2RzXG5jb2xvcnMudHJhcCA9IHJlcXVpcmUoJy4vY3VzdG9tL3RyYXAnKTtcbmNvbG9ycy56YWxnbyA9IHJlcXVpcmUoJy4vY3VzdG9tL3phbGdvJyk7XG5cbi8vIG1hcHNcbmNvbG9ycy5tYXBzID0ge307XG5jb2xvcnMubWFwcy5hbWVyaWNhID0gcmVxdWlyZSgnLi9tYXBzL2FtZXJpY2EnKTtcbmNvbG9ycy5tYXBzLnplYnJhID0gcmVxdWlyZSgnLi9tYXBzL3plYnJhJyk7XG5jb2xvcnMubWFwcy5yYWluYm93ID0gcmVxdWlyZSgnLi9tYXBzL3JhaW5ib3cnKTtcbmNvbG9ycy5tYXBzLnJhbmRvbSA9IHJlcXVpcmUoJy4vbWFwcy9yYW5kb20nKVxuXG5mb3IgKHZhciBtYXAgaW4gY29sb3JzLm1hcHMpIHtcbiAgKGZ1bmN0aW9uKG1hcCl7XG4gICAgY29sb3JzW21hcF0gPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICByZXR1cm4gc2VxdWVuY2VyKGNvbG9ycy5tYXBzW21hcF0sIHN0cik7XG4gICAgfVxuICB9KShtYXApXG59XG5cbmRlZmluZVByb3BzKGNvbG9ycywgaW5pdCgpKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY29sb3JzL2xpYi9jb2xvcnMuanNcbi8vIG1vZHVsZSBpZCA9IDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRpZiAodmFsdWUgPT0gbnVsbCkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB1c2UgbnVsbCBvciB1bmRlZmluZWRcIik7XG5cdHJldHVybiB2YWx1ZTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vZXM1LWV4dC9vYmplY3QvdmFsaWQtdmFsdWUuanNcbi8vIG1vZHVsZSBpZCA9IDVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYXNzaWduICAgICAgICA9IHJlcXVpcmUoJ2VzNS1leHQvb2JqZWN0L2Fzc2lnbicpXG4gICwgbm9ybWFsaXplT3B0cyA9IHJlcXVpcmUoJ2VzNS1leHQvb2JqZWN0L25vcm1hbGl6ZS1vcHRpb25zJylcbiAgLCBpc0NhbGxhYmxlICAgID0gcmVxdWlyZSgnZXM1LWV4dC9vYmplY3QvaXMtY2FsbGFibGUnKVxuICAsIGNvbnRhaW5zICAgICAgPSByZXF1aXJlKCdlczUtZXh0L3N0cmluZy8jL2NvbnRhaW5zJylcblxuICAsIGQ7XG5cbmQgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChkc2NyLCB2YWx1ZS8qLCBvcHRpb25zKi8pIHtcblx0dmFyIGMsIGUsIHcsIG9wdGlvbnMsIGRlc2M7XG5cdGlmICgoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHx8ICh0eXBlb2YgZHNjciAhPT0gJ3N0cmluZycpKSB7XG5cdFx0b3B0aW9ucyA9IHZhbHVlO1xuXHRcdHZhbHVlID0gZHNjcjtcblx0XHRkc2NyID0gbnVsbDtcblx0fSBlbHNlIHtcblx0XHRvcHRpb25zID0gYXJndW1lbnRzWzJdO1xuXHR9XG5cdGlmIChkc2NyID09IG51bGwpIHtcblx0XHRjID0gdyA9IHRydWU7XG5cdFx0ZSA9IGZhbHNlO1xuXHR9IGVsc2Uge1xuXHRcdGMgPSBjb250YWlucy5jYWxsKGRzY3IsICdjJyk7XG5cdFx0ZSA9IGNvbnRhaW5zLmNhbGwoZHNjciwgJ2UnKTtcblx0XHR3ID0gY29udGFpbnMuY2FsbChkc2NyLCAndycpO1xuXHR9XG5cblx0ZGVzYyA9IHsgdmFsdWU6IHZhbHVlLCBjb25maWd1cmFibGU6IGMsIGVudW1lcmFibGU6IGUsIHdyaXRhYmxlOiB3IH07XG5cdHJldHVybiAhb3B0aW9ucyA/IGRlc2MgOiBhc3NpZ24obm9ybWFsaXplT3B0cyhvcHRpb25zKSwgZGVzYyk7XG59O1xuXG5kLmdzID0gZnVuY3Rpb24gKGRzY3IsIGdldCwgc2V0LyosIG9wdGlvbnMqLykge1xuXHR2YXIgYywgZSwgb3B0aW9ucywgZGVzYztcblx0aWYgKHR5cGVvZiBkc2NyICE9PSAnc3RyaW5nJykge1xuXHRcdG9wdGlvbnMgPSBzZXQ7XG5cdFx0c2V0ID0gZ2V0O1xuXHRcdGdldCA9IGRzY3I7XG5cdFx0ZHNjciA9IG51bGw7XG5cdH0gZWxzZSB7XG5cdFx0b3B0aW9ucyA9IGFyZ3VtZW50c1szXTtcblx0fVxuXHRpZiAoZ2V0ID09IG51bGwpIHtcblx0XHRnZXQgPSB1bmRlZmluZWQ7XG5cdH0gZWxzZSBpZiAoIWlzQ2FsbGFibGUoZ2V0KSkge1xuXHRcdG9wdGlvbnMgPSBnZXQ7XG5cdFx0Z2V0ID0gc2V0ID0gdW5kZWZpbmVkO1xuXHR9IGVsc2UgaWYgKHNldCA9PSBudWxsKSB7XG5cdFx0c2V0ID0gdW5kZWZpbmVkO1xuXHR9IGVsc2UgaWYgKCFpc0NhbGxhYmxlKHNldCkpIHtcblx0XHRvcHRpb25zID0gc2V0O1xuXHRcdHNldCA9IHVuZGVmaW5lZDtcblx0fVxuXHRpZiAoZHNjciA9PSBudWxsKSB7XG5cdFx0YyA9IHRydWU7XG5cdFx0ZSA9IGZhbHNlO1xuXHR9IGVsc2Uge1xuXHRcdGMgPSBjb250YWlucy5jYWxsKGRzY3IsICdjJyk7XG5cdFx0ZSA9IGNvbnRhaW5zLmNhbGwoZHNjciwgJ2UnKTtcblx0fVxuXG5cdGRlc2MgPSB7IGdldDogZ2V0LCBzZXQ6IHNldCwgY29uZmlndXJhYmxlOiBjLCBlbnVtZXJhYmxlOiBlIH07XG5cdHJldHVybiAhb3B0aW9ucyA/IGRlc2MgOiBhc3NpZ24obm9ybWFsaXplT3B0cyhvcHRpb25zKSwgZGVzYyk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2QvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2l0ZXJhdGUnKSgnZm9yRWFjaCcpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2VzNS1leHQvb2JqZWN0L2Zvci1lYWNoLmpzXG4vLyBtb2R1bGUgaWQgPSA3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxudmFyIHRvUG9zSW50ID0gcmVxdWlyZSgnLi4vLi4vbnVtYmVyL3RvLXBvcy1pbnRlZ2VyJylcbiAgLCB2YWx1ZSAgICA9IHJlcXVpcmUoJy4uLy4uL29iamVjdC92YWxpZC12YWx1ZScpXG5cbiAgLCBpbmRleE9mID0gQXJyYXkucHJvdG90eXBlLmluZGV4T2ZcbiAgLCBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHlcbiAgLCBhYnMgPSBNYXRoLmFicywgZmxvb3IgPSBNYXRoLmZsb29yO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChzZWFyY2hFbGVtZW50LyosIGZyb21JbmRleCovKSB7XG5cdHZhciBpLCBsLCBmcm9tSW5kZXgsIHZhbDtcblx0aWYgKHNlYXJjaEVsZW1lbnQgPT09IHNlYXJjaEVsZW1lbnQpIHsgLy9qc2xpbnQ6IGlnbm9yZVxuXHRcdHJldHVybiBpbmRleE9mLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdH1cblxuXHRsID0gdG9Qb3NJbnQodmFsdWUodGhpcykubGVuZ3RoKTtcblx0ZnJvbUluZGV4ID0gYXJndW1lbnRzWzFdO1xuXHRpZiAoaXNOYU4oZnJvbUluZGV4KSkgZnJvbUluZGV4ID0gMDtcblx0ZWxzZSBpZiAoZnJvbUluZGV4ID49IDApIGZyb21JbmRleCA9IGZsb29yKGZyb21JbmRleCk7XG5cdGVsc2UgZnJvbUluZGV4ID0gdG9Qb3NJbnQodGhpcy5sZW5ndGgpIC0gZmxvb3IoYWJzKGZyb21JbmRleCkpO1xuXG5cdGZvciAoaSA9IGZyb21JbmRleDsgaSA8IGw7ICsraSkge1xuXHRcdGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMsIGkpKSB7XG5cdFx0XHR2YWwgPSB0aGlzW2ldO1xuXHRcdFx0aWYgKHZhbCAhPT0gdmFsKSByZXR1cm4gaTsgLy9qc2xpbnQ6IGlnbm9yZVxuXHRcdH1cblx0fVxuXHRyZXR1cm4gLTE7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2VzNS1leHQvYXJyYXkvIy9lLWluZGV4LW9mLmpzXG4vLyBtb2R1bGUgaWQgPSA4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2lzLWltcGxlbWVudGVkJykoKVxuXHQ/IEFycmF5LmZyb21cblx0OiByZXF1aXJlKCcuL3NoaW0nKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9lczUtZXh0L2FycmF5L2Zyb20vaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgY2FsbGFibGUsIGJ5T2JzZXJ2ZXI7XG5cbmNhbGxhYmxlID0gZnVuY3Rpb24gKGZuKSB7XG5cdGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHRocm93IG5ldyBUeXBlRXJyb3IoZm4gKyBcIiBpcyBub3QgYSBmdW5jdGlvblwiKTtcblx0cmV0dXJuIGZuO1xufTtcblxuYnlPYnNlcnZlciA9IGZ1bmN0aW9uIChPYnNlcnZlcikge1xuXHR2YXIgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKSwgcXVldWUsIGN1cnJlbnRRdWV1ZSwgaSA9IDA7XG5cdG5ldyBPYnNlcnZlcihmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIGNhbGxiYWNrO1xuXHRcdGlmICghcXVldWUpIHtcblx0XHRcdGlmICghY3VycmVudFF1ZXVlKSByZXR1cm47XG5cdFx0XHRxdWV1ZSA9IGN1cnJlbnRRdWV1ZTtcblx0XHR9IGVsc2UgaWYgKGN1cnJlbnRRdWV1ZSkge1xuXHRcdFx0cXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcblx0XHR9XG5cdFx0Y3VycmVudFF1ZXVlID0gcXVldWU7XG5cdFx0cXVldWUgPSBudWxsO1xuXHRcdGlmICh0eXBlb2YgY3VycmVudFF1ZXVlID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRjYWxsYmFjayA9IGN1cnJlbnRRdWV1ZTtcblx0XHRcdGN1cnJlbnRRdWV1ZSA9IG51bGw7XG5cdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRub2RlLmRhdGEgPSAoaSA9ICsraSAlIDIpOyAvLyBJbnZva2Ugb3RoZXIgYmF0Y2gsIHRvIGhhbmRsZSBsZWZ0b3ZlciBjYWxsYmFja3MgaW4gY2FzZSBvZiBjcmFzaFxuXHRcdHdoaWxlIChjdXJyZW50UXVldWUpIHtcblx0XHRcdGNhbGxiYWNrID0gY3VycmVudFF1ZXVlLnNoaWZ0KCk7XG5cdFx0XHRpZiAoIWN1cnJlbnRRdWV1ZS5sZW5ndGgpIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG5cdFx0XHRjYWxsYmFjaygpO1xuXHRcdH1cblx0fSkub2JzZXJ2ZShub2RlLCB7IGNoYXJhY3RlckRhdGE6IHRydWUgfSk7XG5cdHJldHVybiBmdW5jdGlvbiAoZm4pIHtcblx0XHRjYWxsYWJsZShmbik7XG5cdFx0aWYgKHF1ZXVlKSB7XG5cdFx0XHRpZiAodHlwZW9mIHF1ZXVlID09PSAnZnVuY3Rpb24nKSBxdWV1ZSA9IFtxdWV1ZSwgZm5dO1xuXHRcdFx0ZWxzZSBxdWV1ZS5wdXNoKGZuKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0cXVldWUgPSBmbjtcblx0XHRub2RlLmRhdGEgPSAoaSA9ICsraSAlIDIpO1xuXHR9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24gKCkge1xuXHQvLyBOb2RlLmpzXG5cdGlmICgodHlwZW9mIHByb2Nlc3MgPT09ICdvYmplY3QnKSAmJiBwcm9jZXNzICYmICh0eXBlb2YgcHJvY2Vzcy5uZXh0VGljayA9PT0gJ2Z1bmN0aW9uJykpIHtcblx0XHRyZXR1cm4gcHJvY2Vzcy5uZXh0VGljaztcblx0fVxuXG5cdC8vIE11dGF0aW9uT2JzZXJ2ZXJcblx0aWYgKCh0eXBlb2YgZG9jdW1lbnQgPT09ICdvYmplY3QnKSAmJiBkb2N1bWVudCkge1xuXHRcdGlmICh0eXBlb2YgTXV0YXRpb25PYnNlcnZlciA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuIGJ5T2JzZXJ2ZXIoTXV0YXRpb25PYnNlcnZlcik7XG5cdFx0aWYgKHR5cGVvZiBXZWJLaXRNdXRhdGlvbk9ic2VydmVyID09PSAnZnVuY3Rpb24nKSByZXR1cm4gYnlPYnNlcnZlcihXZWJLaXRNdXRhdGlvbk9ic2VydmVyKTtcblx0fVxuXG5cdC8vIFczQyBEcmFmdFxuXHQvLyBodHRwOi8vZHZjcy53My5vcmcvaGcvd2VicGVyZi9yYXctZmlsZS90aXAvc3BlY3Mvc2V0SW1tZWRpYXRlL092ZXJ2aWV3Lmh0bWxcblx0aWYgKHR5cGVvZiBzZXRJbW1lZGlhdGUgPT09ICdmdW5jdGlvbicpIHtcblx0XHRyZXR1cm4gZnVuY3Rpb24gKGNiKSB7IHNldEltbWVkaWF0ZShjYWxsYWJsZShjYikpOyB9O1xuXHR9XG5cblx0Ly8gV2lkZSBhdmFpbGFibGUgc3RhbmRhcmRcblx0aWYgKCh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykgfHwgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnb2JqZWN0JykpIHtcblx0XHRyZXR1cm4gZnVuY3Rpb24gKGNiKSB7IHNldFRpbWVvdXQoY2FsbGFibGUoY2IpLCAwKTsgfTtcblx0fVxuXG5cdHJldHVybiBudWxsO1xufSgpKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9uZXh0LXRpY2svaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDEwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBnO1xyXG5cclxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcclxuZyA9IChmdW5jdGlvbigpIHtcclxuXHRyZXR1cm4gdGhpcztcclxufSkoKTtcclxuXHJcbnRyeSB7XHJcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXHJcblx0ZyA9IGcgfHwgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpIHx8ICgxLGV2YWwpKFwidGhpc1wiKTtcclxufSBjYXRjaChlKSB7XHJcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcclxuXHRpZih0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKVxyXG5cdFx0ZyA9IHdpbmRvdztcclxufVxyXG5cclxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxyXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xyXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGc7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vICh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qc1xuLy8gbW9kdWxlIGlkID0gMTFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiY29uc3QgcGtnID0gcmVxdWlyZSgnLi4vcGFja2FnZS5qc29uJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJ2RlYnVnLWZhYnVsb3VzJykuc3Bhd25hYmxlKHBrZy5uYW1lKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9kZWJ1Zy5qcyIsImZ1bmN0aW9uIHdlYnBhY2tFbXB0eUNvbnRleHQocmVxKSB7XG5cdHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIgKyByZXEgKyBcIicuXCIpO1xufVxud2VicGFja0VtcHR5Q29udGV4dC5rZXlzID0gZnVuY3Rpb24oKSB7IHJldHVybiBbXTsgfTtcbndlYnBhY2tFbXB0eUNvbnRleHQucmVzb2x2ZSA9IHdlYnBhY2tFbXB0eUNvbnRleHQ7XG5tb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tFbXB0eUNvbnRleHQ7XG53ZWJwYWNrRW1wdHlDb250ZXh0LmlkID0gMTM7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvbG9ycy9saWJcbi8vIG1vZHVsZSBpZCA9IDEzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qXG5UaGUgTUlUIExpY2Vuc2UgKE1JVClcblxuQ29weXJpZ2h0IChjKSBTaW5kcmUgU29yaHVzIDxzaW5kcmVzb3JodXNAZ21haWwuY29tPiAoc2luZHJlc29yaHVzLmNvbSlcblxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxub2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xudG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG5mdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG5cblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG5BVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG5MSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuVEhFIFNPRlRXQVJFLlxuXG4qL1xuXG52YXIgc3R5bGVzID0ge307XG5tb2R1bGVbJ2V4cG9ydHMnXSA9IHN0eWxlcztcblxudmFyIGNvZGVzID0ge1xuICByZXNldDogWzAsIDBdLFxuXG4gIGJvbGQ6IFsxLCAyMl0sXG4gIGRpbTogWzIsIDIyXSxcbiAgaXRhbGljOiBbMywgMjNdLFxuICB1bmRlcmxpbmU6IFs0LCAyNF0sXG4gIGludmVyc2U6IFs3LCAyN10sXG4gIGhpZGRlbjogWzgsIDI4XSxcbiAgc3RyaWtldGhyb3VnaDogWzksIDI5XSxcblxuICBibGFjazogWzMwLCAzOV0sXG4gIHJlZDogWzMxLCAzOV0sXG4gIGdyZWVuOiBbMzIsIDM5XSxcbiAgeWVsbG93OiBbMzMsIDM5XSxcbiAgYmx1ZTogWzM0LCAzOV0sXG4gIG1hZ2VudGE6IFszNSwgMzldLFxuICBjeWFuOiBbMzYsIDM5XSxcbiAgd2hpdGU6IFszNywgMzldLFxuICBncmF5OiBbOTAsIDM5XSxcbiAgZ3JleTogWzkwLCAzOV0sXG5cbiAgYmdCbGFjazogWzQwLCA0OV0sXG4gIGJnUmVkOiBbNDEsIDQ5XSxcbiAgYmdHcmVlbjogWzQyLCA0OV0sXG4gIGJnWWVsbG93OiBbNDMsIDQ5XSxcbiAgYmdCbHVlOiBbNDQsIDQ5XSxcbiAgYmdNYWdlbnRhOiBbNDUsIDQ5XSxcbiAgYmdDeWFuOiBbNDYsIDQ5XSxcbiAgYmdXaGl0ZTogWzQ3LCA0OV0sXG5cbiAgLy8gbGVnYWN5IHN0eWxlcyBmb3IgY29sb3JzIHByZSB2MS4wLjBcbiAgYmxhY2tCRzogWzQwLCA0OV0sXG4gIHJlZEJHOiBbNDEsIDQ5XSxcbiAgZ3JlZW5CRzogWzQyLCA0OV0sXG4gIHllbGxvd0JHOiBbNDMsIDQ5XSxcbiAgYmx1ZUJHOiBbNDQsIDQ5XSxcbiAgbWFnZW50YUJHOiBbNDUsIDQ5XSxcbiAgY3lhbkJHOiBbNDYsIDQ5XSxcbiAgd2hpdGVCRzogWzQ3LCA0OV1cblxufTtcblxuT2JqZWN0LmtleXMoY29kZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICB2YXIgdmFsID0gY29kZXNba2V5XTtcbiAgdmFyIHN0eWxlID0gc3R5bGVzW2tleV0gPSBbXTtcbiAgc3R5bGUub3BlbiA9ICdcXHUwMDFiWycgKyB2YWxbMF0gKyAnbSc7XG4gIHN0eWxlLmNsb3NlID0gJ1xcdTAwMWJbJyArIHZhbFsxXSArICdtJztcbn0pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb2xvcnMvbGliL3N0eWxlcy5qc1xuLy8gbW9kdWxlIGlkID0gMTRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBkZWJ1Z0ZhY3RvcnkoZGVidWdBcGksIG9wdGlvbnMpIHtcbiAgdmFyIHdyYXBMYXp5RXZhbCA9IHJlcXVpcmUoJy4vbGF6eS1ldmFsJyk7XG4gIHZhciBmb3JtYXRBcmdzID0gcmVxdWlyZSgnLi9mb3JtYXRBcmdzJyk7XG5cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge1xuICAgIGZvcm1hdEFyZ3M6IHRydWVcbiAgfTtcblxuICBkZWJ1Z0FwaSA9IGRlYnVnQXBpID8gZGVidWdBcGkgOiByZXF1aXJlKCdkZWJ1ZycpO1xuICBkZWJ1Z0FwaSA9IHdyYXBMYXp5RXZhbChkZWJ1Z0FwaSk7XG4gIGRlYnVnQXBpID0gZm9ybWF0QXJncyh7XG4gICAgZGVidWdBcGk6IGRlYnVnQXBpLFxuICAgIG9wdGlvbnM6IG9wdGlvbnNcbiAgfSk7XG5cbiAgcmV0dXJuIGRlYnVnQXBpO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2RlYnVnLWZhYnVsb3VzL3NyYy9kZWJ1Z0ZhYkZhY3RvcnkuanNcbi8vIG1vZHVsZSBpZCA9IDE1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qKlxuICogVGhpcyBpcyB0aGUgd2ViIGJyb3dzZXIgaW1wbGVtZW50YXRpb24gb2YgYGRlYnVnKClgLlxuICpcbiAqIEV4cG9zZSBgZGVidWcoKWAgYXMgdGhlIG1vZHVsZS5cbiAqL1xuXG5leHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2RlYnVnJyk7XG5leHBvcnRzLmxvZyA9IGxvZztcbmV4cG9ydHMuZm9ybWF0QXJncyA9IGZvcm1hdEFyZ3M7XG5leHBvcnRzLnNhdmUgPSBzYXZlO1xuZXhwb3J0cy5sb2FkID0gbG9hZDtcbmV4cG9ydHMudXNlQ29sb3JzID0gdXNlQ29sb3JzO1xuZXhwb3J0cy5zdG9yYWdlID0gJ3VuZGVmaW5lZCcgIT0gdHlwZW9mIGNocm9tZVxuICAgICAgICAgICAgICAgJiYgJ3VuZGVmaW5lZCcgIT0gdHlwZW9mIGNocm9tZS5zdG9yYWdlXG4gICAgICAgICAgICAgICAgICA/IGNocm9tZS5zdG9yYWdlLmxvY2FsXG4gICAgICAgICAgICAgICAgICA6IGxvY2Fsc3RvcmFnZSgpO1xuXG4vKipcbiAqIENvbG9ycy5cbiAqL1xuXG5leHBvcnRzLmNvbG9ycyA9IFtcbiAgJ2xpZ2h0c2VhZ3JlZW4nLFxuICAnZm9yZXN0Z3JlZW4nLFxuICAnZ29sZGVucm9kJyxcbiAgJ2RvZGdlcmJsdWUnLFxuICAnZGFya29yY2hpZCcsXG4gICdjcmltc29uJ1xuXTtcblxuLyoqXG4gKiBDdXJyZW50bHkgb25seSBXZWJLaXQtYmFzZWQgV2ViIEluc3BlY3RvcnMsIEZpcmVmb3ggPj0gdjMxLFxuICogYW5kIHRoZSBGaXJlYnVnIGV4dGVuc2lvbiAoYW55IEZpcmVmb3ggdmVyc2lvbikgYXJlIGtub3duXG4gKiB0byBzdXBwb3J0IFwiJWNcIiBDU1MgY3VzdG9taXphdGlvbnMuXG4gKlxuICogVE9ETzogYWRkIGEgYGxvY2FsU3RvcmFnZWAgdmFyaWFibGUgdG8gZXhwbGljaXRseSBlbmFibGUvZGlzYWJsZSBjb2xvcnNcbiAqL1xuXG5mdW5jdGlvbiB1c2VDb2xvcnMoKSB7XG4gIC8vIE5COiBJbiBhbiBFbGVjdHJvbiBwcmVsb2FkIHNjcmlwdCwgZG9jdW1lbnQgd2lsbCBiZSBkZWZpbmVkIGJ1dCBub3QgZnVsbHlcbiAgLy8gaW5pdGlhbGl6ZWQuIFNpbmNlIHdlIGtub3cgd2UncmUgaW4gQ2hyb21lLCB3ZSdsbCBqdXN0IGRldGVjdCB0aGlzIGNhc2VcbiAgLy8gZXhwbGljaXRseVxuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93ICYmIHR5cGVvZiB3aW5kb3cucHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnByb2Nlc3MudHlwZSA9PT0gJ3JlbmRlcmVyJykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gaXMgd2Via2l0PyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNjQ1OTYwNi8zNzY3NzNcbiAgLy8gZG9jdW1lbnQgaXMgdW5kZWZpbmVkIGluIHJlYWN0LW5hdGl2ZTogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0LW5hdGl2ZS9wdWxsLzE2MzJcbiAgcmV0dXJuICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIGRvY3VtZW50ICYmICdXZWJraXRBcHBlYXJhbmNlJyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUpIHx8XG4gICAgLy8gaXMgZmlyZWJ1Zz8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMzk4MTIwLzM3Njc3M1xuICAgICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cgJiYgd2luZG93LmNvbnNvbGUgJiYgKGNvbnNvbGUuZmlyZWJ1ZyB8fCAoY29uc29sZS5leGNlcHRpb24gJiYgY29uc29sZS50YWJsZSkpKSB8fFxuICAgIC8vIGlzIGZpcmVmb3ggPj0gdjMxP1xuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvVG9vbHMvV2ViX0NvbnNvbGUjU3R5bGluZ19tZXNzYWdlc1xuICAgICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2ZpcmVmb3hcXC8oXFxkKykvKSAmJiBwYXJzZUludChSZWdFeHAuJDEsIDEwKSA+PSAzMSkgfHxcbiAgICAvLyBkb3VibGUgY2hlY2sgd2Via2l0IGluIHVzZXJBZ2VudCBqdXN0IGluIGNhc2Ugd2UgYXJlIGluIGEgd29ya2VyXG4gICAgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvciAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvYXBwbGV3ZWJraXRcXC8oXFxkKykvKSk7XG59XG5cbi8qKlxuICogTWFwICVqIHRvIGBKU09OLnN0cmluZ2lmeSgpYCwgc2luY2Ugbm8gV2ViIEluc3BlY3RvcnMgZG8gdGhhdCBieSBkZWZhdWx0LlxuICovXG5cbmV4cG9ydHMuZm9ybWF0dGVycy5qID0gZnVuY3Rpb24odikge1xuICB0cnkge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh2KTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmV0dXJuICdbVW5leHBlY3RlZEpTT05QYXJzZUVycm9yXTogJyArIGVyci5tZXNzYWdlO1xuICB9XG59O1xuXG5cbi8qKlxuICogQ29sb3JpemUgbG9nIGFyZ3VtZW50cyBpZiBlbmFibGVkLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gZm9ybWF0QXJncyhhcmdzKSB7XG4gIHZhciB1c2VDb2xvcnMgPSB0aGlzLnVzZUNvbG9ycztcblxuICBhcmdzWzBdID0gKHVzZUNvbG9ycyA/ICclYycgOiAnJylcbiAgICArIHRoaXMubmFtZXNwYWNlXG4gICAgKyAodXNlQ29sb3JzID8gJyAlYycgOiAnICcpXG4gICAgKyBhcmdzWzBdXG4gICAgKyAodXNlQ29sb3JzID8gJyVjICcgOiAnICcpXG4gICAgKyAnKycgKyBleHBvcnRzLmh1bWFuaXplKHRoaXMuZGlmZik7XG5cbiAgaWYgKCF1c2VDb2xvcnMpIHJldHVybjtcblxuICB2YXIgYyA9ICdjb2xvcjogJyArIHRoaXMuY29sb3I7XG4gIGFyZ3Muc3BsaWNlKDEsIDAsIGMsICdjb2xvcjogaW5oZXJpdCcpXG5cbiAgLy8gdGhlIGZpbmFsIFwiJWNcIiBpcyBzb21ld2hhdCB0cmlja3ksIGJlY2F1c2UgdGhlcmUgY291bGQgYmUgb3RoZXJcbiAgLy8gYXJndW1lbnRzIHBhc3NlZCBlaXRoZXIgYmVmb3JlIG9yIGFmdGVyIHRoZSAlYywgc28gd2UgbmVlZCB0b1xuICAvLyBmaWd1cmUgb3V0IHRoZSBjb3JyZWN0IGluZGV4IHRvIGluc2VydCB0aGUgQ1NTIGludG9cbiAgdmFyIGluZGV4ID0gMDtcbiAgdmFyIGxhc3RDID0gMDtcbiAgYXJnc1swXS5yZXBsYWNlKC8lW2EtekEtWiVdL2csIGZ1bmN0aW9uKG1hdGNoKSB7XG4gICAgaWYgKCclJScgPT09IG1hdGNoKSByZXR1cm47XG4gICAgaW5kZXgrKztcbiAgICBpZiAoJyVjJyA9PT0gbWF0Y2gpIHtcbiAgICAgIC8vIHdlIG9ubHkgYXJlIGludGVyZXN0ZWQgaW4gdGhlICpsYXN0KiAlY1xuICAgICAgLy8gKHRoZSB1c2VyIG1heSBoYXZlIHByb3ZpZGVkIHRoZWlyIG93bilcbiAgICAgIGxhc3RDID0gaW5kZXg7XG4gICAgfVxuICB9KTtcblxuICBhcmdzLnNwbGljZShsYXN0QywgMCwgYyk7XG59XG5cbi8qKlxuICogSW52b2tlcyBgY29uc29sZS5sb2coKWAgd2hlbiBhdmFpbGFibGUuXG4gKiBOby1vcCB3aGVuIGBjb25zb2xlLmxvZ2AgaXMgbm90IGEgXCJmdW5jdGlvblwiLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gbG9nKCkge1xuICAvLyB0aGlzIGhhY2tlcnkgaXMgcmVxdWlyZWQgZm9yIElFOC85LCB3aGVyZVxuICAvLyB0aGUgYGNvbnNvbGUubG9nYCBmdW5jdGlvbiBkb2Vzbid0IGhhdmUgJ2FwcGx5J1xuICByZXR1cm4gJ29iamVjdCcgPT09IHR5cGVvZiBjb25zb2xlXG4gICAgJiYgY29uc29sZS5sb2dcbiAgICAmJiBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbChjb25zb2xlLmxvZywgY29uc29sZSwgYXJndW1lbnRzKTtcbn1cblxuLyoqXG4gKiBTYXZlIGBuYW1lc3BhY2VzYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlc1xuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gc2F2ZShuYW1lc3BhY2VzKSB7XG4gIHRyeSB7XG4gICAgaWYgKG51bGwgPT0gbmFtZXNwYWNlcykge1xuICAgICAgZXhwb3J0cy5zdG9yYWdlLnJlbW92ZUl0ZW0oJ2RlYnVnJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4cG9ydHMuc3RvcmFnZS5kZWJ1ZyA9IG5hbWVzcGFjZXM7XG4gICAgfVxuICB9IGNhdGNoKGUpIHt9XG59XG5cbi8qKlxuICogTG9hZCBgbmFtZXNwYWNlc2AuXG4gKlxuICogQHJldHVybiB7U3RyaW5nfSByZXR1cm5zIHRoZSBwcmV2aW91c2x5IHBlcnNpc3RlZCBkZWJ1ZyBtb2Rlc1xuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gbG9hZCgpIHtcbiAgdmFyIHI7XG4gIHRyeSB7XG4gICAgciA9IGV4cG9ydHMuc3RvcmFnZS5kZWJ1ZztcbiAgfSBjYXRjaChlKSB7fVxuXG4gIC8vIElmIGRlYnVnIGlzbid0IHNldCBpbiBMUywgYW5kIHdlJ3JlIGluIEVsZWN0cm9uLCB0cnkgdG8gbG9hZCAkREVCVUdcbiAgaWYgKCFyICYmIHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiAnZW52JyBpbiBwcm9jZXNzKSB7XG4gICAgciA9IHByb2Nlc3MuZW52LkRFQlVHO1xuICB9XG5cbiAgcmV0dXJuIHI7XG59XG5cbi8qKlxuICogRW5hYmxlIG5hbWVzcGFjZXMgbGlzdGVkIGluIGBsb2NhbFN0b3JhZ2UuZGVidWdgIGluaXRpYWxseS5cbiAqL1xuXG5leHBvcnRzLmVuYWJsZShsb2FkKCkpO1xuXG4vKipcbiAqIExvY2Fsc3RvcmFnZSBhdHRlbXB0cyB0byByZXR1cm4gdGhlIGxvY2Fsc3RvcmFnZS5cbiAqXG4gKiBUaGlzIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHNhZmFyaSB0aHJvd3NcbiAqIHdoZW4gYSB1c2VyIGRpc2FibGVzIGNvb2tpZXMvbG9jYWxzdG9yYWdlXG4gKiBhbmQgeW91IGF0dGVtcHQgdG8gYWNjZXNzIGl0LlxuICpcbiAqIEByZXR1cm4ge0xvY2FsU3RvcmFnZX1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGxvY2Fsc3RvcmFnZSgpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gd2luZG93LmxvY2FsU3RvcmFnZTtcbiAgfSBjYXRjaCAoZSkge31cbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9kZWJ1Zy9zcmMvYnJvd3Nlci5qc1xuLy8gbW9kdWxlIGlkID0gMTZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdG9Qb3NJbnQgPSByZXF1aXJlKCcuLi9udW1iZXIvdG8tcG9zLWludGVnZXInKVxuXG4gICwgdGVzdCA9IGZ1bmN0aW9uIChhLCBiKSB7fSwgZGVzYywgZGVmaW5lUHJvcGVydHlcbiAgLCBnZW5lcmF0ZSwgbWl4aW47XG5cbnRyeSB7XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0ZXN0LCAnbGVuZ3RoJywgeyBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiBmYWxzZSxcblx0XHRlbnVtZXJhYmxlOiBmYWxzZSwgdmFsdWU6IDEgfSk7XG59IGNhdGNoIChpZ25vcmUpIHt9XG5cbmlmICh0ZXN0Lmxlbmd0aCA9PT0gMSkge1xuXHQvLyBFUzZcblx0ZGVzYyA9IHsgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogZmFsc2UsIGVudW1lcmFibGU6IGZhbHNlIH07XG5cdGRlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChmbiwgbGVuZ3RoKSB7XG5cdFx0bGVuZ3RoID0gdG9Qb3NJbnQobGVuZ3RoKTtcblx0XHRpZiAoZm4ubGVuZ3RoID09PSBsZW5ndGgpIHJldHVybiBmbjtcblx0XHRkZXNjLnZhbHVlID0gbGVuZ3RoO1xuXHRcdHJldHVybiBkZWZpbmVQcm9wZXJ0eShmbiwgJ2xlbmd0aCcsIGRlc2MpO1xuXHR9O1xufSBlbHNlIHtcblx0bWl4aW4gPSByZXF1aXJlKCcuLi9vYmplY3QvbWl4aW4nKTtcblx0Z2VuZXJhdGUgPSAoZnVuY3Rpb24gKCkge1xuXHRcdHZhciBjYWNoZSA9IFtdO1xuXHRcdHJldHVybiBmdW5jdGlvbiAobCkge1xuXHRcdFx0dmFyIGFyZ3MsIGkgPSAwO1xuXHRcdFx0aWYgKGNhY2hlW2xdKSByZXR1cm4gY2FjaGVbbF07XG5cdFx0XHRhcmdzID0gW107XG5cdFx0XHR3aGlsZSAobC0tKSBhcmdzLnB1c2goJ2EnICsgKCsraSkudG9TdHJpbmcoMzYpKTtcblx0XHRcdHJldHVybiBuZXcgRnVuY3Rpb24oJ2ZuJywgJ3JldHVybiBmdW5jdGlvbiAoJyArIGFyZ3Muam9pbignLCAnKSArXG5cdFx0XHRcdCcpIHsgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH07Jyk7XG5cdFx0fTtcblx0fSgpKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoc3JjLCBsZW5ndGgpIHtcblx0XHR2YXIgdGFyZ2V0O1xuXHRcdGxlbmd0aCA9IHRvUG9zSW50KGxlbmd0aCk7XG5cdFx0aWYgKHNyYy5sZW5ndGggPT09IGxlbmd0aCkgcmV0dXJuIHNyYztcblx0XHR0YXJnZXQgPSBnZW5lcmF0ZShsZW5ndGgpKHNyYyk7XG5cdFx0dHJ5IHsgbWl4aW4odGFyZ2V0LCBzcmMpOyB9IGNhdGNoIChpZ25vcmUpIHt9XG5cdFx0cmV0dXJuIHRhcmdldDtcblx0fTtcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9lczUtZXh0L2Z1bmN0aW9uL19kZWZpbmUtbGVuZ3RoLmpzXG4vLyBtb2R1bGUgaWQgPSAxN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9pcy1pbXBsZW1lbnRlZCcpKClcblx0PyBPYmplY3QuYXNzaWduXG5cdDogcmVxdWlyZSgnLi9zaGltJyk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vZXM1LWV4dC9vYmplY3QvYXNzaWduL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAxOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbnZhciBjYWxsYWJsZSA9IHJlcXVpcmUoJy4vdmFsaWQtY2FsbGFibGUnKVxuICAsIGZvckVhY2ggID0gcmVxdWlyZSgnLi9mb3ItZWFjaCcpXG5cbiAgLCBjYWxsID0gRnVuY3Rpb24ucHJvdG90eXBlLmNhbGw7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9iaiwgY2IvKiwgdGhpc0FyZyovKSB7XG5cdHZhciBvID0ge30sIHRoaXNBcmcgPSBhcmd1bWVudHNbMl07XG5cdGNhbGxhYmxlKGNiKTtcblx0Zm9yRWFjaChvYmosIGZ1bmN0aW9uICh2YWx1ZSwga2V5LCBvYmosIGluZGV4KSB7XG5cdFx0b1trZXldID0gY2FsbC5jYWxsKGNiLCB0aGlzQXJnLCB2YWx1ZSwga2V5LCBvYmosIGluZGV4KTtcblx0fSk7XG5cdHJldHVybiBvO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9lczUtZXh0L29iamVjdC9tYXAuanNcbi8vIG1vZHVsZSBpZCA9IDE5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxudmFyIHZhbHVlID0gcmVxdWlyZSgnLi92YWxpZC12YWx1ZScpXG5cbiAgLCBkZWZpbmVQcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eVxuICAsIGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JcbiAgLCBnZXRPd25Qcm9wZXJ0eU5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXNcbiAgLCBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh0YXJnZXQsIHNvdXJjZSkge1xuXHR2YXIgZXJyb3IsIHNvdXJjZU9iamVjdCA9IE9iamVjdCh2YWx1ZShzb3VyY2UpKTtcblx0dGFyZ2V0ID0gT2JqZWN0KHZhbHVlKHRhcmdldCkpO1xuXHRnZXRPd25Qcm9wZXJ0eU5hbWVzKHNvdXJjZU9iamVjdCkuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuXHRcdHRyeSB7XG5cdFx0XHRkZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIG5hbWUsIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIG5hbWUpKTtcblx0XHR9IGNhdGNoIChlKSB7IGVycm9yID0gZTsgfVxuXHR9KTtcblx0aWYgKHR5cGVvZiBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09ICdmdW5jdGlvbicpIHtcblx0XHRnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlT2JqZWN0KS5mb3JFYWNoKGZ1bmN0aW9uIChzeW1ib2wpIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGRlZmluZVByb3BlcnR5KHRhcmdldCwgc3ltYm9sLCBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBzeW1ib2wpKTtcblx0XHRcdH0gY2F0Y2ggKGUpIHsgZXJyb3IgPSBlOyB9XG5cdFx0fSk7XG5cdH1cblx0aWYgKGVycm9yICE9PSB1bmRlZmluZWQpIHRocm93IGVycm9yO1xuXHRyZXR1cm4gdGFyZ2V0O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9lczUtZXh0L29iamVjdC9taXhpbi5qc1xuLy8gbW9kdWxlIGlkID0gMjBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgZm9yRWFjaCA9IEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLCBjcmVhdGUgPSBPYmplY3QuY3JlYXRlO1xuXG52YXIgcHJvY2VzcyA9IGZ1bmN0aW9uIChzcmMsIG9iaikge1xuXHR2YXIga2V5O1xuXHRmb3IgKGtleSBpbiBzcmMpIG9ialtrZXldID0gc3JjW2tleV07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvcHRpb25zLyosIOKApm9wdGlvbnMqLykge1xuXHR2YXIgcmVzdWx0ID0gY3JlYXRlKG51bGwpO1xuXHRmb3JFYWNoLmNhbGwoYXJndW1lbnRzLCBmdW5jdGlvbiAob3B0aW9ucykge1xuXHRcdGlmIChvcHRpb25zID09IG51bGwpIHJldHVybjtcblx0XHRwcm9jZXNzKE9iamVjdChvcHRpb25zKSwgcmVzdWx0KTtcblx0fSk7XG5cdHJldHVybiByZXN1bHQ7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2VzNS1leHQvb2JqZWN0L25vcm1hbGl6ZS1vcHRpb25zLmpzXG4vLyBtb2R1bGUgaWQgPSAyMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IGlzUHJvbWlzZTtcblxuZnVuY3Rpb24gaXNQcm9taXNlKG9iaikge1xuICByZXR1cm4gISFvYmogJiYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnIHx8IHR5cGVvZiBvYmogPT09ICdmdW5jdGlvbicpICYmIHR5cGVvZiBvYmoudGhlbiA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pcy1wcm9taXNlL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAyMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbnZhciB0b1Bvc0ludCA9IHJlcXVpcmUoJ2VzNS1leHQvbnVtYmVyL3RvLXBvcy1pbnRlZ2VyJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9wdHNMZW5ndGgsIGZuTGVuZ3RoLCBpc0FzeW5jKSB7XG5cdHZhciBsZW5ndGg7XG5cdGlmIChpc05hTihvcHRzTGVuZ3RoKSkge1xuXHRcdGxlbmd0aCA9IGZuTGVuZ3RoO1xuXHRcdGlmICghKGxlbmd0aCA+PSAwKSkgcmV0dXJuIDE7XG5cdFx0aWYgKGlzQXN5bmMgJiYgbGVuZ3RoKSByZXR1cm4gbGVuZ3RoIC0gMTtcblx0XHRyZXR1cm4gbGVuZ3RoO1xuXHR9XG5cdGlmIChvcHRzTGVuZ3RoID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlO1xuXHRyZXR1cm4gdG9Qb3NJbnQob3B0c0xlbmd0aCk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L21lbW9pemVlL2xpYi9yZXNvbHZlLWxlbmd0aC5qc1xuLy8gbW9kdWxlIGlkID0gMjNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2xvZ2dlckZhY3RvcnknKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9pbmRleC5qcyIsIndpbmRvdy5wcmVhY2hlciA9IHJlcXVpcmUoJy4vc3JjL2luZGV4LmpzJyk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9icm93c2VyLmpzIiwiY29uc3Qgc3RhY2tUcmFjZSA9IHJlcXVpcmUoJ3N0YWNrLXRyYWNlJyk7XG5jb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuXG5cbmxldCBnZXRGaWxlQW5kTGluZSA9IGZ1bmN0aW9uKHRyYWNlLCBpbmRleCkge1xuICBsZXQgZmlsZW5hbWU7XG4gIGxldCBmaWxlaW5mbyA9IHBhdGgucGFyc2UodHJhY2VbaW5kZXhdLmdldEZpbGVOYW1lKCkpO1xuICBpZiAoZmlsZWluZm8ubmFtZSA9PT0gJ2luZGV4Jykge1xuICAgIGZpbGVuYW1lID0gYCR7cGF0aC5iYXNlbmFtZShmaWxlaW5mby5kaXIpfS9pbmRleGA7XG4gIH0gZWxzZSB7XG4gICAgZmlsZW5hbWUgPSBmaWxlaW5mby5uYW1lO1xuICB9XG4gIHJldHVybiB7XG4gICAgZmlsZW5hbWUsXG4gICAgbGluZU51bWJlcjogdHJhY2VbaW5kZXhdLmdldExpbmVOdW1iZXIoKVxuICB9O1xufTtcblxubGV0IGRlY29yYXRlT3V0cHV0ID0gKGZ1bmMsIGJpbmRUaGlzKSA9PlxuICBmdW5jdGlvbiguLi5hcmdzKSB7XG4gICAgLy8gdGhpcyBnZXRzIGNvcnJlY3QgY29mZmVlIGxpbmUsIHdoZXJlIHN0YWNrVHJhY2UuZ2V0KCkgZG9lcyBub3RcbiAgICBsZXQgdHJhY2UgPSBzdGFja1RyYWNlLnBhcnNlKG5ldyBFcnJvcigpKTtcbiAgICBsZXQgaW5mbyA9IGdldEZpbGVBbmRMaW5lKHRyYWNlLCAxKTtcbiAgICBpZiAoaW5mby5maWxlbmFtZSA9PT0gJ2NvbG9yLXdyYXAvaW5kZXgnKSB7XG4gICAgICBpbmZvID0gZ2V0RmlsZUFuZExpbmUodHJhY2UsIDIpO1xuICAgIH1cbiAgICBsZXQgZGVjb3JhdG9yID0gYFske2luZm8uZmlsZW5hbWV9OiR7aW5mby5saW5lTnVtYmVyfV1gO1xuXG4gICAgYXJncy51bnNoaWZ0KGRlY29yYXRvcik7XG4gICAgLy8gdGhpcyBhbGxvd3MgcGFzc2luZyBhIGZ1bmN0aW9uIHRvIGJlIGV2YWx1YXRlZCBvbmx5IGlmIGxvZ2dpbmcgd2lsbCB0YWtlIHBsYWNlXG4gICAgaWYgKHR5cGVvZihhcmdzWzFdKSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgYXJnc1sxXSA9IGFyZ3NbMV0oKTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmMuYXBwbHkoYmluZFRoaXMsIGFyZ3MpO1xuICB9XG47XG5cbmxldCByZXNvbHZlT3V0cHV0ID0gKGZ1bmMsIGJpbmRUaGlzKSA9PlxuICBmdW5jdGlvbiguLi5hcmdzKSB7XG4gICAgLy8gdGhpcyBhbGxvd3MgcGFzc2luZyBhIGZ1bmN0aW9uIHRvIGJlIGV2YWx1YXRlZCBvbmx5IGlmIGxvZ2dpbmcgd2lsbCB0YWtlIHBsYWNlXG4gICAgaWYgKHR5cGVvZihhcmdzWzBdKSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgYXJnc1swXSA9IGFyZ3NbMF0oKTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmMuYXBwbHkoYmluZFRoaXMsIGFyZ3MpO1xuICB9XG47XG5cblxubW9kdWxlLmV4cG9ydHMgPSAge1xuICBnZXRGaWxlQW5kTGluZSxcbiAgZGVjb3JhdGVPdXRwdXQsXG4gIHJlc29sdmVPdXRwdXRcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvbG9nZ2VyLmludGVybmFscy5qcyIsImNvbnN0IG91ckRlYnVnID0gcmVxdWlyZSgnLi9kZWJ1ZycpLnNwYXduKCdsb2dnZXInKTtcbmNvbnN0IG5vb3AgPSAoZnVuY3Rpb24oKSB7fSk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oeyBsb2dnZXJUb1dyYXAsIGRlY29yTGV2ZWxzLCBkb0ZpbGVMaW5lLCBkZWJ1Z0FwaSwgbGV2ZWxGbnN9KSB7XG4gIGNvbnN0IGNvbG9yV3JhcCA9IHJlcXVpcmUoJ2NvbG9yLXdyYXAnKTtcbiAgY29uc3QgbWVtb2l6ZSA9IHJlcXVpcmUoJ21lbW9pemVlJyk7XG4gIGNvbnN0IGludGVybmFscyA9IHJlcXVpcmUoJy4vbG9nZ2VyLmludGVybmFscycpO1xuXG4gIG91ckRlYnVnKCgpID0+ICh7IGxvZ2dlclRvV3JhcCwgZGVjb3JMZXZlbHMsIGRvRmlsZUxpbmUsIGRlYnVnQXBpLCBsZXZlbEZuc30pKTtcblxuXG4gIGNsYXNzIExvZ2dlciB7XG4gICAgY29uc3RydWN0b3IoYmFzZSwgbmFtZXNwYWNlKSB7XG5cbiAgICAgIGxldCBhdWdtZW50ZWROYW1lc3BhY2UsIGZvcmNlRGVidWdGaWxlQW5kTGluZTtcbiAgICAgIHRoaXMuYmFzZSA9IGJhc2U7XG4gICAgICB0aGlzLm5hbWVzcGFjZSA9IG5hbWVzcGFjZTtcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5uYW1lc3BhY2UgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBsb2dnaW5nIG5hbWVzcGFjZScpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5uYW1lc3BhY2UgPT09ICcnKSB7XG4gICAgICAgIGF1Z21lbnRlZE5hbWVzcGFjZSA9IHRoaXMuYmFzZSsnOl9fZGVmYXVsdF9uYW1lc3BhY2VfXzonO1xuICAgICAgICBmb3JjZURlYnVnRmlsZUFuZExpbmUgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCF0aGlzLm5hbWVzcGFjZS5lbmRzV2l0aCgnOicpKSB7XG4gICAgICAgICAgdGhpcy5uYW1lc3BhY2UgKz0gJzonO1xuICAgICAgICB9XG4gICAgICAgIGF1Z21lbnRlZE5hbWVzcGFjZSA9IHRoaXMuYmFzZSsnOicrdGhpcy5uYW1lc3BhY2U7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZGVjb3JMZXZlbHMgPSBkZWNvckxldmVscztcblxuICAgICAgLypcbiAgICAgICAgT3ZlcnJpZGUgbG9nT2JqZWN0LmRlYnVnIHdpdGggYSBkZWJ1ZyBpbnN0YW5jZVxuICAgICAgICBuYW1lc3BhY2UgaXMgdG8gYmUgdXNlZCBhcyBoYW5kbGUgZm9yIGNvbnRyb2xsaW5nIGxvZ2dpbmcgdmVyYm9zaXR5XG4gICAgICAgIHNlZTogaHR0cHM6Ly9naXRodWIuY29tL3Zpc2lvbm1lZGlhL2RlYnVnL2Jsb2IvbWFzdGVyL1JlYWRtZS5tZFxuICAgICAgKi9cbiAgICAgIGxldCBkZWJ1Z0luc3RhbmNlID0gZGVidWdBcGkoYXVnbWVudGVkTmFtZXNwYWNlKTtcbiAgICAgIC8vVE9ETzogbWFrZSB0aGlzIG9wdGlvbmFsIGFzIGFuIG9wdGlvblxuICAgICAgLy8gdGhpcyBhbGxvd3MgZm9yd2FyZGluZyBvZiBkZWJ1ZyB0byB0aGUgdW5kZXJseWluZyBkZWJ1ZyBjYWxsIGlmIGVuYWJsZWRcbiAgICAgIGRlYnVnSW5zdGFuY2UubG9nID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGxldCBvdXQgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7XG4gICAgICAgIHJldHVybiBsb2dnZXJUb1dyYXAuZGVidWcuYXBwbHkobG9nZ2VyVG9XcmFwLCBvdXQpO1xuICAgICAgfTtcblxuXG4gICAgICAvLyBhZGQgbGF6eSBldmFsLCBhbmQgbWF5YmUgZGVjb3JhdGUgb3V0cHV0XG4gICAgICBpZiAoIWRlYnVnSW5zdGFuY2UuZW5hYmxlZCkge1xuICAgICAgICB0aGlzLmRlYnVnID0gbm9vcDtcbiAgICAgIH0gZWxzZSBpZiAoKGZvcmNlRGVidWdGaWxlQW5kTGluZSB8fCBkb0ZpbGVMaW5lKSAmJiAhZ2xvYmFsLndpbmRvdykge1xuICAgICAgICB0aGlzLmRlYnVnID0gaW50ZXJuYWxzLmRlY29yYXRlT3V0cHV0KGRlYnVnSW5zdGFuY2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5kZWJ1ZyA9IGludGVybmFscy5yZXNvbHZlT3V0cHV0KGRlYnVnSW5zdGFuY2UpO1xuICAgICAgfVxuXG4gICAgICAvLyBhZGQgbGF6eSBldmFsLCBhbmQgbWF5YmUgZGVjb3JhdGUgb3V0cHV0IHRvIGFsbCBvdGhlciBmdW5jdGlvbnMgYXMgd2VsbFxuICAgICAgZm9yIChsZXQgbHZsIG9mIEFycmF5LmZyb20obGV2ZWxGbnMpKSB7XG4gICAgICAgIGxldCBmb3VuZExldmVsID0gKHRoaXMuZGVjb3JMZXZlbHMgIT0gbnVsbCA/IHRoaXMuZGVjb3JMZXZlbHMuaW5kZXhPZihsdmwpIDogdW5kZWZpbmVkKSA+PSAwO1xuXG4gICAgICAgIGlmICghZm91bmRMZXZlbCkge1xuICAgICAgICAgIC8vIG91ckRlYnVnIC0+ICchZm91bmRMZXZlbCA6ICcgKyBsdmxcbiAgICAgICAgICB0aGlzW2x2bF0gPSBub29wO1xuICAgICAgICB9IGVsc2UgaWYgKChmb3JjZURlYnVnRmlsZUFuZExpbmUgfHwgZG9GaWxlTGluZSkgJiYgIWdsb2JhbC53aW5kb3cpIHtcbiAgICAgICAgICB0aGlzW2x2bF0gPSBpbnRlcm5hbHMuZGVjb3JhdGVPdXRwdXQobG9nZ2VyVG9XcmFwW2x2bF0sIGxvZ2dlclRvV3JhcCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpc1tsdmxdID0gaW50ZXJuYWxzLnJlc29sdmVPdXRwdXQobG9nZ2VyVG9XcmFwW2x2bF0sIGxvZ2dlclRvV3JhcCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29sb3JXcmFwKHRoaXMpO1xuICAgIH1cblxuICAgIHNwYXduKHN1Yk5hbWVzcGFjZSkge1xuICAgICAgcmV0dXJuIExvZ2dlci5nZXRMb2dnZXIodGhpcy5iYXNlLCB0aGlzLm5hbWVzcGFjZStzdWJOYW1lc3BhY2UpO1xuICAgIH1cblxuICAgIGlzRW5hYmxlZChzdWJOYW1lc3BhY2UpIHtcbiAgICAgIGlmIChzdWJOYW1lc3BhY2UgPT0gbnVsbCkgeyBzdWJOYW1lc3BhY2UgPSAnJzsgfVxuICAgICAgbGV0IHN1ZmZpeCA9IChzdWJOYW1lc3BhY2UgIT09ICcnKSAmJiAhc3ViTmFtZXNwYWNlLmVuZHNXaXRoKCc6JykgPyAnOicgOiAnJztcbiAgICAgIHJldHVybiBkZWJ1Z0FwaS5lbmFibGVkKHRoaXMubmFtZXNwYWNlK3N1Yk5hbWVzcGFjZStzdWZmaXgpO1xuICAgIH1cbiAgfVxuXG5cbiAgLy8gY2FjaGUgbG9nZ2VyIHJlc3VsdHMgc28gd2UgZ2V0IGNvbnNpc3RlbnQgY29sb3JpbmdcbiAgbGV0IF9nZXRMb2dnZXIgPSAoYmFzZU5hbWVzcGFjZSwgbmFtZXNwYWNlKSA9PiBuZXcgTG9nZ2VyKGJhc2VOYW1lc3BhY2UsIG5hbWVzcGFjZSk7XG5cbiAgTG9nZ2VyLmdldExvZ2dlciA9IG1lbW9pemUoX2dldExvZ2dlciwge3ByaW1pdGl2ZTogdHJ1ZX0pO1xuXG4gIHJldHVybiBMb2dnZXI7XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2xvZ2dlci5qcyIsImNvbnN0IG91ckRlYnVnID0gcmVxdWlyZSgnLi9kZWJ1ZycpLnNwYXduKCdsb2dnZXJGYWN0b3J5Jyk7XG5cbi8qXG4gIFB1YmxpYzogRmFjdG9yeSB0byBjcmVhdGUgYSBkZWJ1ZyBuYW1lc3BhY2Ugb2ZmIG9mLlxuXG4gLSBgbG9nZ2VyVG9XcmFwIHtvYmplY3R9YDogbG9nZ2VyIG9iamVjdCB0byB3cmFwLCB7V2luc3RvbiwgY29uc29sZSwgZXRjfVxuIC0gYGRlYnVnQXBpIHtvYmplY3R9YDogdmlzaW9uIG1lZGlhIGRlYnVnLCBvciBvbmUgbGlrZSBpdFxuIC0gYGVuYWJsZSB7c3RyaW5nfWA6IExvZyBsZXZlbHMgdG8gZW5hYmxlIGZvciB0aGUgREVCVUcgbmFtZXNwYWNlLiBPdGhlcndpc2UgZGVmYXVsdHMgdG8gcHJvY2Vzcy5lbnYuREVCVUdcbiAtIGBsZXZlbEZucyB7YXJyYXlbc3RyaW5nXX1gOiBMZXZlbHMgdG8gZXZhdWxhdGUgYW5kIHBvc3NpYmx5IHdyYXAuXG4gLSBgZG9GaWxlTGluZSB7Ym9vbH1gOiBUdXJucyBvbiBmaWxlTGluZSBpbmZvIG9uIGFsbCBsb2cgb3V0cHV0LlxuIC0gYGRlY29yTGV2ZWxzIHthcnJheVtzdHJpbmddfWA6IGxldmVscyB0byBkZWNvcmF0ZSwgZW5hYmxlLCBhbmQgYWRkIGxhenlFdmFsXG5cbiAgUmV0dXJucyBhIGZ1bmNpdG9uIHRvIGdlbmVyYXRlIGEgYmFzZSBsb2dnZXIuXG4qL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih7bG9nZ2VyVG9XcmFwLCBkZWJ1Z0FwaSwgZW5hYmxlLCBsZXZlbEZucywgZG9GaWxlTGluZSwgZGVjb3JMZXZlbHN9KSB7XG4gIGlmIChkZWJ1Z0FwaSA9PSBudWxsKSB7IGRlYnVnQXBpID0gcmVxdWlyZSgnZGVidWcnKTsgfVxuICBsZXQgbm9ybWFsTGV2ZWxzID0gWydpbmZvJywgJ3dhcm4nLCAnZXJyb3InXTtcbiAgaWYgKGxldmVsRm5zID09IG51bGwpIHsgbGV2ZWxGbnMgPSBub3JtYWxMZXZlbHM7IH1cbiAgaWYgKGRlY29yTGV2ZWxzID09IG51bGwpIHsgZGVjb3JMZXZlbHMgPSBsZXZlbEZuczsgfVxuXG4gIC8vIHdlIGhhdmUgbm8gbGV2ZWxGbnMsIHNvIHdlIGRpc2FibGUgYWxsIGRlY29yIHRvIG1ha2UgaXQgYWxsIG5vb3BcbiAgLy8gc2V0dGluZyBsZXZlbEZucyB0byBub3JtYWxMZXZlbHMgYWxsb3dzIGFsbCBsZXZlbEZucyB0byBiZSBpdGVyYXRlZCB0byBtYWtlIHRoZW0gbm9vcFxuICBpZiAoIWxldmVsRm5zLmxlbmd0aCkge1xuICAgIGxldmVsRm5zID0gbm9ybWFsTGV2ZWxzO1xuICAgIGRlY29yTGV2ZWxzID0gW107XG4gIH1cblxuICBpZiAoIWVuYWJsZSkge1xuICAgIG91ckRlYnVnKCgpID0+ICdub3QgZW5hYmxlZCwgZGVmYXVsdGluZyB0byBERUJVRyBlbnYnKTtcbiAgICBkZWJ1Z0FwaS5lbmFibGUocHJvY2Vzcy5lbnYuREVCVUcgfHwgbnVsbCk7XG4gIH0gZWxzZSB7XG4gICAgb3VyRGVidWcoKCkgPT4gJ2VuYWJsZWQnKTtcbiAgICBsZXQgbmFtZXMgPSBlbmFibGUuc3BsaXQoL1ssIF0vZyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IG5hbWUgPSBuYW1lc1tpXTtcbiAgICAgIGlmIChuYW1lLmVuZHNXaXRoKCcqJykpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9IGVsc2UgaWYgKG5hbWUuZW5kc1dpdGgoJzonKSkge1xuICAgICAgICBuYW1lc1tpXSA9IG5hbWUrJyonO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmFtZXNbaV0gPSBuYW1lKyc6Kic7XG4gICAgICB9XG4gICAgfVxuICAgIG5hbWVzID0gbmFtZXMuY29uY2F0KChwcm9jZXNzLmVudi5ERUJVR3x8JycpLnNwbGl0KCcsJykpO1xuICAgIGRlYnVnQXBpLmVuYWJsZShuYW1lcy5qb2luKCcsJykpO1xuICB9XG5cblxuICBsZXQgX2lzVmFsaWRMb2dPYmplY3QgPSBmdW5jdGlvbihsb2dPYmplY3QpIHtcbiAgICBpZiAoKGxvZ09iamVjdCA9PSBudWxsKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKGxldCB2YWwgb2YgQXJyYXkuZnJvbShsZXZlbEZucykpIHtcbiAgICAgIGlmICgobG9nT2JqZWN0W3ZhbF0gPT0gbnVsbCkgfHwgKHR5cGVvZiBsb2dPYmplY3RbdmFsXSAhPT0gJ2Z1bmN0aW9uJykpIHtcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG5cbiAgaWYgKCFsb2dnZXJUb1dyYXApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2Jhc2Vsb2dnZXIgdW5kZWZpbmVkJyk7XG4gIH1cbiAgbGV0IHZhbGlkID0gX2lzVmFsaWRMb2dPYmplY3QobG9nZ2VyVG9XcmFwKTtcbiAgaWYgKCF2YWxpZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignYmFzZWxvZ2dlciBpcyBpbnZhbGlkJyk7XG4gIH0gZWxzZSBpZiAodHlwZW9mICdzdHJpbmcnID09PSB2YWxpZCkge1xuICAgIHRocm93IG5ldyBFcnJvcihgYmFzZWxvZ2dlciBpcyBpbnZhbGlkIG9uIGZ1bmNpdG9uICR7dmFsaWR9YCk7XG4gIH1cblxuXG4gIGxldCBMb2dnZXIgPSByZXF1aXJlKCcuL2xvZ2dlcicpKHtcbiAgICBsb2dnZXJUb1dyYXAsXG4gICAgZGVjb3JMZXZlbHMsXG4gICAgZG9GaWxlTGluZSxcbiAgICBkZWJ1Z0FwaSxcbiAgICBsZXZlbEZuc1xuICB9KTtcbiAgb3VyRGVidWcoKCkgPT4gJ0xvZ2dlciBCb290c3RyYXBwZWQnKTtcblxuICByZXR1cm4gZnVuY3Rpb24oYmFzZU5hbWVzcGFjZSkge1xuICAgIG91ckRlYnVnKCgpID0+ICdjcmVhdGluZyBsb2cgd3JhcHBlcicpO1xuICAgIHJldHVybiBMb2dnZXIuZ2V0TG9nZ2VyKGJhc2VOYW1lc3BhY2UsICcnKTtcbiAgfTtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvbG9nZ2VyRmFjdG9yeS5qcyIsInZhciBjb2xvcnMgPSByZXF1aXJlKCdjb2xvcnMnKSxcbiAgYW5zaVN0eWxlcyA9IHJlcXVpcmUoJ2NvbG9ycy9saWIvc3R5bGVzJyksXG4gIHV0aWwgPSByZXF1aXJlKCd1dGlsJyksXG4gIGRlZmF1bHRMZXZlbHMgPSBbJ2RlYnVnJywgJ2luZm8nLCAnd2FybicsICdlcnJvcicsICdsb2cnXVxuXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obG9nZ2VyLCBsZXZlbHMpIHtcbiAgbGV2ZWxzID0gbGV2ZWxzIHx8IGRlZmF1bHRMZXZlbHNcblxuICBmdW5jdGlvbiBleHRMb2dGbihsZXZlbCkge1xuICAgIHZhciBsb2dGbiA9IGxvZ2dlcltsZXZlbF1cbiAgICAvL3NraXAgc29tZXRoaW5nIGlmIGl0IGRvZXMgbm90IGV4aXN0XG4gICAgaWYoIWxvZ0ZuIHx8IHR5cGVvZiBsb2dGbiAhPT0gJ2Z1bmN0aW9uJylcbiAgICAgIHJldHVyblxuICAgIE9iamVjdC5rZXlzKGFuc2lTdHlsZXMpLmZvckVhY2goZnVuY3Rpb24oc3R5bGUpIHtcbiAgICAgIGxvZ0ZuW3N0eWxlXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZm9ybWF0dGVkID0gdXRpbC5mb3JtYXQuYXBwbHkodXRpbCwgYXJndW1lbnRzKSAvL3N0cmFpZ2h0IGZyb20gbm9kZS5qcy9jb25zb2xlLmpzXG4gICAgICAgIHJldHVybiBsb2dGbihjb2xvcnNbc3R5bGVdKGZvcm1hdHRlZCkpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIHZhciBrZXlPckluZGV4TGV2ZWwsIGx2bFxuXG4gIGZvciAoa2V5T3JJbmRleExldmVsIGluIGxldmVscykge1xuICAgIGx2bCA9IGxldmVscyBpbnN0YW5jZW9mIEFycmF5ID8gbGV2ZWxzW2tleU9ySW5kZXhMZXZlbF0gOiBrZXlPckluZGV4TGV2ZWxcbiAgICBleHRMb2dGbihsdmwpXG4gIH1cblxuICByZXR1cm4gbG9nZ2VyXG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY29sb3Itd3JhcC9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMjlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlWydleHBvcnRzJ10gPSBmdW5jdGlvbiBydW5UaGVUcmFwICh0ZXh0LCBvcHRpb25zKSB7XG4gIHZhciByZXN1bHQgPSBcIlwiO1xuICB0ZXh0ID0gdGV4dCB8fCBcIlJ1biB0aGUgdHJhcCwgZHJvcCB0aGUgYmFzc1wiO1xuICB0ZXh0ID0gdGV4dC5zcGxpdCgnJyk7XG4gIHZhciB0cmFwID0ge1xuICAgIGE6IFtcIlxcdTAwNDBcIiwgXCJcXHUwMTA0XCIsIFwiXFx1MDIzYVwiLCBcIlxcdTAyNDVcIiwgXCJcXHUwMzk0XCIsIFwiXFx1MDM5YlwiLCBcIlxcdTA0MTRcIl0sXG4gICAgYjogW1wiXFx1MDBkZlwiLCBcIlxcdTAxODFcIiwgXCJcXHUwMjQzXCIsIFwiXFx1MDI2ZVwiLCBcIlxcdTAzYjJcIiwgXCJcXHUwZTNmXCJdLFxuICAgIGM6IFtcIlxcdTAwYTlcIiwgXCJcXHUwMjNiXCIsIFwiXFx1MDNmZVwiXSxcbiAgICBkOiBbXCJcXHUwMGQwXCIsIFwiXFx1MDE4YVwiLCBcIlxcdTA1MDBcIiAsIFwiXFx1MDUwMVwiICxcIlxcdTA1MDJcIiwgXCJcXHUwNTAzXCJdLFxuICAgIGU6IFtcIlxcdTAwY2JcIiwgXCJcXHUwMTE1XCIsIFwiXFx1MDE4ZVwiLCBcIlxcdTAyNThcIiwgXCJcXHUwM2EzXCIsIFwiXFx1MDNiZVwiLCBcIlxcdTA0YmNcIiwgXCJcXHUwYTZjXCJdLFxuICAgIGY6IFtcIlxcdTA0ZmFcIl0sXG4gICAgZzogW1wiXFx1MDI2MlwiXSxcbiAgICBoOiBbXCJcXHUwMTI2XCIsIFwiXFx1MDE5NVwiLCBcIlxcdTA0YTJcIiwgXCJcXHUwNGJhXCIsIFwiXFx1MDRjN1wiLCBcIlxcdTA1MGFcIl0sXG4gICAgaTogW1wiXFx1MGYwZlwiXSxcbiAgICBqOiBbXCJcXHUwMTM0XCJdLFxuICAgIGs6IFtcIlxcdTAxMzhcIiwgXCJcXHUwNGEwXCIsIFwiXFx1MDRjM1wiLCBcIlxcdTA1MWVcIl0sXG4gICAgbDogW1wiXFx1MDEzOVwiXSxcbiAgICBtOiBbXCJcXHUwMjhkXCIsIFwiXFx1MDRjZFwiLCBcIlxcdTA0Y2VcIiwgXCJcXHUwNTIwXCIsIFwiXFx1MDUyMVwiLCBcIlxcdTBkNjlcIl0sXG4gICAgbjogW1wiXFx1MDBkMVwiLCBcIlxcdTAxNGJcIiwgXCJcXHUwMTlkXCIsIFwiXFx1MDM3NlwiLCBcIlxcdTAzYTBcIiwgXCJcXHUwNDhhXCJdLFxuICAgIG86IFtcIlxcdTAwZDhcIiwgXCJcXHUwMGY1XCIsIFwiXFx1MDBmOFwiLCBcIlxcdTAxZmVcIiwgXCJcXHUwMjk4XCIsIFwiXFx1MDQ3YVwiLCBcIlxcdTA1ZGRcIiwgXCJcXHUwNmRkXCIsIFwiXFx1MGU0ZlwiXSxcbiAgICBwOiBbXCJcXHUwMWY3XCIsIFwiXFx1MDQ4ZVwiXSxcbiAgICBxOiBbXCJcXHUwOWNkXCJdLFxuICAgIHI6IFtcIlxcdTAwYWVcIiwgXCJcXHUwMWE2XCIsIFwiXFx1MDIxMFwiLCBcIlxcdTAyNGNcIiwgXCJcXHUwMjgwXCIsIFwiXFx1MDQyZlwiXSxcbiAgICBzOiBbXCJcXHUwMGE3XCIsIFwiXFx1MDNkZVwiLCBcIlxcdTAzZGZcIiwgXCJcXHUwM2U4XCJdLFxuICAgIHQ6IFtcIlxcdTAxNDFcIiwgXCJcXHUwMTY2XCIsIFwiXFx1MDM3M1wiXSxcbiAgICB1OiBbXCJcXHUwMWIxXCIsIFwiXFx1MDU0ZFwiXSxcbiAgICB2OiBbXCJcXHUwNWQ4XCJdLFxuICAgIHc6IFtcIlxcdTA0MjhcIiwgXCJcXHUwNDYwXCIsIFwiXFx1MDQ3Y1wiLCBcIlxcdTBkNzBcIl0sXG4gICAgeDogW1wiXFx1MDRiMlwiLCBcIlxcdTA0ZmVcIiwgXCJcXHUwNGZjXCIsIFwiXFx1MDRmZFwiXSxcbiAgICB5OiBbXCJcXHUwMGE1XCIsIFwiXFx1MDRiMFwiLCBcIlxcdTA0Y2JcIl0sXG4gICAgejogW1wiXFx1MDFiNVwiLCBcIlxcdTAyNDBcIl1cbiAgfVxuICB0ZXh0LmZvckVhY2goZnVuY3Rpb24oYyl7XG4gICAgYyA9IGMudG9Mb3dlckNhc2UoKTtcbiAgICB2YXIgY2hhcnMgPSB0cmFwW2NdIHx8IFtcIiBcIl07XG4gICAgdmFyIHJhbmQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjaGFycy5sZW5ndGgpO1xuICAgIGlmICh0eXBlb2YgdHJhcFtjXSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgcmVzdWx0ICs9IHRyYXBbY11bcmFuZF07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdCArPSBjO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG5cbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb2xvcnMvbGliL2N1c3RvbS90cmFwLmpzXG4vLyBtb2R1bGUgaWQgPSAzMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyBwbGVhc2Ugbm9cbm1vZHVsZVsnZXhwb3J0cyddID0gZnVuY3Rpb24gemFsZ28odGV4dCwgb3B0aW9ucykge1xuICB0ZXh0ID0gdGV4dCB8fCBcIiAgIGhlIGlzIGhlcmUgICBcIjtcbiAgdmFyIHNvdWwgPSB7XG4gICAgXCJ1cFwiIDogW1xuICAgICAgJ8yNJywgJ8yOJywgJ8yEJywgJ8yFJyxcbiAgICAgICfMvycsICfMkScsICfMhicsICfMkCcsXG4gICAgICAnzZInLCAnzZcnLCAnzZEnLCAnzIcnLFxuICAgICAgJ8yIJywgJ8yKJywgJ82CJywgJ8yTJyxcbiAgICAgICfMiCcsICfNiicsICfNiycsICfNjCcsXG4gICAgICAnzIMnLCAnzIInLCAnzIwnLCAnzZAnLFxuICAgICAgJ8yAJywgJ8yBJywgJ8yLJywgJ8yPJyxcbiAgICAgICfMkicsICfMkycsICfMlCcsICfMvScsXG4gICAgICAnzIknLCAnzaMnLCAnzaQnLCAnzaUnLFxuICAgICAgJ82mJywgJ82nJywgJ82oJywgJ82pJyxcbiAgICAgICfNqicsICfNqycsICfNrCcsICfNrScsXG4gICAgICAnza4nLCAnza8nLCAnzL4nLCAnzZsnLFxuICAgICAgJ82GJywgJ8yaJ1xuICAgIF0sXG4gICAgXCJkb3duXCIgOiBbXG4gICAgICAnzJYnLCAnzJcnLCAnzJgnLCAnzJknLFxuICAgICAgJ8ycJywgJ8ydJywgJ8yeJywgJ8yfJyxcbiAgICAgICfMoCcsICfMpCcsICfMpScsICfMpicsXG4gICAgICAnzKknLCAnzKonLCAnzKsnLCAnzKwnLFxuICAgICAgJ8ytJywgJ8yuJywgJ8yvJywgJ8ywJyxcbiAgICAgICfMsScsICfMsicsICfMsycsICfMuScsXG4gICAgICAnzLonLCAnzLsnLCAnzLwnLCAnzYUnLFxuICAgICAgJ82HJywgJ82IJywgJ82JJywgJ82NJyxcbiAgICAgICfNjicsICfNkycsICfNlCcsICfNlScsXG4gICAgICAnzZYnLCAnzZknLCAnzZonLCAnzKMnXG4gICAgXSxcbiAgICBcIm1pZFwiIDogW1xuICAgICAgJ8yVJywgJ8ybJywgJ8yAJywgJ8yBJyxcbiAgICAgICfNmCcsICfMoScsICfMoicsICfMpycsXG4gICAgICAnzKgnLCAnzLQnLCAnzLUnLCAnzLYnLFxuICAgICAgJ82cJywgJ82dJywgJ82eJyxcbiAgICAgICfNnycsICfNoCcsICfNoicsICfMuCcsXG4gICAgICAnzLcnLCAnzaEnLCAnINKJJ1xuICAgIF1cbiAgfSxcbiAgYWxsID0gW10uY29uY2F0KHNvdWwudXAsIHNvdWwuZG93biwgc291bC5taWQpLFxuICB6YWxnbyA9IHt9O1xuXG4gIGZ1bmN0aW9uIHJhbmRvbU51bWJlcihyYW5nZSkge1xuICAgIHZhciByID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcmFuZ2UpO1xuICAgIHJldHVybiByO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNfY2hhcihjaGFyYWN0ZXIpIHtcbiAgICB2YXIgYm9vbCA9IGZhbHNlO1xuICAgIGFsbC5maWx0ZXIoZnVuY3Rpb24gKGkpIHtcbiAgICAgIGJvb2wgPSAoaSA9PT0gY2hhcmFjdGVyKTtcbiAgICB9KTtcbiAgICByZXR1cm4gYm9vbDtcbiAgfVxuICBcblxuICBmdW5jdGlvbiBoZUNvbWVzKHRleHQsIG9wdGlvbnMpIHtcbiAgICB2YXIgcmVzdWx0ID0gJycsIGNvdW50cywgbDtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBvcHRpb25zW1widXBcIl0gPSAgIHR5cGVvZiBvcHRpb25zW1widXBcIl0gICAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zW1widXBcIl0gICA6IHRydWU7XG4gICAgb3B0aW9uc1tcIm1pZFwiXSA9ICB0eXBlb2Ygb3B0aW9uc1tcIm1pZFwiXSAgIT09ICd1bmRlZmluZWQnID8gb3B0aW9uc1tcIm1pZFwiXSAgOiB0cnVlO1xuICAgIG9wdGlvbnNbXCJkb3duXCJdID0gdHlwZW9mIG9wdGlvbnNbXCJkb3duXCJdICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnNbXCJkb3duXCJdIDogdHJ1ZTtcbiAgICBvcHRpb25zW1wic2l6ZVwiXSA9IHR5cGVvZiBvcHRpb25zW1wic2l6ZVwiXSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zW1wic2l6ZVwiXSA6IFwibWF4aVwiO1xuICAgIHRleHQgPSB0ZXh0LnNwbGl0KCcnKTtcbiAgICBmb3IgKGwgaW4gdGV4dCkge1xuICAgICAgaWYgKGlzX2NoYXIobCkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICByZXN1bHQgPSByZXN1bHQgKyB0ZXh0W2xdO1xuICAgICAgY291bnRzID0ge1widXBcIiA6IDAsIFwiZG93blwiIDogMCwgXCJtaWRcIiA6IDB9O1xuICAgICAgc3dpdGNoIChvcHRpb25zLnNpemUpIHtcbiAgICAgIGNhc2UgJ21pbmknOlxuICAgICAgICBjb3VudHMudXAgPSByYW5kb21OdW1iZXIoOCk7XG4gICAgICAgIGNvdW50cy5taWQgPSByYW5kb21OdW1iZXIoMik7XG4gICAgICAgIGNvdW50cy5kb3duID0gcmFuZG9tTnVtYmVyKDgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ21heGknOlxuICAgICAgICBjb3VudHMudXAgPSByYW5kb21OdW1iZXIoMTYpICsgMztcbiAgICAgICAgY291bnRzLm1pZCA9IHJhbmRvbU51bWJlcig0KSArIDE7XG4gICAgICAgIGNvdW50cy5kb3duID0gcmFuZG9tTnVtYmVyKDY0KSArIDM7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgY291bnRzLnVwID0gcmFuZG9tTnVtYmVyKDgpICsgMTtcbiAgICAgICAgY291bnRzLm1pZCA9IHJhbmRvbU51bWJlcig2KSAvIDI7XG4gICAgICAgIGNvdW50cy5kb3duID0gcmFuZG9tTnVtYmVyKDgpICsgMTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIHZhciBhcnIgPSBbXCJ1cFwiLCBcIm1pZFwiLCBcImRvd25cIl07XG4gICAgICBmb3IgKHZhciBkIGluIGFycikge1xuICAgICAgICB2YXIgaW5kZXggPSBhcnJbZF07XG4gICAgICAgIGZvciAodmFyIGkgPSAwIDsgaSA8PSBjb3VudHNbaW5kZXhdOyBpKyspIHtcbiAgICAgICAgICBpZiAob3B0aW9uc1tpbmRleF0pIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdCArIHNvdWxbaW5kZXhdW3JhbmRvbU51bWJlcihzb3VsW2luZGV4XS5sZW5ndGgpXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICAvLyBkb24ndCBzdW1tb24gaGltXG4gIHJldHVybiBoZUNvbWVzKHRleHQsIG9wdGlvbnMpO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvbG9ycy9saWIvY3VzdG9tL3phbGdvLmpzXG4vLyBtb2R1bGUgaWQgPSAzMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgY29sb3JzID0gcmVxdWlyZSgnLi9jb2xvcnMnKTtcblxubW9kdWxlWydleHBvcnRzJ10gPSBmdW5jdGlvbiAoKSB7XG5cbiAgLy9cbiAgLy8gRXh0ZW5kcyBwcm90b3R5cGUgb2YgbmF0aXZlIHN0cmluZyBvYmplY3QgdG8gYWxsb3cgZm9yIFwiZm9vXCIucmVkIHN5bnRheFxuICAvL1xuICB2YXIgYWRkUHJvcGVydHkgPSBmdW5jdGlvbiAoY29sb3IsIGZ1bmMpIHtcbiAgICBTdHJpbmcucHJvdG90eXBlLl9fZGVmaW5lR2V0dGVyX18oY29sb3IsIGZ1bmMpO1xuICB9O1xuXG4gIHZhciBzZXF1ZW5jZXIgPSBmdW5jdGlvbiBzZXF1ZW5jZXIgKG1hcCwgc3RyKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZXhwbG9kZWQgPSB0aGlzLnNwbGl0KFwiXCIpLCBpID0gMDtcbiAgICAgICAgZXhwbG9kZWQgPSBleHBsb2RlZC5tYXAobWFwKTtcbiAgICAgICAgcmV0dXJuIGV4cGxvZGVkLmpvaW4oXCJcIik7XG4gICAgICB9XG4gIH07XG5cbiAgYWRkUHJvcGVydHkoJ3N0cmlwJywgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBjb2xvcnMuc3RyaXAodGhpcyk7XG4gIH0pO1xuXG4gIGFkZFByb3BlcnR5KCdzdHJpcENvbG9ycycsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gY29sb3JzLnN0cmlwKHRoaXMpO1xuICB9KTtcblxuICBhZGRQcm9wZXJ0eShcInRyYXBcIiwgZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gY29sb3JzLnRyYXAodGhpcyk7XG4gIH0pO1xuXG4gIGFkZFByb3BlcnR5KFwiemFsZ29cIiwgZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gY29sb3JzLnphbGdvKHRoaXMpO1xuICB9KTtcblxuICBhZGRQcm9wZXJ0eShcInplYnJhXCIsIGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIGNvbG9ycy56ZWJyYSh0aGlzKTtcbiAgfSk7XG5cbiAgYWRkUHJvcGVydHkoXCJyYWluYm93XCIsIGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIGNvbG9ycy5yYWluYm93KHRoaXMpO1xuICB9KTtcblxuICBhZGRQcm9wZXJ0eShcInJhbmRvbVwiLCBmdW5jdGlvbigpe1xuICAgIHJldHVybiBjb2xvcnMucmFuZG9tKHRoaXMpO1xuICB9KTtcblxuICBhZGRQcm9wZXJ0eShcImFtZXJpY2FcIiwgZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gY29sb3JzLmFtZXJpY2EodGhpcyk7XG4gIH0pO1xuXG4gIC8vXG4gIC8vIEl0ZXJhdGUgdGhyb3VnaCBhbGwgZGVmYXVsdCBzdHlsZXMgYW5kIGNvbG9yc1xuICAvL1xuICB2YXIgeCA9IE9iamVjdC5rZXlzKGNvbG9ycy5zdHlsZXMpO1xuICB4LmZvckVhY2goZnVuY3Rpb24gKHN0eWxlKSB7XG4gICAgYWRkUHJvcGVydHkoc3R5bGUsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBjb2xvcnMuc3R5bGl6ZSh0aGlzLCBzdHlsZSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGFwcGx5VGhlbWUodGhlbWUpIHtcbiAgICAvL1xuICAgIC8vIFJlbWFyazogVGhpcyBpcyBhIGxpc3Qgb2YgbWV0aG9kcyB0aGF0IGV4aXN0XG4gICAgLy8gb24gU3RyaW5nIHRoYXQgeW91IHNob3VsZCBub3Qgb3ZlcndyaXRlLlxuICAgIC8vXG4gICAgdmFyIHN0cmluZ1Byb3RvdHlwZUJsYWNrbGlzdCA9IFtcbiAgICAgICdfX2RlZmluZUdldHRlcl9fJywgJ19fZGVmaW5lU2V0dGVyX18nLCAnX19sb29rdXBHZXR0ZXJfXycsICdfX2xvb2t1cFNldHRlcl9fJywgJ2NoYXJBdCcsICdjb25zdHJ1Y3RvcicsXG4gICAgICAnaGFzT3duUHJvcGVydHknLCAnaXNQcm90b3R5cGVPZicsICdwcm9wZXJ0eUlzRW51bWVyYWJsZScsICd0b0xvY2FsZVN0cmluZycsICd0b1N0cmluZycsICd2YWx1ZU9mJywgJ2NoYXJDb2RlQXQnLFxuICAgICAgJ2luZGV4T2YnLCAnbGFzdEluZGV4b2YnLCAnbGVuZ3RoJywgJ2xvY2FsZUNvbXBhcmUnLCAnbWF0Y2gnLCAncmVwbGFjZScsICdzZWFyY2gnLCAnc2xpY2UnLCAnc3BsaXQnLCAnc3Vic3RyaW5nJyxcbiAgICAgICd0b0xvY2FsZUxvd2VyQ2FzZScsICd0b0xvY2FsZVVwcGVyQ2FzZScsICd0b0xvd2VyQ2FzZScsICd0b1VwcGVyQ2FzZScsICd0cmltJywgJ3RyaW1MZWZ0JywgJ3RyaW1SaWdodCdcbiAgICBdO1xuXG4gICAgT2JqZWN0LmtleXModGhlbWUpLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcbiAgICAgIGlmIChzdHJpbmdQcm90b3R5cGVCbGFja2xpc3QuaW5kZXhPZihwcm9wKSAhPT0gLTEpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ3dhcm46ICcucmVkICsgKCdTdHJpbmcucHJvdG90eXBlJyArIHByb3ApLm1hZ2VudGEgKyAnIGlzIHByb2JhYmx5IHNvbWV0aGluZyB5b3UgZG9uXFwndCB3YW50IHRvIG92ZXJyaWRlLiBJZ25vcmluZyBzdHlsZSBuYW1lJyk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgaWYgKHR5cGVvZih0aGVtZVtwcm9wXSkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgY29sb3JzW3Byb3BdID0gY29sb3JzW3RoZW1lW3Byb3BdXTtcbiAgICAgICAgICBhZGRQcm9wZXJ0eShwcm9wLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gY29sb3JzW3RoZW1lW3Byb3BdXSh0aGlzKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBhZGRQcm9wZXJ0eShwcm9wLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgcmV0ID0gdGhpcztcbiAgICAgICAgICAgIGZvciAodmFyIHQgPSAwOyB0IDwgdGhlbWVbcHJvcF0ubGVuZ3RoOyB0KyspIHtcbiAgICAgICAgICAgICAgcmV0ID0gY29sb3JzW3RoZW1lW3Byb3BdW3RdXShyZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgY29sb3JzLnNldFRoZW1lID0gZnVuY3Rpb24gKHRoZW1lKSB7XG4gICAgaWYgKHR5cGVvZiB0aGVtZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbG9ycy50aGVtZXNbdGhlbWVdID0gcmVxdWlyZSh0aGVtZSk7XG4gICAgICAgIGFwcGx5VGhlbWUoY29sb3JzLnRoZW1lc1t0aGVtZV0pO1xuICAgICAgICByZXR1cm4gY29sb3JzLnRoZW1lc1t0aGVtZV07XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgcmV0dXJuIGVycjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgYXBwbHlUaGVtZSh0aGVtZSk7XG4gICAgfVxuICB9O1xuXG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb2xvcnMvbGliL2V4dGVuZFN0cmluZ1Byb3RvdHlwZS5qc1xuLy8gbW9kdWxlIGlkID0gMzJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIGNvbG9ycyA9IHJlcXVpcmUoJy4vY29sb3JzJyk7XG5tb2R1bGVbJ2V4cG9ydHMnXSA9IGNvbG9ycztcblxuLy8gUmVtYXJrOiBCeSBkZWZhdWx0LCBjb2xvcnMgd2lsbCBhZGQgc3R5bGUgcHJvcGVydGllcyB0byBTdHJpbmcucHJvdG90eXBlXG4vL1xuLy8gSWYgeW91IGRvbid0IHdpc2ggdG8gZXh0ZW5kIFN0cmluZy5wcm90b3R5cGUgeW91IGNhbiBkbyB0aGlzIGluc3RlYWQgYW5kIG5hdGl2ZSBTdHJpbmcgd2lsbCBub3QgYmUgdG91Y2hlZFxuLy9cbi8vICAgdmFyIGNvbG9ycyA9IHJlcXVpcmUoJ2NvbG9ycy9zYWZlKTtcbi8vICAgY29sb3JzLnJlZChcImZvb1wiKVxuLy9cbi8vXG5yZXF1aXJlKCcuL2V4dGVuZFN0cmluZ1Byb3RvdHlwZScpKCk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvbG9ycy9saWIvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDMzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBjb2xvcnMgPSByZXF1aXJlKCcuLi9jb2xvcnMnKTtcblxubW9kdWxlWydleHBvcnRzJ10gPSAoZnVuY3Rpb24oKSB7XG4gIHJldHVybiBmdW5jdGlvbiAobGV0dGVyLCBpLCBleHBsb2RlZCkge1xuICAgIGlmKGxldHRlciA9PT0gXCIgXCIpIHJldHVybiBsZXR0ZXI7XG4gICAgc3dpdGNoKGklMykge1xuICAgICAgY2FzZSAwOiByZXR1cm4gY29sb3JzLnJlZChsZXR0ZXIpO1xuICAgICAgY2FzZSAxOiByZXR1cm4gY29sb3JzLndoaXRlKGxldHRlcilcbiAgICAgIGNhc2UgMjogcmV0dXJuIGNvbG9ycy5ibHVlKGxldHRlcilcbiAgICB9XG4gIH1cbn0pKCk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvbG9ycy9saWIvbWFwcy9hbWVyaWNhLmpzXG4vLyBtb2R1bGUgaWQgPSAzNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgY29sb3JzID0gcmVxdWlyZSgnLi4vY29sb3JzJyk7XG5cbm1vZHVsZVsnZXhwb3J0cyddID0gKGZ1bmN0aW9uICgpIHtcbiAgdmFyIHJhaW5ib3dDb2xvcnMgPSBbJ3JlZCcsICd5ZWxsb3cnLCAnZ3JlZW4nLCAnYmx1ZScsICdtYWdlbnRhJ107IC8vUm9ZIEcgQmlWXG4gIHJldHVybiBmdW5jdGlvbiAobGV0dGVyLCBpLCBleHBsb2RlZCkge1xuICAgIGlmIChsZXR0ZXIgPT09IFwiIFwiKSB7XG4gICAgICByZXR1cm4gbGV0dGVyO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gY29sb3JzW3JhaW5ib3dDb2xvcnNbaSsrICUgcmFpbmJvd0NvbG9ycy5sZW5ndGhdXShsZXR0ZXIpO1xuICAgIH1cbiAgfTtcbn0pKCk7XG5cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb2xvcnMvbGliL21hcHMvcmFpbmJvdy5qc1xuLy8gbW9kdWxlIGlkID0gMzVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIGNvbG9ycyA9IHJlcXVpcmUoJy4uL2NvbG9ycycpO1xuXG5tb2R1bGVbJ2V4cG9ydHMnXSA9IChmdW5jdGlvbiAoKSB7XG4gIHZhciBhdmFpbGFibGUgPSBbJ3VuZGVybGluZScsICdpbnZlcnNlJywgJ2dyZXknLCAneWVsbG93JywgJ3JlZCcsICdncmVlbicsICdibHVlJywgJ3doaXRlJywgJ2N5YW4nLCAnbWFnZW50YSddO1xuICByZXR1cm4gZnVuY3Rpb24obGV0dGVyLCBpLCBleHBsb2RlZCkge1xuICAgIHJldHVybiBsZXR0ZXIgPT09IFwiIFwiID8gbGV0dGVyIDogY29sb3JzW2F2YWlsYWJsZVtNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAoYXZhaWxhYmxlLmxlbmd0aCAtIDEpKV1dKGxldHRlcik7XG4gIH07XG59KSgpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb2xvcnMvbGliL21hcHMvcmFuZG9tLmpzXG4vLyBtb2R1bGUgaWQgPSAzNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgY29sb3JzID0gcmVxdWlyZSgnLi4vY29sb3JzJyk7XG5cbm1vZHVsZVsnZXhwb3J0cyddID0gZnVuY3Rpb24gKGxldHRlciwgaSwgZXhwbG9kZWQpIHtcbiAgcmV0dXJuIGkgJSAyID09PSAwID8gbGV0dGVyIDogY29sb3JzLmludmVyc2UobGV0dGVyKTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvbG9ycy9saWIvbWFwcy96ZWJyYS5qc1xuLy8gbW9kdWxlIGlkID0gMzdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLypcblRoZSBNSVQgTGljZW5zZSAoTUlUKVxuXG5Db3B5cmlnaHQgKGMpIFNpbmRyZSBTb3JodXMgPHNpbmRyZXNvcmh1c0BnbWFpbC5jb20+IChzaW5kcmVzb3JodXMuY29tKVxuXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG5vZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG5pbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG50byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG5jb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbmZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG5cblRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG5hbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cblxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG5GSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbkFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbkxJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG5PVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG5USEUgU09GVFdBUkUuXG5cbiovXG5cbnZhciBhcmd2ID0gcHJvY2Vzcy5hcmd2O1xuXG5tb2R1bGUuZXhwb3J0cyA9IChmdW5jdGlvbiAoKSB7XG4gIGlmIChhcmd2LmluZGV4T2YoJy0tbm8tY29sb3InKSAhPT0gLTEgfHxcbiAgICBhcmd2LmluZGV4T2YoJy0tY29sb3I9ZmFsc2UnKSAhPT0gLTEpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoYXJndi5pbmRleE9mKCctLWNvbG9yJykgIT09IC0xIHx8XG4gICAgYXJndi5pbmRleE9mKCctLWNvbG9yPXRydWUnKSAhPT0gLTEgfHxcbiAgICBhcmd2LmluZGV4T2YoJy0tY29sb3I9YWx3YXlzJykgIT09IC0xKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAocHJvY2Vzcy5zdGRvdXQgJiYgIXByb2Nlc3Muc3Rkb3V0LmlzVFRZKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKHByb2Nlc3MucGxhdGZvcm0gPT09ICd3aW4zMicpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmICgnQ09MT1JURVJNJyBpbiBwcm9jZXNzLmVudikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKHByb2Nlc3MuZW52LlRFUk0gPT09ICdkdW1iJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICgvXnNjcmVlbnxeeHRlcm18XnZ0MTAwfGNvbG9yfGFuc2l8Y3lnd2lufGxpbnV4L2kudGVzdChwcm9jZXNzLmVudi5URVJNKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufSkoKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY29sb3JzL2xpYi9zeXN0ZW0vc3VwcG9ydHMtY29sb3JzLmpzXG4vLyBtb2R1bGUgaWQgPSAzOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vc3JjL2RlYnVnRmFiRmFjdG9yeScpO1xubW9kdWxlLmV4cG9ydHMuc3Bhd25hYmxlID0gcmVxdWlyZSgnLi9zcmMvc3Bhd24nKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9kZWJ1Zy1mYWJ1bG91cy9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMzlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgcHJvcElzRW51bWVyYWJsZSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG5cbmZ1bmN0aW9uIHRvT2JqZWN0KHZhbCkge1xuXHRpZiAodmFsID09PSBudWxsIHx8IHZhbCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0LmFzc2lnbiBjYW5ub3QgYmUgY2FsbGVkIHdpdGggbnVsbCBvciB1bmRlZmluZWQnKTtcblx0fVxuXG5cdHJldHVybiBPYmplY3QodmFsKTtcbn1cblxuZnVuY3Rpb24gc2hvdWxkVXNlTmF0aXZlKCkge1xuXHR0cnkge1xuXHRcdGlmICghT2JqZWN0LmFzc2lnbikge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIERldGVjdCBidWdneSBwcm9wZXJ0eSBlbnVtZXJhdGlvbiBvcmRlciBpbiBvbGRlciBWOCB2ZXJzaW9ucy5cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTQxMThcblx0XHR2YXIgdGVzdDEgPSBuZXcgU3RyaW5nKCdhYmMnKTsgIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblx0XHR0ZXN0MVs1XSA9ICdkZSc7XG5cdFx0aWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QxKVswXSA9PT0gJzUnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzA1NlxuXHRcdHZhciB0ZXN0MiA9IHt9O1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgMTA7IGkrKykge1xuXHRcdFx0dGVzdDJbJ18nICsgU3RyaW5nLmZyb21DaGFyQ29kZShpKV0gPSBpO1xuXHRcdH1cblx0XHR2YXIgb3JkZXIyID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGVzdDIpLm1hcChmdW5jdGlvbiAobikge1xuXHRcdFx0cmV0dXJuIHRlc3QyW25dO1xuXHRcdH0pO1xuXHRcdGlmIChvcmRlcjIuam9pbignJykgIT09ICcwMTIzNDU2Nzg5Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMwNTZcblx0XHR2YXIgdGVzdDMgPSB7fTtcblx0XHQnYWJjZGVmZ2hpamtsbW5vcHFyc3QnLnNwbGl0KCcnKS5mb3JFYWNoKGZ1bmN0aW9uIChsZXR0ZXIpIHtcblx0XHRcdHRlc3QzW2xldHRlcl0gPSBsZXR0ZXI7XG5cdFx0fSk7XG5cdFx0aWYgKE9iamVjdC5rZXlzKE9iamVjdC5hc3NpZ24oe30sIHRlc3QzKSkuam9pbignJykgIT09XG5cdFx0XHRcdCdhYmNkZWZnaGlqa2xtbm9wcXJzdCcpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdC8vIFdlIGRvbid0IGV4cGVjdCBhbnkgb2YgdGhlIGFib3ZlIHRvIHRocm93LCBidXQgYmV0dGVyIHRvIGJlIHNhZmUuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2hvdWxkVXNlTmF0aXZlKCkgPyBPYmplY3QuYXNzaWduIDogZnVuY3Rpb24gKHRhcmdldCwgc291cmNlKSB7XG5cdHZhciBmcm9tO1xuXHR2YXIgdG8gPSB0b09iamVjdCh0YXJnZXQpO1xuXHR2YXIgc3ltYm9scztcblxuXHRmb3IgKHZhciBzID0gMTsgcyA8IGFyZ3VtZW50cy5sZW5ndGg7IHMrKykge1xuXHRcdGZyb20gPSBPYmplY3QoYXJndW1lbnRzW3NdKTtcblxuXHRcdGZvciAodmFyIGtleSBpbiBmcm9tKSB7XG5cdFx0XHRpZiAoaGFzT3duUHJvcGVydHkuY2FsbChmcm9tLCBrZXkpKSB7XG5cdFx0XHRcdHRvW2tleV0gPSBmcm9tW2tleV07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcblx0XHRcdHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGZyb20pO1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzeW1ib2xzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGlmIChwcm9wSXNFbnVtZXJhYmxlLmNhbGwoZnJvbSwgc3ltYm9sc1tpXSkpIHtcblx0XHRcdFx0XHR0b1tzeW1ib2xzW2ldXSA9IGZyb21bc3ltYm9sc1tpXV07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gdG87XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2RlYnVnLWZhYnVsb3VzL34vb2JqZWN0LWFzc2lnbi9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gNDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBmb3JtYXRBcmdzKGFyZ3MpIHtcbiAgdmFyIGRlYnVnQXBpID0gYXJncy5kZWJ1Z0FwaTtcbiAgdmFyIG9wdGlvbnMgPSBhcmdzLm9wdGlvbnM7XG5cbiAgaWYob3B0aW9ucy5mb3JtYXRBcmdzID09IHRydWUpe1xuICAgIC8qXG4gICAgZml4aW5nIGl0IHNvIHdlIGRvbid0IGdldCByZWR1bmRhbnQgdGltZXN0YW1wcyBvbiBwcm9kXG4gICAgaHR0cHM6Ly9naXRodWIuY29tL3Zpc2lvbm1lZGlhL2RlYnVnL2lzc3Vlcy8xNjFcbiAgICAqL1xuICAgIGRlYnVnQXBpLmZvcm1hdEFyZ3MgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLnVzZUNvbG9ycylcbiAgICAgICAgYXJndW1lbnRzWzBdID0gJyAgXFx1MDAxYls5JyArIHRoaXMuY29sb3IgKyAnbScgKyB0aGlzLm5hbWVzcGFjZSArICcgJyArICdcXHUwMDFiWzBtJyArIGFyZ3VtZW50c1swXTtcbiAgICAgIGVsc2VcbiAgICAgICAgYXJndW1lbnRzWzBdID0gJyAgJyArIHRoaXMubmFtZXNwYWNlICsgJyAnICsgYXJndW1lbnRzWzBdO1xuXG4gICAgICByZXR1cm4gYXJndW1lbnRzO1xuICAgIH1cbiAgfVxuICBlbHNlIGlmICggdHlwZW9mIG9wdGlvbnMuZm9ybWF0QXJncyA9PT0gJ2Z1bmN0aW9uJyl7XG4gICAgZGVidWdBcGkuZm9ybWF0QXJncyA9IG9wdGlvbnMuZm9ybWF0QXJncztcbiAgfVxuXG4gIHJldHVybiBkZWJ1Z0FwaTtcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9kZWJ1Zy1mYWJ1bG91cy9zcmMvZm9ybWF0QXJncy5qc1xuLy8gbW9kdWxlIGlkID0gNDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXG5cbnZhciBzbGljZSA9IFtdLnNsaWNlLFxuICBvYmplY3RBc3NpZ24gPSByZXF1aXJlKCdvYmplY3QtYXNzaWduJyk7XG5cblxuZnVuY3Rpb24gX3Jlc29sdmVPdXRwdXQoZnVuYywgYmluZFRoaXMpIHtcbiAgdmFyIHdyYXBwZWQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncztcbiAgICBhcmdzID0gMSA8PSBhcmd1bWVudHMubGVuZ3RoID8gc2xpY2UuY2FsbChhcmd1bWVudHMsIDApIDogW107XG5cbiAgICAvLyBsYXp5IGZ1bmN0aW9uIGV2YWwgdG8ga2VlcCBvdXRwdXQgbWVtb3J5IHByZXNzdXJlIGRvd24sIGlmIG5vdCB1c2VkXG4gICAgaWYgKHR5cGVvZiBhcmdzWzBdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBhcmdzWzBdID0gYXJnc1swXSgpO1xuICAgIH1cbiAgICByZXR1cm4gZnVuYy5hcHBseShiaW5kVGhpcywgYXJncyk7XG4gIH07XG4gIG9iamVjdEFzc2lnbih3cmFwcGVkLCBmdW5jKTtcblxuICByZXR1cm4gd3JhcHBlZDtcbn07XG5cblxuZnVuY3Rpb24gd3JhcEV2YWwoZGVidWcpIHtcblxuICB2YXIgZGVidWdPcmlnID0gZGVidWcsXG4gICAgbm9vcCA9IGZ1bmN0aW9uKCl7fTtcblxuICBkZWJ1ZyA9IGZ1bmN0aW9uIChuYW1lc3BhY2UpIHtcblxuICAgIHZhciBpbnN0YW5jZSA9IGRlYnVnT3JpZyhuYW1lc3BhY2UpO1xuXG4gICAgLy8gaWYgd2UncmUgbm90IGVuYWJsZWQgdGhlbiBkb24ndCBhdHRlbXB0IHRvIGxvZyBhbnl0aGluZ1xuICAgIC8vIGlmIGEgZGVidWcgbmFtZXNwYWNlIHdyYXBzIGl0cyBkZWJ1ZyBpbiBhIGNsb3N1cmUgdGhlbiBpdCBuZXZlciBhbGxvY2F0ZXMgYW55dGhpbmcgYnV0IHRoZSBmdW5jdGlvbiBpdHNlbGZcbiAgICBpZiAoIWluc3RhbmNlLmVuYWJsZWQpe1xuICAgICAgb2JqZWN0QXNzaWduKG5vb3AsIGluc3RhbmNlKTtcbiAgICAgIGluc3RhbmNlID0gbm9vcDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBpbnN0YW5jZSA9IF9yZXNvbHZlT3V0cHV0KGluc3RhbmNlKTtcbiAgICB9XG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9XG5cbiAgb2JqZWN0QXNzaWduKGRlYnVnLCBkZWJ1Z09yaWcpO1xuXG4gIHJldHVybiBkZWJ1Zztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB3cmFwRXZhbDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9kZWJ1Zy1mYWJ1bG91cy9zcmMvbGF6eS1ldmFsLmpzXG4vLyBtb2R1bGUgaWQgPSA0MlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJmdW5jdGlvbiBzcGF3bkZhY3RvcnkobmFtZXNwYWNlLCBkZWJ1Z0ZhYkZhY3RvcnkpIHtcbiAgbmFtZXNwYWNlID0gbmFtZXNwYWNlIHx8ICcnO1xuXG4gIGlmKCFkZWJ1Z0ZhYkZhY3Rvcnkpe1xuICAgIGRlYnVnRmFiRmFjdG9yeSA9IHJlcXVpcmUoJy4vZGVidWdGYWJGYWN0b3J5JykoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIERlYnVnZ2VyKGJhc2UsIG5zKXtcbiAgICBiYXNlID0gYmFzZSB8fCAnJztcbiAgICBucyA9IG5zIHx8ICcnO1xuICAgIHZhciBuZXdOcyA9IG5zID8gYmFzZSArICc6JyArIG5zIDogYmFzZTtcbiAgICB2YXIgZGVidWcgPSBkZWJ1Z0ZhYkZhY3RvcnkobmV3TnMpO1xuICAgIHRoaXMuZGVidWcgPSBkZWJ1ZztcbiAgICB0aGlzLmRlYnVnLnNwYXduID0gdGhpcy5zcGF3bjtcbiAgfVxuXG4gIERlYnVnZ2VyLnByb3RvdHlwZS5zcGF3biA9IGZ1bmN0aW9uKG5zKSB7XG4gICAgdmFyIGRiZyA9IG5ldyBEZWJ1Z2dlcih0aGlzLm5hbWVzcGFjZSwgbnMpO1xuXG4gICAgcmV0dXJuIGRiZy5kZWJ1ZztcbiAgfTtcblxuICB2YXIgcm9vdERlYnVnID0gKG5ldyBEZWJ1Z2dlcihuYW1lc3BhY2UpKS5kZWJ1ZztcblxuICByZXR1cm4gcm9vdERlYnVnO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBzcGF3bkZhY3Rvcnk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vZGVidWctZmFidWxvdXMvc3JjL3NwYXduLmpzXG4vLyBtb2R1bGUgaWQgPSA0M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcbi8qKlxuICogVGhpcyBpcyB0aGUgY29tbW9uIGxvZ2ljIGZvciBib3RoIHRoZSBOb2RlLmpzIGFuZCB3ZWIgYnJvd3NlclxuICogaW1wbGVtZW50YXRpb25zIG9mIGBkZWJ1ZygpYC5cbiAqXG4gKiBFeHBvc2UgYGRlYnVnKClgIGFzIHRoZSBtb2R1bGUuXG4gKi9cblxuZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gY3JlYXRlRGVidWcuZGVidWcgPSBjcmVhdGVEZWJ1Z1snZGVmYXVsdCddID0gY3JlYXRlRGVidWc7XG5leHBvcnRzLmNvZXJjZSA9IGNvZXJjZTtcbmV4cG9ydHMuZGlzYWJsZSA9IGRpc2FibGU7XG5leHBvcnRzLmVuYWJsZSA9IGVuYWJsZTtcbmV4cG9ydHMuZW5hYmxlZCA9IGVuYWJsZWQ7XG5leHBvcnRzLmh1bWFuaXplID0gcmVxdWlyZSgnbXMnKTtcblxuLyoqXG4gKiBUaGUgY3VycmVudGx5IGFjdGl2ZSBkZWJ1ZyBtb2RlIG5hbWVzLCBhbmQgbmFtZXMgdG8gc2tpcC5cbiAqL1xuXG5leHBvcnRzLm5hbWVzID0gW107XG5leHBvcnRzLnNraXBzID0gW107XG5cbi8qKlxuICogTWFwIG9mIHNwZWNpYWwgXCIlblwiIGhhbmRsaW5nIGZ1bmN0aW9ucywgZm9yIHRoZSBkZWJ1ZyBcImZvcm1hdFwiIGFyZ3VtZW50LlxuICpcbiAqIFZhbGlkIGtleSBuYW1lcyBhcmUgYSBzaW5nbGUsIGxvd2VyIG9yIHVwcGVyLWNhc2UgbGV0dGVyLCBpLmUuIFwiblwiIGFuZCBcIk5cIi5cbiAqL1xuXG5leHBvcnRzLmZvcm1hdHRlcnMgPSB7fTtcblxuLyoqXG4gKiBQcmV2aW91cyBsb2cgdGltZXN0YW1wLlxuICovXG5cbnZhciBwcmV2VGltZTtcblxuLyoqXG4gKiBTZWxlY3QgYSBjb2xvci5cbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHNlbGVjdENvbG9yKG5hbWVzcGFjZSkge1xuICB2YXIgaGFzaCA9IDAsIGk7XG5cbiAgZm9yIChpIGluIG5hbWVzcGFjZSkge1xuICAgIGhhc2ggID0gKChoYXNoIDw8IDUpIC0gaGFzaCkgKyBuYW1lc3BhY2UuY2hhckNvZGVBdChpKTtcbiAgICBoYXNoIHw9IDA7IC8vIENvbnZlcnQgdG8gMzJiaXQgaW50ZWdlclxuICB9XG5cbiAgcmV0dXJuIGV4cG9ydHMuY29sb3JzW01hdGguYWJzKGhhc2gpICUgZXhwb3J0cy5jb2xvcnMubGVuZ3RoXTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBkZWJ1Z2dlciB3aXRoIHRoZSBnaXZlbiBgbmFtZXNwYWNlYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gY3JlYXRlRGVidWcobmFtZXNwYWNlKSB7XG5cbiAgZnVuY3Rpb24gZGVidWcoKSB7XG4gICAgLy8gZGlzYWJsZWQ/XG4gICAgaWYgKCFkZWJ1Zy5lbmFibGVkKSByZXR1cm47XG5cbiAgICB2YXIgc2VsZiA9IGRlYnVnO1xuXG4gICAgLy8gc2V0IGBkaWZmYCB0aW1lc3RhbXBcbiAgICB2YXIgY3VyciA9ICtuZXcgRGF0ZSgpO1xuICAgIHZhciBtcyA9IGN1cnIgLSAocHJldlRpbWUgfHwgY3Vycik7XG4gICAgc2VsZi5kaWZmID0gbXM7XG4gICAgc2VsZi5wcmV2ID0gcHJldlRpbWU7XG4gICAgc2VsZi5jdXJyID0gY3VycjtcbiAgICBwcmV2VGltZSA9IGN1cnI7XG5cbiAgICAvLyB0dXJuIHRoZSBgYXJndW1lbnRzYCBpbnRvIGEgcHJvcGVyIEFycmF5XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldO1xuICAgIH1cblxuICAgIGFyZ3NbMF0gPSBleHBvcnRzLmNvZXJjZShhcmdzWzBdKTtcblxuICAgIGlmICgnc3RyaW5nJyAhPT0gdHlwZW9mIGFyZ3NbMF0pIHtcbiAgICAgIC8vIGFueXRoaW5nIGVsc2UgbGV0J3MgaW5zcGVjdCB3aXRoICVPXG4gICAgICBhcmdzLnVuc2hpZnQoJyVPJyk7XG4gICAgfVxuXG4gICAgLy8gYXBwbHkgYW55IGBmb3JtYXR0ZXJzYCB0cmFuc2Zvcm1hdGlvbnNcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIGFyZ3NbMF0gPSBhcmdzWzBdLnJlcGxhY2UoLyUoW2EtekEtWiVdKS9nLCBmdW5jdGlvbihtYXRjaCwgZm9ybWF0KSB7XG4gICAgICAvLyBpZiB3ZSBlbmNvdW50ZXIgYW4gZXNjYXBlZCAlIHRoZW4gZG9uJ3QgaW5jcmVhc2UgdGhlIGFycmF5IGluZGV4XG4gICAgICBpZiAobWF0Y2ggPT09ICclJScpIHJldHVybiBtYXRjaDtcbiAgICAgIGluZGV4Kys7XG4gICAgICB2YXIgZm9ybWF0dGVyID0gZXhwb3J0cy5mb3JtYXR0ZXJzW2Zvcm1hdF07XG4gICAgICBpZiAoJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIGZvcm1hdHRlcikge1xuICAgICAgICB2YXIgdmFsID0gYXJnc1tpbmRleF07XG4gICAgICAgIG1hdGNoID0gZm9ybWF0dGVyLmNhbGwoc2VsZiwgdmFsKTtcblxuICAgICAgICAvLyBub3cgd2UgbmVlZCB0byByZW1vdmUgYGFyZ3NbaW5kZXhdYCBzaW5jZSBpdCdzIGlubGluZWQgaW4gdGhlIGBmb3JtYXRgXG4gICAgICAgIGFyZ3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgaW5kZXgtLTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYXRjaDtcbiAgICB9KTtcblxuICAgIC8vIGFwcGx5IGVudi1zcGVjaWZpYyBmb3JtYXR0aW5nIChjb2xvcnMsIGV0Yy4pXG4gICAgZXhwb3J0cy5mb3JtYXRBcmdzLmNhbGwoc2VsZiwgYXJncyk7XG5cbiAgICB2YXIgbG9nRm4gPSBkZWJ1Zy5sb2cgfHwgZXhwb3J0cy5sb2cgfHwgY29uc29sZS5sb2cuYmluZChjb25zb2xlKTtcbiAgICBsb2dGbi5hcHBseShzZWxmLCBhcmdzKTtcbiAgfVxuXG4gIGRlYnVnLm5hbWVzcGFjZSA9IG5hbWVzcGFjZTtcbiAgZGVidWcuZW5hYmxlZCA9IGV4cG9ydHMuZW5hYmxlZChuYW1lc3BhY2UpO1xuICBkZWJ1Zy51c2VDb2xvcnMgPSBleHBvcnRzLnVzZUNvbG9ycygpO1xuICBkZWJ1Zy5jb2xvciA9IHNlbGVjdENvbG9yKG5hbWVzcGFjZSk7XG5cbiAgLy8gZW52LXNwZWNpZmljIGluaXRpYWxpemF0aW9uIGxvZ2ljIGZvciBkZWJ1ZyBpbnN0YW5jZXNcbiAgaWYgKCdmdW5jdGlvbicgPT09IHR5cGVvZiBleHBvcnRzLmluaXQpIHtcbiAgICBleHBvcnRzLmluaXQoZGVidWcpO1xuICB9XG5cbiAgcmV0dXJuIGRlYnVnO1xufVxuXG4vKipcbiAqIEVuYWJsZXMgYSBkZWJ1ZyBtb2RlIGJ5IG5hbWVzcGFjZXMuIFRoaXMgY2FuIGluY2x1ZGUgbW9kZXNcbiAqIHNlcGFyYXRlZCBieSBhIGNvbG9uIGFuZCB3aWxkY2FyZHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZXNcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gZW5hYmxlKG5hbWVzcGFjZXMpIHtcbiAgZXhwb3J0cy5zYXZlKG5hbWVzcGFjZXMpO1xuXG4gIGV4cG9ydHMubmFtZXMgPSBbXTtcbiAgZXhwb3J0cy5za2lwcyA9IFtdO1xuXG4gIHZhciBzcGxpdCA9ICh0eXBlb2YgbmFtZXNwYWNlcyA9PT0gJ3N0cmluZycgPyBuYW1lc3BhY2VzIDogJycpLnNwbGl0KC9bXFxzLF0rLyk7XG4gIHZhciBsZW4gPSBzcGxpdC5sZW5ndGg7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGlmICghc3BsaXRbaV0pIGNvbnRpbnVlOyAvLyBpZ25vcmUgZW1wdHkgc3RyaW5nc1xuICAgIG5hbWVzcGFjZXMgPSBzcGxpdFtpXS5yZXBsYWNlKC9cXCovZywgJy4qPycpO1xuICAgIGlmIChuYW1lc3BhY2VzWzBdID09PSAnLScpIHtcbiAgICAgIGV4cG9ydHMuc2tpcHMucHVzaChuZXcgUmVnRXhwKCdeJyArIG5hbWVzcGFjZXMuc3Vic3RyKDEpICsgJyQnKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4cG9ydHMubmFtZXMucHVzaChuZXcgUmVnRXhwKCdeJyArIG5hbWVzcGFjZXMgKyAnJCcpKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBEaXNhYmxlIGRlYnVnIG91dHB1dC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGRpc2FibGUoKSB7XG4gIGV4cG9ydHMuZW5hYmxlKCcnKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIG1vZGUgbmFtZSBpcyBlbmFibGVkLCBmYWxzZSBvdGhlcndpc2UuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGVuYWJsZWQobmFtZSkge1xuICB2YXIgaSwgbGVuO1xuICBmb3IgKGkgPSAwLCBsZW4gPSBleHBvcnRzLnNraXBzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWYgKGV4cG9ydHMuc2tpcHNbaV0udGVzdChuYW1lKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICBmb3IgKGkgPSAwLCBsZW4gPSBleHBvcnRzLm5hbWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWYgKGV4cG9ydHMubmFtZXNbaV0udGVzdChuYW1lKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBDb2VyY2UgYHZhbGAuXG4gKlxuICogQHBhcmFtIHtNaXhlZH0gdmFsXG4gKiBAcmV0dXJuIHtNaXhlZH1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGNvZXJjZSh2YWwpIHtcbiAgaWYgKHZhbCBpbnN0YW5jZW9mIEVycm9yKSByZXR1cm4gdmFsLnN0YWNrIHx8IHZhbC5tZXNzYWdlO1xuICByZXR1cm4gdmFsO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2RlYnVnL3NyYy9kZWJ1Zy5qc1xuLy8gbW9kdWxlIGlkID0gNDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcblx0dmFyIGZyb20gPSBBcnJheS5mcm9tLCBhcnIsIHJlc3VsdDtcblx0aWYgKHR5cGVvZiBmcm9tICE9PSAnZnVuY3Rpb24nKSByZXR1cm4gZmFsc2U7XG5cdGFyciA9IFsncmF6JywgJ2R3YSddO1xuXHRyZXN1bHQgPSBmcm9tKGFycik7XG5cdHJldHVybiBCb29sZWFuKHJlc3VsdCAmJiAocmVzdWx0ICE9PSBhcnIpICYmIChyZXN1bHRbMV0gPT09ICdkd2EnKSk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2VzNS1leHQvYXJyYXkvZnJvbS9pcy1pbXBsZW1lbnRlZC5qc1xuLy8gbW9kdWxlIGlkID0gNDVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaXRlcmF0b3JTeW1ib2wgPSByZXF1aXJlKCdlczYtc3ltYm9sJykuaXRlcmF0b3JcbiAgLCBpc0FyZ3VtZW50cyAgICA9IHJlcXVpcmUoJy4uLy4uL2Z1bmN0aW9uL2lzLWFyZ3VtZW50cycpXG4gICwgaXNGdW5jdGlvbiAgICAgPSByZXF1aXJlKCcuLi8uLi9mdW5jdGlvbi9pcy1mdW5jdGlvbicpXG4gICwgdG9Qb3NJbnQgICAgICAgPSByZXF1aXJlKCcuLi8uLi9udW1iZXIvdG8tcG9zLWludGVnZXInKVxuICAsIGNhbGxhYmxlICAgICAgID0gcmVxdWlyZSgnLi4vLi4vb2JqZWN0L3ZhbGlkLWNhbGxhYmxlJylcbiAgLCB2YWxpZFZhbHVlICAgICA9IHJlcXVpcmUoJy4uLy4uL29iamVjdC92YWxpZC12YWx1ZScpXG4gICwgaXNTdHJpbmcgICAgICAgPSByZXF1aXJlKCcuLi8uLi9zdHJpbmcvaXMtc3RyaW5nJylcblxuICAsIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5LCBjYWxsID0gRnVuY3Rpb24ucHJvdG90eXBlLmNhbGxcbiAgLCBkZXNjID0geyBjb25maWd1cmFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZTogbnVsbCB9XG4gICwgZGVmaW5lUHJvcGVydHkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFycmF5TGlrZS8qLCBtYXBGbiwgdGhpc0FyZyovKSB7XG5cdHZhciBtYXBGbiA9IGFyZ3VtZW50c1sxXSwgdGhpc0FyZyA9IGFyZ3VtZW50c1syXSwgQ29uc3RydWN0b3IsIGksIGosIGFyciwgbCwgY29kZSwgaXRlcmF0b3Jcblx0ICAsIHJlc3VsdCwgZ2V0SXRlcmF0b3IsIHZhbHVlO1xuXG5cdGFycmF5TGlrZSA9IE9iamVjdCh2YWxpZFZhbHVlKGFycmF5TGlrZSkpO1xuXG5cdGlmIChtYXBGbiAhPSBudWxsKSBjYWxsYWJsZShtYXBGbik7XG5cdGlmICghdGhpcyB8fCAodGhpcyA9PT0gQXJyYXkpIHx8ICFpc0Z1bmN0aW9uKHRoaXMpKSB7XG5cdFx0Ly8gUmVzdWx0OiBQbGFpbiBhcnJheVxuXHRcdGlmICghbWFwRm4pIHtcblx0XHRcdGlmIChpc0FyZ3VtZW50cyhhcnJheUxpa2UpKSB7XG5cdFx0XHRcdC8vIFNvdXJjZTogQXJndW1lbnRzXG5cdFx0XHRcdGwgPSBhcnJheUxpa2UubGVuZ3RoO1xuXHRcdFx0XHRpZiAobCAhPT0gMSkgcmV0dXJuIEFycmF5LmFwcGx5KG51bGwsIGFycmF5TGlrZSk7XG5cdFx0XHRcdGFyciA9IG5ldyBBcnJheSgxKTtcblx0XHRcdFx0YXJyWzBdID0gYXJyYXlMaWtlWzBdO1xuXHRcdFx0XHRyZXR1cm4gYXJyO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGlzQXJyYXkoYXJyYXlMaWtlKSkge1xuXHRcdFx0XHQvLyBTb3VyY2U6IEFycmF5XG5cdFx0XHRcdGFyciA9IG5ldyBBcnJheShsID0gYXJyYXlMaWtlLmxlbmd0aCk7XG5cdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBsOyArK2kpIGFycltpXSA9IGFycmF5TGlrZVtpXTtcblx0XHRcdFx0cmV0dXJuIGFycjtcblx0XHRcdH1cblx0XHR9XG5cdFx0YXJyID0gW107XG5cdH0gZWxzZSB7XG5cdFx0Ly8gUmVzdWx0OiBOb24gcGxhaW4gYXJyYXlcblx0XHRDb25zdHJ1Y3RvciA9IHRoaXM7XG5cdH1cblxuXHRpZiAoIWlzQXJyYXkoYXJyYXlMaWtlKSkge1xuXHRcdGlmICgoZ2V0SXRlcmF0b3IgPSBhcnJheUxpa2VbaXRlcmF0b3JTeW1ib2xdKSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHQvLyBTb3VyY2U6IEl0ZXJhdG9yXG5cdFx0XHRpdGVyYXRvciA9IGNhbGxhYmxlKGdldEl0ZXJhdG9yKS5jYWxsKGFycmF5TGlrZSk7XG5cdFx0XHRpZiAoQ29uc3RydWN0b3IpIGFyciA9IG5ldyBDb25zdHJ1Y3RvcigpO1xuXHRcdFx0cmVzdWx0ID0gaXRlcmF0b3IubmV4dCgpO1xuXHRcdFx0aSA9IDA7XG5cdFx0XHR3aGlsZSAoIXJlc3VsdC5kb25lKSB7XG5cdFx0XHRcdHZhbHVlID0gbWFwRm4gPyBjYWxsLmNhbGwobWFwRm4sIHRoaXNBcmcsIHJlc3VsdC52YWx1ZSwgaSkgOiByZXN1bHQudmFsdWU7XG5cdFx0XHRcdGlmICghQ29uc3RydWN0b3IpIHtcblx0XHRcdFx0XHRhcnJbaV0gPSB2YWx1ZTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRkZXNjLnZhbHVlID0gdmFsdWU7XG5cdFx0XHRcdFx0ZGVmaW5lUHJvcGVydHkoYXJyLCBpLCBkZXNjKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXN1bHQgPSBpdGVyYXRvci5uZXh0KCk7XG5cdFx0XHRcdCsraTtcblx0XHRcdH1cblx0XHRcdGwgPSBpO1xuXHRcdH0gZWxzZSBpZiAoaXNTdHJpbmcoYXJyYXlMaWtlKSkge1xuXHRcdFx0Ly8gU291cmNlOiBTdHJpbmdcblx0XHRcdGwgPSBhcnJheUxpa2UubGVuZ3RoO1xuXHRcdFx0aWYgKENvbnN0cnVjdG9yKSBhcnIgPSBuZXcgQ29uc3RydWN0b3IoKTtcblx0XHRcdGZvciAoaSA9IDAsIGogPSAwOyBpIDwgbDsgKytpKSB7XG5cdFx0XHRcdHZhbHVlID0gYXJyYXlMaWtlW2ldO1xuXHRcdFx0XHRpZiAoKGkgKyAxKSA8IGwpIHtcblx0XHRcdFx0XHRjb2RlID0gdmFsdWUuY2hhckNvZGVBdCgwKTtcblx0XHRcdFx0XHRpZiAoKGNvZGUgPj0gMHhEODAwKSAmJiAoY29kZSA8PSAweERCRkYpKSB2YWx1ZSArPSBhcnJheUxpa2VbKytpXTtcblx0XHRcdFx0fVxuXHRcdFx0XHR2YWx1ZSA9IG1hcEZuID8gY2FsbC5jYWxsKG1hcEZuLCB0aGlzQXJnLCB2YWx1ZSwgaikgOiB2YWx1ZTtcblx0XHRcdFx0aWYgKCFDb25zdHJ1Y3Rvcikge1xuXHRcdFx0XHRcdGFycltqXSA9IHZhbHVlO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGRlc2MudmFsdWUgPSB2YWx1ZTtcblx0XHRcdFx0XHRkZWZpbmVQcm9wZXJ0eShhcnIsIGosIGRlc2MpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdCsrajtcblx0XHRcdH1cblx0XHRcdGwgPSBqO1xuXHRcdH1cblx0fVxuXHRpZiAobCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0Ly8gU291cmNlOiBhcnJheSBvciBhcnJheS1saWtlXG5cdFx0bCA9IHRvUG9zSW50KGFycmF5TGlrZS5sZW5ndGgpO1xuXHRcdGlmIChDb25zdHJ1Y3RvcikgYXJyID0gbmV3IENvbnN0cnVjdG9yKGwpO1xuXHRcdGZvciAoaSA9IDA7IGkgPCBsOyArK2kpIHtcblx0XHRcdHZhbHVlID0gbWFwRm4gPyBjYWxsLmNhbGwobWFwRm4sIHRoaXNBcmcsIGFycmF5TGlrZVtpXSwgaSkgOiBhcnJheUxpa2VbaV07XG5cdFx0XHRpZiAoIUNvbnN0cnVjdG9yKSB7XG5cdFx0XHRcdGFycltpXSA9IHZhbHVlO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZGVzYy52YWx1ZSA9IHZhbHVlO1xuXHRcdFx0XHRkZWZpbmVQcm9wZXJ0eShhcnIsIGksIGRlc2MpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRpZiAoQ29uc3RydWN0b3IpIHtcblx0XHRkZXNjLnZhbHVlID0gbnVsbDtcblx0XHRhcnIubGVuZ3RoID0gbDtcblx0fVxuXHRyZXR1cm4gYXJyO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9lczUtZXh0L2FycmF5L2Zyb20vc2hpbS5qc1xuLy8gbW9kdWxlIGlkID0gNDZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgZnJvbSA9IHJlcXVpcmUoJy4vZnJvbScpXG5cbiAgLCBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXJyYXlMaWtlKSB7XG5cdHJldHVybiBpc0FycmF5KGFycmF5TGlrZSkgPyBhcnJheUxpa2UgOiBmcm9tKGFycmF5TGlrZSk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2VzNS1leHQvYXJyYXkvdG8tYXJyYXkuanNcbi8vIG1vZHVsZSBpZCA9IDQ3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxudmFyIGFzc2lnbiA9IHJlcXVpcmUoJy4uL29iamVjdC9hc3NpZ24nKVxuXG4gICwgY2FwdHVyZVN0YWNrVHJhY2UgPSBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZTtcblxuZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG1lc3NhZ2UvKiwgY29kZSwgZXh0Ki8pIHtcblx0dmFyIGVyciA9IG5ldyBFcnJvcihtZXNzYWdlKSwgY29kZSA9IGFyZ3VtZW50c1sxXSwgZXh0ID0gYXJndW1lbnRzWzJdO1xuXHRpZiAoZXh0ID09IG51bGwpIHtcblx0XHRpZiAoY29kZSAmJiAodHlwZW9mIGNvZGUgPT09ICdvYmplY3QnKSkge1xuXHRcdFx0ZXh0ID0gY29kZTtcblx0XHRcdGNvZGUgPSBudWxsO1xuXHRcdH1cblx0fVxuXHRpZiAoZXh0ICE9IG51bGwpIGFzc2lnbihlcnIsIGV4dCk7XG5cdGlmIChjb2RlICE9IG51bGwpIGVyci5jb2RlID0gU3RyaW5nKGNvZGUpO1xuXHRpZiAoY2FwdHVyZVN0YWNrVHJhY2UpIGNhcHR1cmVTdGFja1RyYWNlKGVyciwgZXhwb3J0cyk7XG5cdHJldHVybiBlcnI7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2VzNS1leHQvZXJyb3IvY3VzdG9tLmpzXG4vLyBtb2R1bGUgaWQgPSA0OFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbnZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdcblxuICAsIGlkID0gdG9TdHJpbmcuY2FsbCgoZnVuY3Rpb24gKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoeCkgeyByZXR1cm4gKHRvU3RyaW5nLmNhbGwoeCkgPT09IGlkKTsgfTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9lczUtZXh0L2Z1bmN0aW9uL2lzLWFyZ3VtZW50cy5qc1xuLy8gbW9kdWxlIGlkID0gNDlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nXG5cbiAgLCBpZCA9IHRvU3RyaW5nLmNhbGwocmVxdWlyZSgnLi9ub29wJykpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChmKSB7XG5cdHJldHVybiAodHlwZW9mIGYgPT09IFwiZnVuY3Rpb25cIikgJiYgKHRvU3RyaW5nLmNhbGwoZikgPT09IGlkKTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vZXM1LWV4dC9mdW5jdGlvbi9pcy1mdW5jdGlvbi5qc1xuLy8gbW9kdWxlIGlkID0gNTBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHt9O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2VzNS1leHQvZnVuY3Rpb24vbm9vcC5qc1xuLy8gbW9kdWxlIGlkID0gNTFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vaXMtaW1wbGVtZW50ZWQnKSgpXG5cdD8gTWF0aC5zaWduXG5cdDogcmVxdWlyZSgnLi9zaGltJyk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vZXM1LWV4dC9tYXRoL3NpZ24vaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDUyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG5cdHZhciBzaWduID0gTWF0aC5zaWduO1xuXHRpZiAodHlwZW9mIHNpZ24gIT09ICdmdW5jdGlvbicpIHJldHVybiBmYWxzZTtcblx0cmV0dXJuICgoc2lnbigxMCkgPT09IDEpICYmIChzaWduKC0yMCkgPT09IC0xKSk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2VzNS1leHQvbWF0aC9zaWduL2lzLWltcGxlbWVudGVkLmpzXG4vLyBtb2R1bGUgaWQgPSA1M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdHZhbHVlID0gTnVtYmVyKHZhbHVlKTtcblx0aWYgKGlzTmFOKHZhbHVlKSB8fCAodmFsdWUgPT09IDApKSByZXR1cm4gdmFsdWU7XG5cdHJldHVybiAodmFsdWUgPiAwKSA/IDEgOiAtMTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vZXM1LWV4dC9tYXRoL3NpZ24vc2hpbS5qc1xuLy8gbW9kdWxlIGlkID0gNTRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgc2lnbiA9IHJlcXVpcmUoJy4uL21hdGgvc2lnbicpXG5cbiAgLCBhYnMgPSBNYXRoLmFicywgZmxvb3IgPSBNYXRoLmZsb29yO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRpZiAoaXNOYU4odmFsdWUpKSByZXR1cm4gMDtcblx0dmFsdWUgPSBOdW1iZXIodmFsdWUpO1xuXHRpZiAoKHZhbHVlID09PSAwKSB8fCAhaXNGaW5pdGUodmFsdWUpKSByZXR1cm4gdmFsdWU7XG5cdHJldHVybiBzaWduKHZhbHVlKSAqIGZsb29yKGFicyh2YWx1ZSkpO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9lczUtZXh0L251bWJlci90by1pbnRlZ2VyLmpzXG4vLyBtb2R1bGUgaWQgPSA1NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyBJbnRlcm5hbCBtZXRob2QsIHVzZWQgYnkgaXRlcmF0aW9uIGZ1bmN0aW9ucy5cbi8vIENhbGxzIGEgZnVuY3Rpb24gZm9yIGVhY2gga2V5LXZhbHVlIHBhaXIgZm91bmQgaW4gb2JqZWN0XG4vLyBPcHRpb25hbGx5IHRha2VzIGNvbXBhcmVGbiB0byBpdGVyYXRlIG9iamVjdCBpbiBzcGVjaWZpYyBvcmRlclxuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBjYWxsYWJsZSA9IHJlcXVpcmUoJy4vdmFsaWQtY2FsbGFibGUnKVxuICAsIHZhbHVlICAgID0gcmVxdWlyZSgnLi92YWxpZC12YWx1ZScpXG5cbiAgLCBiaW5kID0gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQsIGNhbGwgPSBGdW5jdGlvbi5wcm90b3R5cGUuY2FsbCwga2V5cyA9IE9iamVjdC5rZXlzXG4gICwgcHJvcGVydHlJc0VudW1lcmFibGUgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChtZXRob2QsIGRlZlZhbCkge1xuXHRyZXR1cm4gZnVuY3Rpb24gKG9iaiwgY2IvKiwgdGhpc0FyZywgY29tcGFyZUZuKi8pIHtcblx0XHR2YXIgbGlzdCwgdGhpc0FyZyA9IGFyZ3VtZW50c1syXSwgY29tcGFyZUZuID0gYXJndW1lbnRzWzNdO1xuXHRcdG9iaiA9IE9iamVjdCh2YWx1ZShvYmopKTtcblx0XHRjYWxsYWJsZShjYik7XG5cblx0XHRsaXN0ID0ga2V5cyhvYmopO1xuXHRcdGlmIChjb21wYXJlRm4pIHtcblx0XHRcdGxpc3Quc29ydCgodHlwZW9mIGNvbXBhcmVGbiA9PT0gJ2Z1bmN0aW9uJykgPyBiaW5kLmNhbGwoY29tcGFyZUZuLCBvYmopIDogdW5kZWZpbmVkKTtcblx0XHR9XG5cdFx0aWYgKHR5cGVvZiBtZXRob2QgIT09ICdmdW5jdGlvbicpIG1ldGhvZCA9IGxpc3RbbWV0aG9kXTtcblx0XHRyZXR1cm4gY2FsbC5jYWxsKG1ldGhvZCwgbGlzdCwgZnVuY3Rpb24gKGtleSwgaW5kZXgpIHtcblx0XHRcdGlmICghcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChvYmosIGtleSkpIHJldHVybiBkZWZWYWw7XG5cdFx0XHRyZXR1cm4gY2FsbC5jYWxsKGNiLCB0aGlzQXJnLCBvYmpba2V5XSwga2V5LCBvYmosIGluZGV4KTtcblx0XHR9KTtcblx0fTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vZXM1LWV4dC9vYmplY3QvX2l0ZXJhdGUuanNcbi8vIG1vZHVsZSBpZCA9IDU2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG5cdHZhciBhc3NpZ24gPSBPYmplY3QuYXNzaWduLCBvYmo7XG5cdGlmICh0eXBlb2YgYXNzaWduICE9PSAnZnVuY3Rpb24nKSByZXR1cm4gZmFsc2U7XG5cdG9iaiA9IHsgZm9vOiAncmF6JyB9O1xuXHRhc3NpZ24ob2JqLCB7IGJhcjogJ2R3YScgfSwgeyB0cnp5OiAndHJ6eScgfSk7XG5cdHJldHVybiAob2JqLmZvbyArIG9iai5iYXIgKyBvYmoudHJ6eSkgPT09ICdyYXpkd2F0cnp5Jztcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vZXM1LWV4dC9vYmplY3QvYXNzaWduL2lzLWltcGxlbWVudGVkLmpzXG4vLyBtb2R1bGUgaWQgPSA1N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbnZhciBrZXlzICA9IHJlcXVpcmUoJy4uL2tleXMnKVxuICAsIHZhbHVlID0gcmVxdWlyZSgnLi4vdmFsaWQtdmFsdWUnKVxuXG4gICwgbWF4ID0gTWF0aC5tYXg7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGRlc3QsIHNyYy8qLCDigKZzcmNuKi8pIHtcblx0dmFyIGVycm9yLCBpLCBsID0gbWF4KGFyZ3VtZW50cy5sZW5ndGgsIDIpLCBhc3NpZ247XG5cdGRlc3QgPSBPYmplY3QodmFsdWUoZGVzdCkpO1xuXHRhc3NpZ24gPSBmdW5jdGlvbiAoa2V5KSB7XG5cdFx0dHJ5IHsgZGVzdFtrZXldID0gc3JjW2tleV07IH0gY2F0Y2ggKGUpIHtcblx0XHRcdGlmICghZXJyb3IpIGVycm9yID0gZTtcblx0XHR9XG5cdH07XG5cdGZvciAoaSA9IDE7IGkgPCBsOyArK2kpIHtcblx0XHRzcmMgPSBhcmd1bWVudHNbaV07XG5cdFx0a2V5cyhzcmMpLmZvckVhY2goYXNzaWduKTtcblx0fVxuXHRpZiAoZXJyb3IgIT09IHVuZGVmaW5lZCkgdGhyb3cgZXJyb3I7XG5cdHJldHVybiBkZXN0O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9lczUtZXh0L29iamVjdC9hc3NpZ24vc2hpbS5qc1xuLy8gbW9kdWxlIGlkID0gNThcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gRGVwcmVjYXRlZFxuXG4ndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iaiA9PT0gJ2Z1bmN0aW9uJzsgfTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9lczUtZXh0L29iamVjdC9pcy1jYWxsYWJsZS5qc1xuLy8gbW9kdWxlIGlkID0gNTlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vaXMtaW1wbGVtZW50ZWQnKSgpXG5cdD8gT2JqZWN0LmtleXNcblx0OiByZXF1aXJlKCcuL3NoaW0nKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9lczUtZXh0L29iamVjdC9rZXlzL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA2MFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuXHR0cnkge1xuXHRcdE9iamVjdC5rZXlzKCdwcmltaXRpdmUnKTtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH1cbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vZXM1LWV4dC9vYmplY3Qva2V5cy9pcy1pbXBsZW1lbnRlZC5qc1xuLy8gbW9kdWxlIGlkID0gNjFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIga2V5cyA9IE9iamVjdC5rZXlzO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmplY3QpIHtcblx0cmV0dXJuIGtleXMob2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBPYmplY3Qob2JqZWN0KSk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2VzNS1leHQvb2JqZWN0L2tleXMvc2hpbS5qc1xuLy8gbW9kdWxlIGlkID0gNjJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vaXMtaW1wbGVtZW50ZWQnKSgpXG5cdD8gU3RyaW5nLnByb3RvdHlwZS5jb250YWluc1xuXHQ6IHJlcXVpcmUoJy4vc2hpbScpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2VzNS1leHQvc3RyaW5nLyMvY29udGFpbnMvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDYzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxudmFyIHN0ciA9ICdyYXpkd2F0cnp5JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG5cdGlmICh0eXBlb2Ygc3RyLmNvbnRhaW5zICE9PSAnZnVuY3Rpb24nKSByZXR1cm4gZmFsc2U7XG5cdHJldHVybiAoKHN0ci5jb250YWlucygnZHdhJykgPT09IHRydWUpICYmIChzdHIuY29udGFpbnMoJ2ZvbycpID09PSBmYWxzZSkpO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9lczUtZXh0L3N0cmluZy8jL2NvbnRhaW5zL2lzLWltcGxlbWVudGVkLmpzXG4vLyBtb2R1bGUgaWQgPSA2NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbnZhciBpbmRleE9mID0gU3RyaW5nLnByb3RvdHlwZS5pbmRleE9mO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChzZWFyY2hTdHJpbmcvKiwgcG9zaXRpb24qLykge1xuXHRyZXR1cm4gaW5kZXhPZi5jYWxsKHRoaXMsIHNlYXJjaFN0cmluZywgYXJndW1lbnRzWzFdKSA+IC0xO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9lczUtZXh0L3N0cmluZy8jL2NvbnRhaW5zL3NoaW0uanNcbi8vIG1vZHVsZSBpZCA9IDY1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxudmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ1xuXG4gICwgaWQgPSB0b1N0cmluZy5jYWxsKCcnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoeCkge1xuXHRyZXR1cm4gKHR5cGVvZiB4ID09PSAnc3RyaW5nJykgfHwgKHggJiYgKHR5cGVvZiB4ID09PSAnb2JqZWN0JykgJiZcblx0XHQoKHggaW5zdGFuY2VvZiBTdHJpbmcpIHx8ICh0b1N0cmluZy5jYWxsKHgpID09PSBpZCkpKSB8fCBmYWxzZTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vZXM1LWV4dC9zdHJpbmcvaXMtc3RyaW5nLmpzXG4vLyBtb2R1bGUgaWQgPSA2NlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9pcy1pbXBsZW1lbnRlZCcpKCkgPyBTeW1ib2wgOiByZXF1aXJlKCcuL3BvbHlmaWxsJyk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vZXM2LXN5bWJvbC9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gNjdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdmFsaWRUeXBlcyA9IHsgb2JqZWN0OiB0cnVlLCBzeW1ib2w6IHRydWUgfTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG5cdHZhciBzeW1ib2w7XG5cdGlmICh0eXBlb2YgU3ltYm9sICE9PSAnZnVuY3Rpb24nKSByZXR1cm4gZmFsc2U7XG5cdHN5bWJvbCA9IFN5bWJvbCgndGVzdCBzeW1ib2wnKTtcblx0dHJ5IHsgU3RyaW5nKHN5bWJvbCk7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9XG5cblx0Ly8gUmV0dXJuICd0cnVlJyBhbHNvIGZvciBwb2x5ZmlsbHNcblx0aWYgKCF2YWxpZFR5cGVzW3R5cGVvZiBTeW1ib2wuaXRlcmF0b3JdKSByZXR1cm4gZmFsc2U7XG5cdGlmICghdmFsaWRUeXBlc1t0eXBlb2YgU3ltYm9sLnRvUHJpbWl0aXZlXSkgcmV0dXJuIGZhbHNlO1xuXHRpZiAoIXZhbGlkVHlwZXNbdHlwZW9mIFN5bWJvbC50b1N0cmluZ1RhZ10pIHJldHVybiBmYWxzZTtcblxuXHRyZXR1cm4gdHJ1ZTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vZXM2LXN5bWJvbC9pcy1pbXBsZW1lbnRlZC5qc1xuLy8gbW9kdWxlIGlkID0gNjhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh4KSB7XG5cdGlmICgheCkgcmV0dXJuIGZhbHNlO1xuXHRpZiAodHlwZW9mIHggPT09ICdzeW1ib2wnKSByZXR1cm4gdHJ1ZTtcblx0aWYgKCF4LmNvbnN0cnVjdG9yKSByZXR1cm4gZmFsc2U7XG5cdGlmICh4LmNvbnN0cnVjdG9yLm5hbWUgIT09ICdTeW1ib2wnKSByZXR1cm4gZmFsc2U7XG5cdHJldHVybiAoeFt4LmNvbnN0cnVjdG9yLnRvU3RyaW5nVGFnXSA9PT0gJ1N5bWJvbCcpO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9lczYtc3ltYm9sL2lzLXN5bWJvbC5qc1xuLy8gbW9kdWxlIGlkID0gNjlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gRVMyMDE1IFN5bWJvbCBwb2x5ZmlsbCBmb3IgZW52aXJvbm1lbnRzIHRoYXQgZG8gbm90IChvciBwYXJ0aWFsbHkpIHN1cHBvcnQgaXRcblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgZCAgICAgICAgICAgICAgPSByZXF1aXJlKCdkJylcbiAgLCB2YWxpZGF0ZVN5bWJvbCA9IHJlcXVpcmUoJy4vdmFsaWRhdGUtc3ltYm9sJylcblxuICAsIGNyZWF0ZSA9IE9iamVjdC5jcmVhdGUsIGRlZmluZVByb3BlcnRpZXMgPSBPYmplY3QuZGVmaW5lUHJvcGVydGllc1xuICAsIGRlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5LCBvYmpQcm90b3R5cGUgPSBPYmplY3QucHJvdG90eXBlXG4gICwgTmF0aXZlU3ltYm9sLCBTeW1ib2xQb2x5ZmlsbCwgSGlkZGVuU3ltYm9sLCBnbG9iYWxTeW1ib2xzID0gY3JlYXRlKG51bGwpXG4gICwgaXNOYXRpdmVTYWZlO1xuXG5pZiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJykge1xuXHROYXRpdmVTeW1ib2wgPSBTeW1ib2w7XG5cdHRyeSB7XG5cdFx0U3RyaW5nKE5hdGl2ZVN5bWJvbCgpKTtcblx0XHRpc05hdGl2ZVNhZmUgPSB0cnVlO1xuXHR9IGNhdGNoIChpZ25vcmUpIHt9XG59XG5cbnZhciBnZW5lcmF0ZU5hbWUgPSAoZnVuY3Rpb24gKCkge1xuXHR2YXIgY3JlYXRlZCA9IGNyZWF0ZShudWxsKTtcblx0cmV0dXJuIGZ1bmN0aW9uIChkZXNjKSB7XG5cdFx0dmFyIHBvc3RmaXggPSAwLCBuYW1lLCBpZTExQnVnV29ya2Fyb3VuZDtcblx0XHR3aGlsZSAoY3JlYXRlZFtkZXNjICsgKHBvc3RmaXggfHwgJycpXSkgKytwb3N0Zml4O1xuXHRcdGRlc2MgKz0gKHBvc3RmaXggfHwgJycpO1xuXHRcdGNyZWF0ZWRbZGVzY10gPSB0cnVlO1xuXHRcdG5hbWUgPSAnQEAnICsgZGVzYztcblx0XHRkZWZpbmVQcm9wZXJ0eShvYmpQcm90b3R5cGUsIG5hbWUsIGQuZ3MobnVsbCwgZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0XHQvLyBGb3IgSUUxMSBpc3N1ZSBzZWU6XG5cdFx0XHQvLyBodHRwczovL2Nvbm5lY3QubWljcm9zb2Z0LmNvbS9JRS9mZWVkYmFja2RldGFpbC92aWV3LzE5Mjg1MDgvXG5cdFx0XHQvLyAgICBpZTExLWJyb2tlbi1nZXR0ZXJzLW9uLWRvbS1vYmplY3RzXG5cdFx0XHQvLyBodHRwczovL2dpdGh1Yi5jb20vbWVkaWtvby9lczYtc3ltYm9sL2lzc3Vlcy8xMlxuXHRcdFx0aWYgKGllMTFCdWdXb3JrYXJvdW5kKSByZXR1cm47XG5cdFx0XHRpZTExQnVnV29ya2Fyb3VuZCA9IHRydWU7XG5cdFx0XHRkZWZpbmVQcm9wZXJ0eSh0aGlzLCBuYW1lLCBkKHZhbHVlKSk7XG5cdFx0XHRpZTExQnVnV29ya2Fyb3VuZCA9IGZhbHNlO1xuXHRcdH0pKTtcblx0XHRyZXR1cm4gbmFtZTtcblx0fTtcbn0oKSk7XG5cbi8vIEludGVybmFsIGNvbnN0cnVjdG9yIChub3Qgb25lIGV4cG9zZWQpIGZvciBjcmVhdGluZyBTeW1ib2wgaW5zdGFuY2VzLlxuLy8gVGhpcyBvbmUgaXMgdXNlZCB0byBlbnN1cmUgdGhhdCBgc29tZVN5bWJvbCBpbnN0YW5jZW9mIFN5bWJvbGAgYWx3YXlzIHJldHVybiBmYWxzZVxuSGlkZGVuU3ltYm9sID0gZnVuY3Rpb24gU3ltYm9sKGRlc2NyaXB0aW9uKSB7XG5cdGlmICh0aGlzIGluc3RhbmNlb2YgSGlkZGVuU3ltYm9sKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3InKTtcblx0cmV0dXJuIFN5bWJvbFBvbHlmaWxsKGRlc2NyaXB0aW9uKTtcbn07XG5cbi8vIEV4cG9zZWQgYFN5bWJvbGAgY29uc3RydWN0b3Jcbi8vIChyZXR1cm5zIGluc3RhbmNlcyBvZiBIaWRkZW5TeW1ib2wpXG5tb2R1bGUuZXhwb3J0cyA9IFN5bWJvbFBvbHlmaWxsID0gZnVuY3Rpb24gU3ltYm9sKGRlc2NyaXB0aW9uKSB7XG5cdHZhciBzeW1ib2w7XG5cdGlmICh0aGlzIGluc3RhbmNlb2YgU3ltYm9sKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3InKTtcblx0aWYgKGlzTmF0aXZlU2FmZSkgcmV0dXJuIE5hdGl2ZVN5bWJvbChkZXNjcmlwdGlvbik7XG5cdHN5bWJvbCA9IGNyZWF0ZShIaWRkZW5TeW1ib2wucHJvdG90eXBlKTtcblx0ZGVzY3JpcHRpb24gPSAoZGVzY3JpcHRpb24gPT09IHVuZGVmaW5lZCA/ICcnIDogU3RyaW5nKGRlc2NyaXB0aW9uKSk7XG5cdHJldHVybiBkZWZpbmVQcm9wZXJ0aWVzKHN5bWJvbCwge1xuXHRcdF9fZGVzY3JpcHRpb25fXzogZCgnJywgZGVzY3JpcHRpb24pLFxuXHRcdF9fbmFtZV9fOiBkKCcnLCBnZW5lcmF0ZU5hbWUoZGVzY3JpcHRpb24pKVxuXHR9KTtcbn07XG5kZWZpbmVQcm9wZXJ0aWVzKFN5bWJvbFBvbHlmaWxsLCB7XG5cdGZvcjogZChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0aWYgKGdsb2JhbFN5bWJvbHNba2V5XSkgcmV0dXJuIGdsb2JhbFN5bWJvbHNba2V5XTtcblx0XHRyZXR1cm4gKGdsb2JhbFN5bWJvbHNba2V5XSA9IFN5bWJvbFBvbHlmaWxsKFN0cmluZyhrZXkpKSk7XG5cdH0pLFxuXHRrZXlGb3I6IGQoZnVuY3Rpb24gKHMpIHtcblx0XHR2YXIga2V5O1xuXHRcdHZhbGlkYXRlU3ltYm9sKHMpO1xuXHRcdGZvciAoa2V5IGluIGdsb2JhbFN5bWJvbHMpIGlmIChnbG9iYWxTeW1ib2xzW2tleV0gPT09IHMpIHJldHVybiBrZXk7XG5cdH0pLFxuXG5cdC8vIFRvIGVuc3VyZSBwcm9wZXIgaW50ZXJvcGVyYWJpbGl0eSB3aXRoIG90aGVyIG5hdGl2ZSBmdW5jdGlvbnMgKGUuZy4gQXJyYXkuZnJvbSlcblx0Ly8gZmFsbGJhY2sgdG8gZXZlbnR1YWwgbmF0aXZlIGltcGxlbWVudGF0aW9uIG9mIGdpdmVuIHN5bWJvbFxuXHRoYXNJbnN0YW5jZTogZCgnJywgKE5hdGl2ZVN5bWJvbCAmJiBOYXRpdmVTeW1ib2wuaGFzSW5zdGFuY2UpIHx8IFN5bWJvbFBvbHlmaWxsKCdoYXNJbnN0YW5jZScpKSxcblx0aXNDb25jYXRTcHJlYWRhYmxlOiBkKCcnLCAoTmF0aXZlU3ltYm9sICYmIE5hdGl2ZVN5bWJvbC5pc0NvbmNhdFNwcmVhZGFibGUpIHx8XG5cdFx0U3ltYm9sUG9seWZpbGwoJ2lzQ29uY2F0U3ByZWFkYWJsZScpKSxcblx0aXRlcmF0b3I6IGQoJycsIChOYXRpdmVTeW1ib2wgJiYgTmF0aXZlU3ltYm9sLml0ZXJhdG9yKSB8fCBTeW1ib2xQb2x5ZmlsbCgnaXRlcmF0b3InKSksXG5cdG1hdGNoOiBkKCcnLCAoTmF0aXZlU3ltYm9sICYmIE5hdGl2ZVN5bWJvbC5tYXRjaCkgfHwgU3ltYm9sUG9seWZpbGwoJ21hdGNoJykpLFxuXHRyZXBsYWNlOiBkKCcnLCAoTmF0aXZlU3ltYm9sICYmIE5hdGl2ZVN5bWJvbC5yZXBsYWNlKSB8fCBTeW1ib2xQb2x5ZmlsbCgncmVwbGFjZScpKSxcblx0c2VhcmNoOiBkKCcnLCAoTmF0aXZlU3ltYm9sICYmIE5hdGl2ZVN5bWJvbC5zZWFyY2gpIHx8IFN5bWJvbFBvbHlmaWxsKCdzZWFyY2gnKSksXG5cdHNwZWNpZXM6IGQoJycsIChOYXRpdmVTeW1ib2wgJiYgTmF0aXZlU3ltYm9sLnNwZWNpZXMpIHx8IFN5bWJvbFBvbHlmaWxsKCdzcGVjaWVzJykpLFxuXHRzcGxpdDogZCgnJywgKE5hdGl2ZVN5bWJvbCAmJiBOYXRpdmVTeW1ib2wuc3BsaXQpIHx8IFN5bWJvbFBvbHlmaWxsKCdzcGxpdCcpKSxcblx0dG9QcmltaXRpdmU6IGQoJycsIChOYXRpdmVTeW1ib2wgJiYgTmF0aXZlU3ltYm9sLnRvUHJpbWl0aXZlKSB8fCBTeW1ib2xQb2x5ZmlsbCgndG9QcmltaXRpdmUnKSksXG5cdHRvU3RyaW5nVGFnOiBkKCcnLCAoTmF0aXZlU3ltYm9sICYmIE5hdGl2ZVN5bWJvbC50b1N0cmluZ1RhZykgfHwgU3ltYm9sUG9seWZpbGwoJ3RvU3RyaW5nVGFnJykpLFxuXHR1bnNjb3BhYmxlczogZCgnJywgKE5hdGl2ZVN5bWJvbCAmJiBOYXRpdmVTeW1ib2wudW5zY29wYWJsZXMpIHx8IFN5bWJvbFBvbHlmaWxsKCd1bnNjb3BhYmxlcycpKVxufSk7XG5cbi8vIEludGVybmFsIHR3ZWFrcyBmb3IgcmVhbCBzeW1ib2wgcHJvZHVjZXJcbmRlZmluZVByb3BlcnRpZXMoSGlkZGVuU3ltYm9sLnByb3RvdHlwZSwge1xuXHRjb25zdHJ1Y3RvcjogZChTeW1ib2xQb2x5ZmlsbCksXG5cdHRvU3RyaW5nOiBkKCcnLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9fbmFtZV9fOyB9KVxufSk7XG5cbi8vIFByb3BlciBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGV4cG9zZWQgb24gU3ltYm9sLnByb3RvdHlwZVxuLy8gVGhleSB3b24ndCBiZSBhY2Nlc3NpYmxlIG9uIHByb2R1Y2VkIHN5bWJvbCBpbnN0YW5jZXMgYXMgdGhleSBkZXJpdmUgZnJvbSBIaWRkZW5TeW1ib2wucHJvdG90eXBlXG5kZWZpbmVQcm9wZXJ0aWVzKFN5bWJvbFBvbHlmaWxsLnByb3RvdHlwZSwge1xuXHR0b1N0cmluZzogZChmdW5jdGlvbiAoKSB7IHJldHVybiAnU3ltYm9sICgnICsgdmFsaWRhdGVTeW1ib2wodGhpcykuX19kZXNjcmlwdGlvbl9fICsgJyknOyB9KSxcblx0dmFsdWVPZjogZChmdW5jdGlvbiAoKSB7IHJldHVybiB2YWxpZGF0ZVN5bWJvbCh0aGlzKTsgfSlcbn0pO1xuZGVmaW5lUHJvcGVydHkoU3ltYm9sUG9seWZpbGwucHJvdG90eXBlLCBTeW1ib2xQb2x5ZmlsbC50b1ByaW1pdGl2ZSwgZCgnJywgZnVuY3Rpb24gKCkge1xuXHR2YXIgc3ltYm9sID0gdmFsaWRhdGVTeW1ib2wodGhpcyk7XG5cdGlmICh0eXBlb2Ygc3ltYm9sID09PSAnc3ltYm9sJykgcmV0dXJuIHN5bWJvbDtcblx0cmV0dXJuIHN5bWJvbC50b1N0cmluZygpO1xufSkpO1xuZGVmaW5lUHJvcGVydHkoU3ltYm9sUG9seWZpbGwucHJvdG90eXBlLCBTeW1ib2xQb2x5ZmlsbC50b1N0cmluZ1RhZywgZCgnYycsICdTeW1ib2wnKSk7XG5cbi8vIFByb3BlciBpbXBsZW1lbnRhdG9uIG9mIHRvUHJpbWl0aXZlIGFuZCB0b1N0cmluZ1RhZyBmb3IgcmV0dXJuZWQgc3ltYm9sIGluc3RhbmNlc1xuZGVmaW5lUHJvcGVydHkoSGlkZGVuU3ltYm9sLnByb3RvdHlwZSwgU3ltYm9sUG9seWZpbGwudG9TdHJpbmdUYWcsXG5cdGQoJ2MnLCBTeW1ib2xQb2x5ZmlsbC5wcm90b3R5cGVbU3ltYm9sUG9seWZpbGwudG9TdHJpbmdUYWddKSk7XG5cbi8vIE5vdGU6IEl0J3MgaW1wb3J0YW50IHRvIGRlZmluZSBgdG9QcmltaXRpdmVgIGFzIGxhc3Qgb25lLCBhcyBzb21lIGltcGxlbWVudGF0aW9uc1xuLy8gaW1wbGVtZW50IGB0b1ByaW1pdGl2ZWAgbmF0aXZlbHkgd2l0aG91dCBpbXBsZW1lbnRpbmcgYHRvU3RyaW5nVGFnYCAob3Igb3RoZXIgc3BlY2lmaWVkIHN5bWJvbHMpXG4vLyBBbmQgdGhhdCBtYXkgaW52b2tlIGVycm9yIGluIGRlZmluaXRpb24gZmxvdzpcbi8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL21lZGlrb28vZXM2LXN5bWJvbC9pc3N1ZXMvMTMjaXNzdWVjb21tZW50LTE2NDE0NjE0OVxuZGVmaW5lUHJvcGVydHkoSGlkZGVuU3ltYm9sLnByb3RvdHlwZSwgU3ltYm9sUG9seWZpbGwudG9QcmltaXRpdmUsXG5cdGQoJ2MnLCBTeW1ib2xQb2x5ZmlsbC5wcm90b3R5cGVbU3ltYm9sUG9seWZpbGwudG9QcmltaXRpdmVdKSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vZXM2LXN5bWJvbC9wb2x5ZmlsbC5qc1xuLy8gbW9kdWxlIGlkID0gNzBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaXNTeW1ib2wgPSByZXF1aXJlKCcuL2lzLXN5bWJvbCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRpZiAoIWlzU3ltYm9sKHZhbHVlKSkgdGhyb3cgbmV3IFR5cGVFcnJvcih2YWx1ZSArIFwiIGlzIG5vdCBhIHN5bWJvbFwiKTtcblx0cmV0dXJuIHZhbHVlO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9lczYtc3ltYm9sL3ZhbGlkYXRlLXN5bWJvbC5qc1xuLy8gbW9kdWxlIGlkID0gNzFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgZCAgICAgICAgPSByZXF1aXJlKCdkJylcbiAgLCBjYWxsYWJsZSA9IHJlcXVpcmUoJ2VzNS1leHQvb2JqZWN0L3ZhbGlkLWNhbGxhYmxlJylcblxuICAsIGFwcGx5ID0gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LCBjYWxsID0gRnVuY3Rpb24ucHJvdG90eXBlLmNhbGxcbiAgLCBjcmVhdGUgPSBPYmplY3QuY3JlYXRlLCBkZWZpbmVQcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eVxuICAsIGRlZmluZVByb3BlcnRpZXMgPSBPYmplY3QuZGVmaW5lUHJvcGVydGllc1xuICAsIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eVxuICAsIGRlc2NyaXB0b3IgPSB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlIH1cblxuICAsIG9uLCBvbmNlLCBvZmYsIGVtaXQsIG1ldGhvZHMsIGRlc2NyaXB0b3JzLCBiYXNlO1xuXG5vbiA9IGZ1bmN0aW9uICh0eXBlLCBsaXN0ZW5lcikge1xuXHR2YXIgZGF0YTtcblxuXHRjYWxsYWJsZShsaXN0ZW5lcik7XG5cblx0aWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMsICdfX2VlX18nKSkge1xuXHRcdGRhdGEgPSBkZXNjcmlwdG9yLnZhbHVlID0gY3JlYXRlKG51bGwpO1xuXHRcdGRlZmluZVByb3BlcnR5KHRoaXMsICdfX2VlX18nLCBkZXNjcmlwdG9yKTtcblx0XHRkZXNjcmlwdG9yLnZhbHVlID0gbnVsbDtcblx0fSBlbHNlIHtcblx0XHRkYXRhID0gdGhpcy5fX2VlX187XG5cdH1cblx0aWYgKCFkYXRhW3R5cGVdKSBkYXRhW3R5cGVdID0gbGlzdGVuZXI7XG5cdGVsc2UgaWYgKHR5cGVvZiBkYXRhW3R5cGVdID09PSAnb2JqZWN0JykgZGF0YVt0eXBlXS5wdXNoKGxpc3RlbmVyKTtcblx0ZWxzZSBkYXRhW3R5cGVdID0gW2RhdGFbdHlwZV0sIGxpc3RlbmVyXTtcblxuXHRyZXR1cm4gdGhpcztcbn07XG5cbm9uY2UgPSBmdW5jdGlvbiAodHlwZSwgbGlzdGVuZXIpIHtcblx0dmFyIG9uY2UsIHNlbGY7XG5cblx0Y2FsbGFibGUobGlzdGVuZXIpO1xuXHRzZWxmID0gdGhpcztcblx0b24uY2FsbCh0aGlzLCB0eXBlLCBvbmNlID0gZnVuY3Rpb24gKCkge1xuXHRcdG9mZi5jYWxsKHNlbGYsIHR5cGUsIG9uY2UpO1xuXHRcdGFwcGx5LmNhbGwobGlzdGVuZXIsIHRoaXMsIGFyZ3VtZW50cyk7XG5cdH0pO1xuXG5cdG9uY2UuX19lZU9uY2VMaXN0ZW5lcl9fID0gbGlzdGVuZXI7XG5cdHJldHVybiB0aGlzO1xufTtcblxub2ZmID0gZnVuY3Rpb24gKHR5cGUsIGxpc3RlbmVyKSB7XG5cdHZhciBkYXRhLCBsaXN0ZW5lcnMsIGNhbmRpZGF0ZSwgaTtcblxuXHRjYWxsYWJsZShsaXN0ZW5lcik7XG5cblx0aWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMsICdfX2VlX18nKSkgcmV0dXJuIHRoaXM7XG5cdGRhdGEgPSB0aGlzLl9fZWVfXztcblx0aWYgKCFkYXRhW3R5cGVdKSByZXR1cm4gdGhpcztcblx0bGlzdGVuZXJzID0gZGF0YVt0eXBlXTtcblxuXHRpZiAodHlwZW9mIGxpc3RlbmVycyA9PT0gJ29iamVjdCcpIHtcblx0XHRmb3IgKGkgPSAwOyAoY2FuZGlkYXRlID0gbGlzdGVuZXJzW2ldKTsgKytpKSB7XG5cdFx0XHRpZiAoKGNhbmRpZGF0ZSA9PT0gbGlzdGVuZXIpIHx8XG5cdFx0XHRcdFx0KGNhbmRpZGF0ZS5fX2VlT25jZUxpc3RlbmVyX18gPT09IGxpc3RlbmVyKSkge1xuXHRcdFx0XHRpZiAobGlzdGVuZXJzLmxlbmd0aCA9PT0gMikgZGF0YVt0eXBlXSA9IGxpc3RlbmVyc1tpID8gMCA6IDFdO1xuXHRcdFx0XHRlbHNlIGxpc3RlbmVycy5zcGxpY2UoaSwgMSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdGlmICgobGlzdGVuZXJzID09PSBsaXN0ZW5lcikgfHxcblx0XHRcdFx0KGxpc3RlbmVycy5fX2VlT25jZUxpc3RlbmVyX18gPT09IGxpc3RlbmVyKSkge1xuXHRcdFx0ZGVsZXRlIGRhdGFbdHlwZV07XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRoaXM7XG59O1xuXG5lbWl0ID0gZnVuY3Rpb24gKHR5cGUpIHtcblx0dmFyIGksIGwsIGxpc3RlbmVyLCBsaXN0ZW5lcnMsIGFyZ3M7XG5cblx0aWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMsICdfX2VlX18nKSkgcmV0dXJuO1xuXHRsaXN0ZW5lcnMgPSB0aGlzLl9fZWVfX1t0eXBlXTtcblx0aWYgKCFsaXN0ZW5lcnMpIHJldHVybjtcblxuXHRpZiAodHlwZW9mIGxpc3RlbmVycyA9PT0gJ29iamVjdCcpIHtcblx0XHRsID0gYXJndW1lbnRzLmxlbmd0aDtcblx0XHRhcmdzID0gbmV3IEFycmF5KGwgLSAxKTtcblx0XHRmb3IgKGkgPSAxOyBpIDwgbDsgKytpKSBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcblxuXHRcdGxpc3RlbmVycyA9IGxpc3RlbmVycy5zbGljZSgpO1xuXHRcdGZvciAoaSA9IDA7IChsaXN0ZW5lciA9IGxpc3RlbmVyc1tpXSk7ICsraSkge1xuXHRcdFx0YXBwbHkuY2FsbChsaXN0ZW5lciwgdGhpcywgYXJncyk7XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuXHRcdGNhc2UgMTpcblx0XHRcdGNhbGwuY2FsbChsaXN0ZW5lcnMsIHRoaXMpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAyOlxuXHRcdFx0Y2FsbC5jYWxsKGxpc3RlbmVycywgdGhpcywgYXJndW1lbnRzWzFdKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgMzpcblx0XHRcdGNhbGwuY2FsbChsaXN0ZW5lcnMsIHRoaXMsIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdKTtcblx0XHRcdGJyZWFrO1xuXHRcdGRlZmF1bHQ6XG5cdFx0XHRsID0gYXJndW1lbnRzLmxlbmd0aDtcblx0XHRcdGFyZ3MgPSBuZXcgQXJyYXkobCAtIDEpO1xuXHRcdFx0Zm9yIChpID0gMTsgaSA8IGw7ICsraSkge1xuXHRcdFx0XHRhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcblx0XHRcdH1cblx0XHRcdGFwcGx5LmNhbGwobGlzdGVuZXJzLCB0aGlzLCBhcmdzKTtcblx0XHR9XG5cdH1cbn07XG5cbm1ldGhvZHMgPSB7XG5cdG9uOiBvbixcblx0b25jZTogb25jZSxcblx0b2ZmOiBvZmYsXG5cdGVtaXQ6IGVtaXRcbn07XG5cbmRlc2NyaXB0b3JzID0ge1xuXHRvbjogZChvbiksXG5cdG9uY2U6IGQob25jZSksXG5cdG9mZjogZChvZmYpLFxuXHRlbWl0OiBkKGVtaXQpXG59O1xuXG5iYXNlID0gZGVmaW5lUHJvcGVydGllcyh7fSwgZGVzY3JpcHRvcnMpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBmdW5jdGlvbiAobykge1xuXHRyZXR1cm4gKG8gPT0gbnVsbCkgPyBjcmVhdGUoYmFzZSkgOiBkZWZpbmVQcm9wZXJ0aWVzKE9iamVjdChvKSwgZGVzY3JpcHRvcnMpO1xufTtcbmV4cG9ydHMubWV0aG9kcyA9IG1ldGhvZHM7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vZXZlbnQtZW1pdHRlci9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gNzJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdG9Qb3NJbnQgPSByZXF1aXJlKCdlczUtZXh0L251bWJlci90by1wb3MtaW50ZWdlcicpXG5cbiAgLCBjcmVhdGUgPSBPYmplY3QuY3JlYXRlLCBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpbWl0KSB7XG5cdHZhciBzaXplID0gMCwgYmFzZSA9IDEsIHF1ZXVlID0gY3JlYXRlKG51bGwpLCBtYXAgPSBjcmVhdGUobnVsbCksIGluZGV4ID0gMCwgZGVsO1xuXHRsaW1pdCA9IHRvUG9zSW50KGxpbWl0KTtcblx0cmV0dXJuIHtcblx0XHRoaXQ6IGZ1bmN0aW9uIChpZCkge1xuXHRcdFx0dmFyIG9sZEluZGV4ID0gbWFwW2lkXSwgbnVJbmRleCA9ICsraW5kZXg7XG5cdFx0XHRxdWV1ZVtudUluZGV4XSA9IGlkO1xuXHRcdFx0bWFwW2lkXSA9IG51SW5kZXg7XG5cdFx0XHRpZiAoIW9sZEluZGV4KSB7XG5cdFx0XHRcdCsrc2l6ZTtcblx0XHRcdFx0aWYgKHNpemUgPD0gbGltaXQpIHJldHVybjtcblx0XHRcdFx0aWQgPSBxdWV1ZVtiYXNlXTtcblx0XHRcdFx0ZGVsKGlkKTtcblx0XHRcdFx0cmV0dXJuIGlkO1xuXHRcdFx0fVxuXHRcdFx0ZGVsZXRlIHF1ZXVlW29sZEluZGV4XTtcblx0XHRcdGlmIChiYXNlICE9PSBvbGRJbmRleCkgcmV0dXJuO1xuXHRcdFx0d2hpbGUgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKHF1ZXVlLCArK2Jhc2UpKSBjb250aW51ZTsgLy9qc2xpbnQ6IHNraXBcblx0XHR9LFxuXHRcdGRlbGV0ZTogZGVsID0gZnVuY3Rpb24gKGlkKSB7XG5cdFx0XHR2YXIgb2xkSW5kZXggPSBtYXBbaWRdO1xuXHRcdFx0aWYgKCFvbGRJbmRleCkgcmV0dXJuO1xuXHRcdFx0ZGVsZXRlIHF1ZXVlW29sZEluZGV4XTtcblx0XHRcdGRlbGV0ZSBtYXBbaWRdO1xuXHRcdFx0LS1zaXplO1xuXHRcdFx0aWYgKGJhc2UgIT09IG9sZEluZGV4KSByZXR1cm47XG5cdFx0XHRpZiAoIXNpemUpIHtcblx0XHRcdFx0aW5kZXggPSAwO1xuXHRcdFx0XHRiYXNlID0gMTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0d2hpbGUgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKHF1ZXVlLCArK2Jhc2UpKSBjb250aW51ZTsgLy9qc2xpbnQ6IHNraXBcblx0XHR9LFxuXHRcdGNsZWFyOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRzaXplID0gMDtcblx0XHRcdGJhc2UgPSAxO1xuXHRcdFx0cXVldWUgPSBjcmVhdGUobnVsbCk7XG5cdFx0XHRtYXAgPSBjcmVhdGUobnVsbCk7XG5cdFx0XHRpbmRleCA9IDA7XG5cdFx0fVxuXHR9O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9scnUtcXVldWUvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDczXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIFN1cHBvcnQgZm9yIGFzeW5jaHJvbm91cyBmdW5jdGlvbnNcblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgYUZyb20gICAgICAgID0gcmVxdWlyZSgnZXM1LWV4dC9hcnJheS9mcm9tJylcbiAgLCBvYmplY3RNYXAgICAgPSByZXF1aXJlKCdlczUtZXh0L29iamVjdC9tYXAnKVxuICAsIG1peGluICAgICAgICA9IHJlcXVpcmUoJ2VzNS1leHQvb2JqZWN0L21peGluJylcbiAgLCBkZWZpbmVMZW5ndGggPSByZXF1aXJlKCdlczUtZXh0L2Z1bmN0aW9uL19kZWZpbmUtbGVuZ3RoJylcbiAgLCBuZXh0VGljayAgICAgPSByZXF1aXJlKCduZXh0LXRpY2snKVxuXG4gICwgc2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2VcbiAgLCBhcHBseSA9IEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseSwgY3JlYXRlID0gT2JqZWN0LmNyZWF0ZVxuICAsIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxucmVxdWlyZSgnLi4vbGliL3JlZ2lzdGVyZWQtZXh0ZW5zaW9ucycpLmFzeW5jID0gZnVuY3Rpb24gKHRiaSwgY29uZikge1xuXHR2YXIgd2FpdGluZyA9IGNyZWF0ZShudWxsKSwgY2FjaGUgPSBjcmVhdGUobnVsbClcblx0ICAsIGJhc2UgPSBjb25mLm1lbW9pemVkLCBvcmlnaW5hbCA9IGNvbmYub3JpZ2luYWxcblx0ICAsIGN1cnJlbnRDYWxsYmFjaywgY3VycmVudENvbnRleHQsIGN1cnJlbnRBcmdzO1xuXG5cdC8vIEluaXRpYWxcblx0Y29uZi5tZW1vaXplZCA9IGRlZmluZUxlbmd0aChmdW5jdGlvbiAoYXJnKSB7XG5cdFx0dmFyIGFyZ3MgPSBhcmd1bWVudHMsIGxhc3QgPSBhcmdzW2FyZ3MubGVuZ3RoIC0gMV07XG5cdFx0aWYgKHR5cGVvZiBsYXN0ID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRjdXJyZW50Q2FsbGJhY2sgPSBsYXN0O1xuXHRcdFx0YXJncyA9IHNsaWNlLmNhbGwoYXJncywgMCwgLTEpO1xuXHRcdH1cblx0XHRyZXR1cm4gYmFzZS5hcHBseShjdXJyZW50Q29udGV4dCA9IHRoaXMsIGN1cnJlbnRBcmdzID0gYXJncyk7XG5cdH0sIGJhc2UpO1xuXHR0cnkgeyBtaXhpbihjb25mLm1lbW9pemVkLCBiYXNlKTsgfSBjYXRjaCAoaWdub3JlKSB7fVxuXG5cdC8vIEZyb20gY2FjaGUgKHN5bmMpXG5cdGNvbmYub24oJ2dldCcsIGZ1bmN0aW9uIChpZCkge1xuXHRcdHZhciBjYiwgY29udGV4dCwgYXJncztcblx0XHRpZiAoIWN1cnJlbnRDYWxsYmFjaykgcmV0dXJuO1xuXG5cdFx0Ly8gVW5yZXNvbHZlZFxuXHRcdGlmICh3YWl0aW5nW2lkXSkge1xuXHRcdFx0aWYgKHR5cGVvZiB3YWl0aW5nW2lkXSA9PT0gJ2Z1bmN0aW9uJykgd2FpdGluZ1tpZF0gPSBbd2FpdGluZ1tpZF0sIGN1cnJlbnRDYWxsYmFja107XG5cdFx0XHRlbHNlIHdhaXRpbmdbaWRdLnB1c2goY3VycmVudENhbGxiYWNrKTtcblx0XHRcdGN1cnJlbnRDYWxsYmFjayA9IG51bGw7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gUmVzb2x2ZWQsIGFzc3VyZSBuZXh0IHRpY2sgaW52b2NhdGlvblxuXHRcdGNiID0gY3VycmVudENhbGxiYWNrO1xuXHRcdGNvbnRleHQgPSBjdXJyZW50Q29udGV4dDtcblx0XHRhcmdzID0gY3VycmVudEFyZ3M7XG5cdFx0Y3VycmVudENhbGxiYWNrID0gY3VycmVudENvbnRleHQgPSBjdXJyZW50QXJncyA9IG51bGw7XG5cdFx0bmV4dFRpY2soZnVuY3Rpb24gKCkge1xuXHRcdFx0dmFyIGRhdGE7XG5cdFx0XHRpZiAoaGFzT3duUHJvcGVydHkuY2FsbChjYWNoZSwgaWQpKSB7XG5cdFx0XHRcdGRhdGEgPSBjYWNoZVtpZF07XG5cdFx0XHRcdGNvbmYuZW1pdCgnZ2V0YXN5bmMnLCBpZCwgYXJncywgY29udGV4dCk7XG5cdFx0XHRcdGFwcGx5LmNhbGwoY2IsIGRhdGEuY29udGV4dCwgZGF0YS5hcmdzKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIFB1cmdlZCBpbiBhIG1lYW50aW1lLCB3ZSBzaG91bGRuJ3QgcmVseSBvbiBjYWNoZWQgdmFsdWUsIHJlY2FsbFxuXHRcdFx0XHRjdXJyZW50Q2FsbGJhY2sgPSBjYjtcblx0XHRcdFx0Y3VycmVudENvbnRleHQgPSBjb250ZXh0O1xuXHRcdFx0XHRjdXJyZW50QXJncyA9IGFyZ3M7XG5cdFx0XHRcdGJhc2UuYXBwbHkoY29udGV4dCwgYXJncyk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0pO1xuXG5cdC8vIE5vdCBmcm9tIGNhY2hlXG5cdGNvbmYub3JpZ2luYWwgPSBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIGFyZ3MsIGNiLCBvcmlnQ2IsIHJlc3VsdDtcblx0XHRpZiAoIWN1cnJlbnRDYWxsYmFjaykgcmV0dXJuIGFwcGx5LmNhbGwob3JpZ2luYWwsIHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0YXJncyA9IGFGcm9tKGFyZ3VtZW50cyk7XG5cdFx0Y2IgPSBmdW5jdGlvbiBzZWxmKGVycikge1xuXHRcdFx0dmFyIGNiLCBhcmdzLCBpZCA9IHNlbGYuaWQ7XG5cdFx0XHRpZiAoaWQgPT0gbnVsbCkge1xuXHRcdFx0XHQvLyBTaG91bGRuJ3QgaGFwcGVuLCBtZWFucyBhc3luYyBjYWxsYmFjayB3YXMgY2FsbGVkIHN5bmMgd2F5XG5cdFx0XHRcdG5leHRUaWNrKGFwcGx5LmJpbmQoc2VsZiwgdGhpcywgYXJndW1lbnRzKSk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdGRlbGV0ZSBzZWxmLmlkO1xuXHRcdFx0Y2IgPSB3YWl0aW5nW2lkXTtcblx0XHRcdGRlbGV0ZSB3YWl0aW5nW2lkXTtcblx0XHRcdGlmICghY2IpIHtcblx0XHRcdFx0Ly8gQWxyZWFkeSBwcm9jZXNzZWQsXG5cdFx0XHRcdC8vIG91dGNvbWUgb2YgcmFjZSBjb25kaXRpb246IGFzeW5jRm4oMSwgY2IpLCBhc3luY0ZuLmNsZWFyKCksIGFzeW5jRm4oMSwgY2IpXG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdGFyZ3MgPSBhRnJvbShhcmd1bWVudHMpO1xuXHRcdFx0aWYgKGNvbmYuaGFzKGlkKSkge1xuXHRcdFx0XHRpZiAoZXJyKSB7XG5cdFx0XHRcdFx0Y29uZi5kZWxldGUoaWQpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNhY2hlW2lkXSA9IHsgY29udGV4dDogdGhpcywgYXJnczogYXJncyB9O1xuXHRcdFx0XHRcdGNvbmYuZW1pdCgnc2V0YXN5bmMnLCBpZCwgKHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJykgPyAxIDogY2IubGVuZ3RoKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0aWYgKHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRyZXN1bHQgPSBhcHBseS5jYWxsKGNiLCB0aGlzLCBhcmdzKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNiLmZvckVhY2goZnVuY3Rpb24gKGNiKSB7IHJlc3VsdCA9IGFwcGx5LmNhbGwoY2IsIHRoaXMsIGFyZ3MpOyB9LCB0aGlzKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fTtcblx0XHRvcmlnQ2IgPSBjdXJyZW50Q2FsbGJhY2s7XG5cdFx0Y3VycmVudENhbGxiYWNrID0gY3VycmVudENvbnRleHQgPSBjdXJyZW50QXJncyA9IG51bGw7XG5cdFx0YXJncy5wdXNoKGNiKTtcblx0XHRyZXN1bHQgPSBhcHBseS5jYWxsKG9yaWdpbmFsLCB0aGlzLCBhcmdzKTtcblx0XHRjYi5jYiA9IG9yaWdDYjtcblx0XHRjdXJyZW50Q2FsbGJhY2sgPSBjYjtcblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9O1xuXG5cdC8vIEFmdGVyIG5vdCBmcm9tIGNhY2hlIGNhbGxcblx0Y29uZi5vbignc2V0JywgZnVuY3Rpb24gKGlkKSB7XG5cdFx0aWYgKCFjdXJyZW50Q2FsbGJhY2spIHtcblx0XHRcdGNvbmYuZGVsZXRlKGlkKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0aWYgKHdhaXRpbmdbaWRdKSB7XG5cdFx0XHQvLyBSYWNlIGNvbmRpdGlvbjogYXN5bmNGbigxLCBjYiksIGFzeW5jRm4uY2xlYXIoKSwgYXN5bmNGbigxLCBjYilcblx0XHRcdGlmICh0eXBlb2Ygd2FpdGluZ1tpZF0gPT09ICdmdW5jdGlvbicpIHdhaXRpbmdbaWRdID0gW3dhaXRpbmdbaWRdLCBjdXJyZW50Q2FsbGJhY2suY2JdO1xuXHRcdFx0ZWxzZSB3YWl0aW5nW2lkXS5wdXNoKGN1cnJlbnRDYWxsYmFjay5jYik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHdhaXRpbmdbaWRdID0gY3VycmVudENhbGxiYWNrLmNiO1xuXHRcdH1cblx0XHRkZWxldGUgY3VycmVudENhbGxiYWNrLmNiO1xuXHRcdGN1cnJlbnRDYWxsYmFjay5pZCA9IGlkO1xuXHRcdGN1cnJlbnRDYWxsYmFjayA9IG51bGw7XG5cdH0pO1xuXG5cdC8vIE9uIGRlbGV0ZVxuXHRjb25mLm9uKCdkZWxldGUnLCBmdW5jdGlvbiAoaWQpIHtcblx0XHR2YXIgcmVzdWx0O1xuXHRcdC8vIElmIGZhbHNlLCB3ZSBkb24ndCBoYXZlIHZhbHVlIHlldCwgc28gd2UgYXNzdW1lIHRoYXQgaW50ZW50aW9uIGlzIG5vdFxuXHRcdC8vIHRvIG1lbW9pemUgdGhpcyBjYWxsLiBBZnRlciB2YWx1ZSBpcyBvYnRhaW5lZCB3ZSBkb24ndCBjYWNoZSBpdCBidXRcblx0XHQvLyBncmFjZWZ1bGx5IHBhc3MgdG8gY2FsbGJhY2tcblx0XHRpZiAoaGFzT3duUHJvcGVydHkuY2FsbCh3YWl0aW5nLCBpZCkpIHJldHVybjtcblx0XHRpZiAoIWNhY2hlW2lkXSkgcmV0dXJuO1xuXHRcdHJlc3VsdCA9IGNhY2hlW2lkXTtcblx0XHRkZWxldGUgY2FjaGVbaWRdO1xuXHRcdGNvbmYuZW1pdCgnZGVsZXRlYXN5bmMnLCBpZCwgc2xpY2UuY2FsbChyZXN1bHQuYXJncywgMSkpO1xuXHR9KTtcblxuXHQvLyBPbiBjbGVhclxuXHRjb25mLm9uKCdjbGVhcicsIGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgb2xkQ2FjaGUgPSBjYWNoZTtcblx0XHRjYWNoZSA9IGNyZWF0ZShudWxsKTtcblx0XHRjb25mLmVtaXQoJ2NsZWFyYXN5bmMnLCBvYmplY3RNYXAob2xkQ2FjaGUsIGZ1bmN0aW9uIChkYXRhKSB7XG5cdFx0XHRyZXR1cm4gc2xpY2UuY2FsbChkYXRhLmFyZ3MsIDEpO1xuXHRcdH0pKTtcblx0fSk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L21lbW9pemVlL2V4dC9hc3luYy5qc1xuLy8gbW9kdWxlIGlkID0gNzRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gQ2FsbCBkaXNwb3NlIGNhbGxiYWNrIG9uIGVhY2ggY2FjaGUgcHVyZ2VcblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgY2FsbGFibGUgICA9IHJlcXVpcmUoJ2VzNS1leHQvb2JqZWN0L3ZhbGlkLWNhbGxhYmxlJylcbiAgLCBmb3JFYWNoICAgID0gcmVxdWlyZSgnZXM1LWV4dC9vYmplY3QvZm9yLWVhY2gnKVxuICAsIGV4dGVuc2lvbnMgPSByZXF1aXJlKCcuLi9saWIvcmVnaXN0ZXJlZC1leHRlbnNpb25zJylcblxuICAsIGFwcGx5ID0gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5O1xuXG5leHRlbnNpb25zLmRpc3Bvc2UgPSBmdW5jdGlvbiAoZGlzcG9zZSwgY29uZiwgb3B0aW9ucykge1xuXHR2YXIgZGVsO1xuXHRjYWxsYWJsZShkaXNwb3NlKTtcblx0aWYgKChvcHRpb25zLmFzeW5jICYmIGV4dGVuc2lvbnMuYXN5bmMpIHx8IChvcHRpb25zLnByb21pc2UgJiYgZXh0ZW5zaW9ucy5wcm9taXNlKSkge1xuXHRcdGNvbmYub24oJ2RlbGV0ZWFzeW5jJywgZGVsID0gZnVuY3Rpb24gKGlkLCByZXN1bHRBcnJheSkge1xuXHRcdFx0YXBwbHkuY2FsbChkaXNwb3NlLCBudWxsLCByZXN1bHRBcnJheSk7XG5cdFx0fSk7XG5cdFx0Y29uZi5vbignY2xlYXJhc3luYycsIGZ1bmN0aW9uIChjYWNoZSkge1xuXHRcdFx0Zm9yRWFjaChjYWNoZSwgZnVuY3Rpb24gKHJlc3VsdCwgaWQpIHsgZGVsKGlkLCByZXN1bHQpOyB9KTtcblx0XHR9KTtcblx0XHRyZXR1cm47XG5cdH1cblx0Y29uZi5vbignZGVsZXRlJywgZGVsID0gZnVuY3Rpb24gKGlkLCByZXN1bHQpIHsgZGlzcG9zZShyZXN1bHQpOyB9KTtcblx0Y29uZi5vbignY2xlYXInLCBmdW5jdGlvbiAoY2FjaGUpIHtcblx0XHRmb3JFYWNoKGNhY2hlLCBmdW5jdGlvbiAocmVzdWx0LCBpZCkgeyBkZWwoaWQsIHJlc3VsdCk7IH0pO1xuXHR9KTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbWVtb2l6ZWUvZXh0L2Rpc3Bvc2UuanNcbi8vIG1vZHVsZSBpZCA9IDc1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIFRpbWVvdXQgY2FjaGVkIHZhbHVlc1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBhRnJvbSAgICAgID0gcmVxdWlyZSgnZXM1LWV4dC9hcnJheS9mcm9tJylcbiAgLCBmb3JFYWNoICAgID0gcmVxdWlyZSgnZXM1LWV4dC9vYmplY3QvZm9yLWVhY2gnKVxuICAsIG5leHRUaWNrICAgPSByZXF1aXJlKCduZXh0LXRpY2snKVxuICAsIGlzUHJvbWlzZSAgPSByZXF1aXJlKCdpcy1wcm9taXNlJylcbiAgLCB0aW1lb3V0ICAgID0gcmVxdWlyZSgndGltZXJzLWV4dC92YWxpZC10aW1lb3V0JylcbiAgLCBleHRlbnNpb25zID0gcmVxdWlyZSgnLi4vbGliL3JlZ2lzdGVyZWQtZXh0ZW5zaW9ucycpXG5cbiAgLCBub29wID0gRnVuY3Rpb24ucHJvdG90eXBlXG4gICwgbWF4ID0gTWF0aC5tYXgsIG1pbiA9IE1hdGgubWluLCBjcmVhdGUgPSBPYmplY3QuY3JlYXRlO1xuXG5leHRlbnNpb25zLm1heEFnZSA9IGZ1bmN0aW9uIChtYXhBZ2UsIGNvbmYsIG9wdGlvbnMpIHtcblx0dmFyIHRpbWVvdXRzLCBwb3N0Zml4LCBwcmVGZXRjaEFnZSwgcHJlRmV0Y2hUaW1lb3V0cztcblxuXHRtYXhBZ2UgPSB0aW1lb3V0KG1heEFnZSk7XG5cdGlmICghbWF4QWdlKSByZXR1cm47XG5cblx0dGltZW91dHMgPSBjcmVhdGUobnVsbCk7XG5cdHBvc3RmaXggPSAoKG9wdGlvbnMuYXN5bmMgJiYgZXh0ZW5zaW9ucy5hc3luYykgfHwgKG9wdGlvbnMucHJvbWlzZSAmJiBleHRlbnNpb25zLnByb21pc2UpKVxuXHRcdD8gJ2FzeW5jJyA6ICcnO1xuXHRjb25mLm9uKCdzZXQnICsgcG9zdGZpeCwgZnVuY3Rpb24gKGlkKSB7XG5cdFx0dGltZW91dHNbaWRdID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IGNvbmYuZGVsZXRlKGlkKTsgfSwgbWF4QWdlKTtcblx0XHRpZiAoIXByZUZldGNoVGltZW91dHMpIHJldHVybjtcblx0XHRpZiAocHJlRmV0Y2hUaW1lb3V0c1tpZF0pIHtcblx0XHRcdGlmIChwcmVGZXRjaFRpbWVvdXRzW2lkXSAhPT0gJ25leHRUaWNrJykgY2xlYXJUaW1lb3V0KHByZUZldGNoVGltZW91dHNbaWRdKTtcblx0XHR9XG5cdFx0cHJlRmV0Y2hUaW1lb3V0c1tpZF0gPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0XHRcdGRlbGV0ZSBwcmVGZXRjaFRpbWVvdXRzW2lkXTtcblx0XHR9LCBwcmVGZXRjaEFnZSk7XG5cdH0pO1xuXHRjb25mLm9uKCdkZWxldGUnICsgcG9zdGZpeCwgZnVuY3Rpb24gKGlkKSB7XG5cdFx0Y2xlYXJUaW1lb3V0KHRpbWVvdXRzW2lkXSk7XG5cdFx0ZGVsZXRlIHRpbWVvdXRzW2lkXTtcblx0XHRpZiAoIXByZUZldGNoVGltZW91dHMpIHJldHVybjtcblx0XHRpZiAocHJlRmV0Y2hUaW1lb3V0c1tpZF0gIT09ICduZXh0VGljaycpIGNsZWFyVGltZW91dChwcmVGZXRjaFRpbWVvdXRzW2lkXSk7XG5cdFx0ZGVsZXRlIHByZUZldGNoVGltZW91dHNbaWRdO1xuXHR9KTtcblxuXHRpZiAob3B0aW9ucy5wcmVGZXRjaCkge1xuXHRcdGlmICgob3B0aW9ucy5wcmVGZXRjaCA9PT0gdHJ1ZSkgfHwgaXNOYU4ob3B0aW9ucy5wcmVGZXRjaCkpIHtcblx0XHRcdHByZUZldGNoQWdlID0gMC4zMzM7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHByZUZldGNoQWdlID0gbWF4KG1pbihOdW1iZXIob3B0aW9ucy5wcmVGZXRjaCksIDEpLCAwKTtcblx0XHR9XG5cdFx0aWYgKHByZUZldGNoQWdlKSB7XG5cdFx0XHRwcmVGZXRjaFRpbWVvdXRzID0ge307XG5cdFx0XHRwcmVGZXRjaEFnZSA9ICgxIC0gcHJlRmV0Y2hBZ2UpICogbWF4QWdlO1xuXHRcdFx0Y29uZi5vbignZ2V0JyArIHBvc3RmaXgsIGZ1bmN0aW9uIChpZCwgYXJncywgY29udGV4dCkge1xuXHRcdFx0XHRpZiAoIXByZUZldGNoVGltZW91dHNbaWRdKSB7XG5cdFx0XHRcdFx0cHJlRmV0Y2hUaW1lb3V0c1tpZF0gPSAnbmV4dFRpY2snO1xuXHRcdFx0XHRcdG5leHRUaWNrKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdHZhciByZXN1bHQ7XG5cdFx0XHRcdFx0XHRpZiAocHJlRmV0Y2hUaW1lb3V0c1tpZF0gIT09ICduZXh0VGljaycpIHJldHVybjtcblx0XHRcdFx0XHRcdGRlbGV0ZSBwcmVGZXRjaFRpbWVvdXRzW2lkXTtcblx0XHRcdFx0XHRcdGNvbmYuZGVsZXRlKGlkKTtcblx0XHRcdFx0XHRcdGlmIChvcHRpb25zLmFzeW5jKSB7XG5cdFx0XHRcdFx0XHRcdGFyZ3MgPSBhRnJvbShhcmdzKTtcblx0XHRcdFx0XHRcdFx0YXJncy5wdXNoKG5vb3ApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cmVzdWx0ID0gY29uZi5tZW1vaXplZC5hcHBseShjb250ZXh0LCBhcmdzKTtcblx0XHRcdFx0XHRcdGlmIChvcHRpb25zLnByb21pc2UpIHtcblx0XHRcdFx0XHRcdFx0Ly8gU3VwcmVzcyBldmVudHVhbCBlcnJvciB3YXJuaW5nc1xuXHRcdFx0XHRcdFx0XHRpZiAoaXNQcm9taXNlKHJlc3VsdCkpIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAodHlwZW9mIHJlc3VsdC5kb25lID09PSAnZnVuY3Rpb24nKSByZXN1bHQuZG9uZShub29wLCBub29wKTtcblx0XHRcdFx0XHRcdFx0XHRlbHNlIHJlc3VsdC50aGVuKG5vb3AsIG5vb3ApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdGNvbmYub24oJ2NsZWFyJyArIHBvc3RmaXgsIGZ1bmN0aW9uICgpIHtcblx0XHRmb3JFYWNoKHRpbWVvdXRzLCBmdW5jdGlvbiAoaWQpIHsgY2xlYXJUaW1lb3V0KGlkKTsgfSk7XG5cdFx0dGltZW91dHMgPSB7fTtcblx0XHRpZiAocHJlRmV0Y2hUaW1lb3V0cykge1xuXHRcdFx0Zm9yRWFjaChwcmVGZXRjaFRpbWVvdXRzLCBmdW5jdGlvbiAoaWQpIHtcblx0XHRcdFx0aWYgKGlkICE9PSAnbmV4dFRpY2snKSBjbGVhclRpbWVvdXQoaWQpO1xuXHRcdFx0fSk7XG5cdFx0XHRwcmVGZXRjaFRpbWVvdXRzID0ge307XG5cdFx0fVxuXHR9KTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbWVtb2l6ZWUvZXh0L21heC1hZ2UuanNcbi8vIG1vZHVsZSBpZCA9IDc2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIExpbWl0IGNhY2hlIHNpemUsIExSVSAobGVhc3QgcmVjZW50bHkgdXNlZCkgYWxnb3JpdGhtLlxuXG4ndXNlIHN0cmljdCc7XG5cbnZhciB0b1Bvc0ludGVnZXIgPSByZXF1aXJlKCdlczUtZXh0L251bWJlci90by1wb3MtaW50ZWdlcicpXG4gICwgbHJ1UXVldWUgICAgID0gcmVxdWlyZSgnbHJ1LXF1ZXVlJylcbiAgLCBleHRlbnNpb25zICAgPSByZXF1aXJlKCcuLi9saWIvcmVnaXN0ZXJlZC1leHRlbnNpb25zJyk7XG5cbmV4dGVuc2lvbnMubWF4ID0gZnVuY3Rpb24gKG1heCwgY29uZiwgb3B0aW9ucykge1xuXHR2YXIgcG9zdGZpeCwgcXVldWUsIGhpdDtcblxuXHRtYXggPSB0b1Bvc0ludGVnZXIobWF4KTtcblx0aWYgKCFtYXgpIHJldHVybjtcblxuXHRxdWV1ZSA9IGxydVF1ZXVlKG1heCk7XG5cdHBvc3RmaXggPSAoKG9wdGlvbnMuYXN5bmMgJiYgZXh0ZW5zaW9ucy5hc3luYykgfHwgKG9wdGlvbnMucHJvbWlzZSAmJiBleHRlbnNpb25zLnByb21pc2UpKVxuXHRcdD8gJ2FzeW5jJyA6ICcnO1xuXG5cdGNvbmYub24oJ3NldCcgKyBwb3N0Zml4LCBoaXQgPSBmdW5jdGlvbiAoaWQpIHtcblx0XHRpZCA9IHF1ZXVlLmhpdChpZCk7XG5cdFx0aWYgKGlkID09PSB1bmRlZmluZWQpIHJldHVybjtcblx0XHRjb25mLmRlbGV0ZShpZCk7XG5cdH0pO1xuXHRjb25mLm9uKCdnZXQnICsgcG9zdGZpeCwgaGl0KTtcblx0Y29uZi5vbignZGVsZXRlJyArIHBvc3RmaXgsIHF1ZXVlLmRlbGV0ZSk7XG5cdGNvbmYub24oJ2NsZWFyJyArIHBvc3RmaXgsIHF1ZXVlLmNsZWFyKTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbWVtb2l6ZWUvZXh0L21heC5qc1xuLy8gbW9kdWxlIGlkID0gNzdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gU3VwcG9ydCBmb3IgZnVuY3Rpb25zIHJldHVybmluZyBwcm9taXNlXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIG9iamVjdE1hcCA9IHJlcXVpcmUoJ2VzNS1leHQvb2JqZWN0L21hcCcpXG4gICwgaXNQcm9taXNlID0gcmVxdWlyZSgnaXMtcHJvbWlzZScpXG4gICwgbmV4dFRpY2sgID0gcmVxdWlyZSgnbmV4dC10aWNrJylcblxuICAsIGNyZWF0ZSA9IE9iamVjdC5jcmVhdGUsIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxucmVxdWlyZSgnLi4vbGliL3JlZ2lzdGVyZWQtZXh0ZW5zaW9ucycpLnByb21pc2UgPSBmdW5jdGlvbiAobW9kZSwgY29uZikge1xuXHR2YXIgd2FpdGluZyA9IGNyZWF0ZShudWxsKSwgY2FjaGUgPSBjcmVhdGUobnVsbCksIHByb21pc2VzID0gY3JlYXRlKG51bGwpO1xuXG5cdC8vIEFmdGVyIG5vdCBmcm9tIGNhY2hlIGNhbGxcblx0Y29uZi5vbignc2V0JywgZnVuY3Rpb24gKGlkLCBpZ25vcmUsIHByb21pc2UpIHtcblx0XHR2YXIgaXNGYWlsZWQgPSBmYWxzZTtcblxuXHRcdGlmICghaXNQcm9taXNlKHByb21pc2UpKSB7XG5cdFx0XHQvLyBOb24gcHJvbWlzZSByZXN1bHRcblx0XHRcdGNhY2hlW2lkXSA9IHByb21pc2U7XG5cdFx0XHRjb25mLmVtaXQoJ3NldGFzeW5jJywgaWQsIDEpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHR3YWl0aW5nW2lkXSA9IDE7XG5cdFx0cHJvbWlzZXNbaWRdID0gcHJvbWlzZTtcblx0XHR2YXIgb25TdWNjZXNzID0gZnVuY3Rpb24gKHJlc3VsdCkge1xuXHRcdFx0dmFyIGNvdW50ID0gd2FpdGluZ1tpZF07XG5cdFx0XHRpZiAoaXNGYWlsZWQpIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiTWVtb2l6ZWUgZXJyb3I6IFByb21pc2UgcmVzb2x2ZWQgd2l0aCBib3RoIGZhaWx1cmUgYW5kIHN1Y2Nlc3MsXCIgK1xuXHRcdFx0XHRcdFwiIHRoaXMgY2FuIGJlIHJlc3VsdCBvZiB1bm9yZGVyZWQgZG9uZSAmIGZpbmFsbHkgcmVzb2x1dGlvbi5cXG5cIiArXG5cdFx0XHRcdFx0XCJJbnN0ZWFkIG9mIGBwcm9taXNlOiB0cnVlYCBjb25zaWRlciBjb25maWd1cmluZyBtZW1vaXphdGlvbiB2aWEgYHByb21pc2U6ICd0aGVuJ2Agb3IgXCIgK1xuXHRcdFx0XHRcdFwiYHByb21pc2U6ICdkb25lJ1wiKTtcblx0XHRcdH1cblx0XHRcdGlmICghY291bnQpIHJldHVybjsgLy8gZGVsZXRlZCBmcm9tIGNhY2hlIGJlZm9yZSByZXNvbHZlZFxuXHRcdFx0ZGVsZXRlIHdhaXRpbmdbaWRdO1xuXHRcdFx0Y2FjaGVbaWRdID0gcmVzdWx0O1xuXHRcdFx0Y29uZi5lbWl0KCdzZXRhc3luYycsIGlkLCBjb3VudCk7XG5cdFx0fTtcblx0XHR2YXIgb25GYWlsdXJlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0aXNGYWlsZWQgPSB0cnVlO1xuXHRcdFx0aWYgKCF3YWl0aW5nW2lkXSkgcmV0dXJuOyAvLyBkZWxldGVkIGZyb20gY2FjaGUgKG9yIHN1Y2NlZWQgaW4gY2FzZSBvZiBmaW5hbGx5KVxuXHRcdFx0ZGVsZXRlIHdhaXRpbmdbaWRdO1xuXHRcdFx0ZGVsZXRlIHByb21pc2VzW2lkXTtcblx0XHRcdGNvbmYuZGVsZXRlKGlkKTtcblx0XHR9O1xuXG5cdFx0aWYgKChtb2RlICE9PSAndGhlbicpICYmICh0eXBlb2YgcHJvbWlzZS5kb25lID09PSAnZnVuY3Rpb24nKSkge1xuXHRcdFx0Ly8gT3B0aW1hbCBwcm9taXNlIHJlc29sdXRpb25cblx0XHRcdGlmICgobW9kZSAhPT0gJ2RvbmUnKSAmJiAodHlwZW9mIHByb21pc2UuZmluYWxseSA9PT0gJ2Z1bmN0aW9uJykpIHtcblx0XHRcdFx0Ly8gVXNlICdmaW5hbGx5JyB0byBub3QgcmVnaXN0ZXIgZXJyb3IgaGFuZGxpbmcgKHN0aWxsIHByb3BlciBiZWhhdmlvciBpcyBzdWJqZWN0IHRvXG5cdFx0XHRcdC8vIHVzZWQgaW1wbGVtZW50YXRpb24sIGlmIGxpYnJhcnkgdGhyb3dzIHVuY29uZGl0aW9uYWxseSBldmVuIG9uIGhhbmRsZWQgZXJyb3JzXG5cdFx0XHRcdC8vIHN3aXRjaCB0byAndGhlbicgbW9kZSlcblx0XHRcdFx0cHJvbWlzZS5kb25lKG9uU3VjY2Vzcyk7XG5cdFx0XHRcdHByb21pc2UuZmluYWxseShvbkZhaWx1cmUpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gV2l0aCBubyBgZmluYWxseWAgc2lkZSBlZmZlY3QgaXMgdGhhdCBpdCBtdXRlcyBhbnkgZXZlbnR1YWxcblx0XHRcdFx0Ly8gXCJVbmhhbmRsZWQgZXJyb3JcIiBldmVudHMgb24gcmV0dXJuZWQgcHJvbWlzZVxuXHRcdFx0XHRwcm9taXNlLmRvbmUob25TdWNjZXNzLCBvbkZhaWx1cmUpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBXaXRoIG5vIGBkb25lYCBpdCdzIGJlc3Qgd2UgY2FuIGRvLlxuXHRcdFx0Ly8gU2lkZSBlZmZlY3QgaXMgdGhhdCBpdCBtdXRlcyBhbnkgZXZlbnR1YWwgXCJVbmhhbmRsZWQgZXJyb3JcIiBldmVudHMgb24gcmV0dXJuZWQgcHJvbWlzZVxuXHRcdFx0cHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcblx0XHRcdFx0bmV4dFRpY2sob25TdWNjZXNzLmJpbmQodGhpcywgcmVzdWx0KSk7XG5cdFx0XHR9LCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdG5leHRUaWNrKG9uRmFpbHVyZSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH0pO1xuXG5cdC8vIEZyb20gY2FjaGUgKHN5bmMpXG5cdGNvbmYub24oJ2dldCcsIGZ1bmN0aW9uIChpZCwgYXJncywgY29udGV4dCkge1xuXHRcdHZhciBwcm9taXNlO1xuXHRcdGlmICh3YWl0aW5nW2lkXSkge1xuXHRcdFx0Kyt3YWl0aW5nW2lkXTsgLy8gU3RpbGwgd2FpdGluZ1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRwcm9taXNlID0gcHJvbWlzZXNbaWRdO1xuXHRcdHZhciBlbWl0ID0gZnVuY3Rpb24gKCkgeyBjb25mLmVtaXQoJ2dldGFzeW5jJywgaWQsIGFyZ3MsIGNvbnRleHQpOyB9O1xuXHRcdGlmIChpc1Byb21pc2UocHJvbWlzZSkpIHtcblx0XHRcdGlmICh0eXBlb2YgcHJvbWlzZS5kb25lID09PSAnZnVuY3Rpb24nKSBwcm9taXNlLmRvbmUoZW1pdCk7XG5cdFx0XHRlbHNlIHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7IG5leHRUaWNrKGVtaXQpOyB9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZW1pdCgpO1xuXHRcdH1cblx0fSk7XG5cblx0Ly8gT24gZGVsZXRlXG5cdGNvbmYub24oJ2RlbGV0ZScsIGZ1bmN0aW9uIChpZCkge1xuXHRcdGRlbGV0ZSBwcm9taXNlc1tpZF07XG5cdFx0aWYgKHdhaXRpbmdbaWRdKSB7XG5cdFx0XHRkZWxldGUgd2FpdGluZ1tpZF07XG5cdFx0XHRyZXR1cm47IC8vIE5vdCB5ZXQgcmVzb2x2ZWRcblx0XHR9XG5cdFx0aWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKGNhY2hlLCBpZCkpIHJldHVybjtcblx0XHR2YXIgcmVzdWx0ID0gY2FjaGVbaWRdO1xuXHRcdGRlbGV0ZSBjYWNoZVtpZF07XG5cdFx0Y29uZi5lbWl0KCdkZWxldGVhc3luYycsIGlkLCBbcmVzdWx0XSk7XG5cdH0pO1xuXG5cdC8vIE9uIGNsZWFyXG5cdGNvbmYub24oJ2NsZWFyJywgZnVuY3Rpb24gKCkge1xuXHRcdHZhciBvbGRDYWNoZSA9IGNhY2hlO1xuXHRcdGNhY2hlID0gY3JlYXRlKG51bGwpO1xuXHRcdHdhaXRpbmcgPSBjcmVhdGUobnVsbCk7XG5cdFx0cHJvbWlzZXMgPSBjcmVhdGUobnVsbCk7XG5cdFx0Y29uZi5lbWl0KCdjbGVhcmFzeW5jJywgb2JqZWN0TWFwKG9sZENhY2hlLCBmdW5jdGlvbiAoZGF0YSkgeyByZXR1cm4gW2RhdGFdOyB9KSk7XG5cdH0pO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tZW1vaXplZS9leHQvcHJvbWlzZS5qc1xuLy8gbW9kdWxlIGlkID0gNzhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gUmVmZXJlbmNlIGNvdW50ZXIsIHVzZWZ1bCBmb3IgZ2FyYmFnZSBjb2xsZWN0b3IgbGlrZSBmdW5jdGlvbmFsaXR5XG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGQgICAgICAgICAgPSByZXF1aXJlKCdkJylcbiAgLCBleHRlbnNpb25zID0gcmVxdWlyZSgnLi4vbGliL3JlZ2lzdGVyZWQtZXh0ZW5zaW9ucycpXG5cbiAgLCBjcmVhdGUgPSBPYmplY3QuY3JlYXRlLCBkZWZpbmVQcm9wZXJ0aWVzID0gT2JqZWN0LmRlZmluZVByb3BlcnRpZXM7XG5cbmV4dGVuc2lvbnMucmVmQ291bnRlciA9IGZ1bmN0aW9uIChpZ25vcmUsIGNvbmYsIG9wdGlvbnMpIHtcblx0dmFyIGNhY2hlLCBwb3N0Zml4O1xuXG5cdGNhY2hlID0gY3JlYXRlKG51bGwpO1xuXHRwb3N0Zml4ID0gKChvcHRpb25zLmFzeW5jICYmIGV4dGVuc2lvbnMuYXN5bmMpIHx8IChvcHRpb25zLnByb21pc2UgJiYgZXh0ZW5zaW9ucy5wcm9taXNlKSlcblx0XHQ/ICdhc3luYycgOiAnJztcblxuXHRjb25mLm9uKCdzZXQnICsgcG9zdGZpeCwgZnVuY3Rpb24gKGlkLCBsZW5ndGgpIHsgY2FjaGVbaWRdID0gbGVuZ3RoIHx8IDE7IH0pO1xuXHRjb25mLm9uKCdnZXQnICsgcG9zdGZpeCwgZnVuY3Rpb24gKGlkKSB7ICsrY2FjaGVbaWRdOyB9KTtcblx0Y29uZi5vbignZGVsZXRlJyArIHBvc3RmaXgsIGZ1bmN0aW9uIChpZCkgeyBkZWxldGUgY2FjaGVbaWRdOyB9KTtcblx0Y29uZi5vbignY2xlYXInICsgcG9zdGZpeCwgZnVuY3Rpb24gKCkgeyBjYWNoZSA9IHt9OyB9KTtcblxuXHRkZWZpbmVQcm9wZXJ0aWVzKGNvbmYubWVtb2l6ZWQsIHtcblx0XHRkZWxldGVSZWY6IGQoZnVuY3Rpb24gKCkge1xuXHRcdFx0dmFyIGlkID0gY29uZi5nZXQoYXJndW1lbnRzKTtcblx0XHRcdGlmIChpZCA9PT0gbnVsbCkgcmV0dXJuIG51bGw7XG5cdFx0XHRpZiAoIWNhY2hlW2lkXSkgcmV0dXJuIG51bGw7XG5cdFx0XHRpZiAoIS0tY2FjaGVbaWRdKSB7XG5cdFx0XHRcdGNvbmYuZGVsZXRlKGlkKTtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fSksXG5cdFx0Z2V0UmVmQ291bnQ6IGQoZnVuY3Rpb24gKCkge1xuXHRcdFx0dmFyIGlkID0gY29uZi5nZXQoYXJndW1lbnRzKTtcblx0XHRcdGlmIChpZCA9PT0gbnVsbCkgcmV0dXJuIDA7XG5cdFx0XHRpZiAoIWNhY2hlW2lkXSkgcmV0dXJuIDA7XG5cdFx0XHRyZXR1cm4gY2FjaGVbaWRdO1xuXHRcdH0pXG5cdH0pO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tZW1vaXplZS9leHQvcmVmLWNvdW50ZXIuanNcbi8vIG1vZHVsZSBpZCA9IDc5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxudmFyIG5vcm1hbGl6ZU9wdHMgPSByZXF1aXJlKCdlczUtZXh0L29iamVjdC9ub3JtYWxpemUtb3B0aW9ucycpXG4gICwgcmVzb2x2ZUxlbmd0aCA9IHJlcXVpcmUoJy4vbGliL3Jlc29sdmUtbGVuZ3RoJylcbiAgLCBwbGFpbiAgICAgICAgID0gcmVxdWlyZSgnLi9wbGFpbicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChmbi8qLCBvcHRpb25zKi8pIHtcblx0dmFyIG9wdGlvbnMgPSBub3JtYWxpemVPcHRzKGFyZ3VtZW50c1sxXSksIGxlbmd0aDtcblxuXHRpZiAoIW9wdGlvbnMubm9ybWFsaXplcikge1xuXHRcdGxlbmd0aCA9IG9wdGlvbnMubGVuZ3RoID0gcmVzb2x2ZUxlbmd0aChvcHRpb25zLmxlbmd0aCwgZm4ubGVuZ3RoLCBvcHRpb25zLmFzeW5jKTtcblx0XHRpZiAobGVuZ3RoICE9PSAwKSB7XG5cdFx0XHRpZiAob3B0aW9ucy5wcmltaXRpdmUpIHtcblx0XHRcdFx0aWYgKGxlbmd0aCA9PT0gZmFsc2UpIHtcblx0XHRcdFx0XHRvcHRpb25zLm5vcm1hbGl6ZXIgPSByZXF1aXJlKCcuL25vcm1hbGl6ZXJzL3ByaW1pdGl2ZScpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGxlbmd0aCA+IDEpIHtcblx0XHRcdFx0XHRvcHRpb25zLm5vcm1hbGl6ZXIgPSByZXF1aXJlKCcuL25vcm1hbGl6ZXJzL2dldC1wcmltaXRpdmUtZml4ZWQnKShsZW5ndGgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAobGVuZ3RoID09PSBmYWxzZSkgb3B0aW9ucy5ub3JtYWxpemVyID0gcmVxdWlyZSgnLi9ub3JtYWxpemVycy9nZXQnKSgpO1xuXHRcdFx0XHRlbHNlIGlmIChsZW5ndGggPT09IDEpIG9wdGlvbnMubm9ybWFsaXplciA9IHJlcXVpcmUoJy4vbm9ybWFsaXplcnMvZ2V0LTEnKSgpO1xuXHRcdFx0XHRlbHNlIG9wdGlvbnMubm9ybWFsaXplciA9IHJlcXVpcmUoJy4vbm9ybWFsaXplcnMvZ2V0LWZpeGVkJykobGVuZ3RoKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBBc3N1cmUgZXh0ZW5zaW9uc1xuXHRpZiAob3B0aW9ucy5hc3luYykgcmVxdWlyZSgnLi9leHQvYXN5bmMnKTtcblx0aWYgKG9wdGlvbnMucHJvbWlzZSkgcmVxdWlyZSgnLi9leHQvcHJvbWlzZScpO1xuXHRpZiAob3B0aW9ucy5kaXNwb3NlKSByZXF1aXJlKCcuL2V4dC9kaXNwb3NlJyk7XG5cdGlmIChvcHRpb25zLm1heEFnZSkgcmVxdWlyZSgnLi9leHQvbWF4LWFnZScpO1xuXHRpZiAob3B0aW9ucy5tYXgpIHJlcXVpcmUoJy4vZXh0L21heCcpO1xuXHRpZiAob3B0aW9ucy5yZWZDb3VudGVyKSByZXF1aXJlKCcuL2V4dC9yZWYtY291bnRlcicpO1xuXG5cdHJldHVybiBwbGFpbihmbiwgb3B0aW9ucyk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L21lbW9pemVlL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA4MFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbnZhciBjdXN0b21FcnJvciAgICAgID0gcmVxdWlyZSgnZXM1LWV4dC9lcnJvci9jdXN0b20nKVxuICAsIGRlZmluZUxlbmd0aCAgICAgPSByZXF1aXJlKCdlczUtZXh0L2Z1bmN0aW9uL19kZWZpbmUtbGVuZ3RoJylcbiAgLCBkICAgICAgICAgICAgICAgID0gcmVxdWlyZSgnZCcpXG4gICwgZWUgICAgICAgICAgICAgICA9IHJlcXVpcmUoJ2V2ZW50LWVtaXR0ZXInKS5tZXRob2RzXG4gICwgcmVzb2x2ZVJlc29sdmUgICA9IHJlcXVpcmUoJy4vcmVzb2x2ZS1yZXNvbHZlJylcbiAgLCByZXNvbHZlTm9ybWFsaXplID0gcmVxdWlyZSgnLi9yZXNvbHZlLW5vcm1hbGl6ZScpXG5cbiAgLCBhcHBseSA9IEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseSwgY2FsbCA9IEZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsXG4gICwgY3JlYXRlID0gT2JqZWN0LmNyZWF0ZSwgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5XG4gICwgZGVmaW5lUHJvcGVydGllcyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzXG4gICwgb24gPSBlZS5vbiwgZW1pdCA9IGVlLmVtaXQ7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9yaWdpbmFsLCBsZW5ndGgsIG9wdGlvbnMpIHtcblx0dmFyIGNhY2hlID0gY3JlYXRlKG51bGwpLCBjb25mLCBtZW1MZW5ndGgsIGdldCwgc2V0LCBkZWwsIGNsZWFyLCBleHREZWwsXG5cdFx0ZXh0R2V0LCBleHRIYXMsIG5vcm1hbGl6ZXIsIGdldExpc3RlbmVycywgc2V0TGlzdGVuZXJzLCBkZWxldGVMaXN0ZW5lcnMsIG1lbW9pemVkLCByZXNvbHZlO1xuXHRpZiAobGVuZ3RoICE9PSBmYWxzZSkgbWVtTGVuZ3RoID0gbGVuZ3RoO1xuXHRlbHNlIGlmIChpc05hTihvcmlnaW5hbC5sZW5ndGgpKSBtZW1MZW5ndGggPSAxO1xuXHRlbHNlIG1lbUxlbmd0aCA9IG9yaWdpbmFsLmxlbmd0aDtcblxuXHRpZiAob3B0aW9ucy5ub3JtYWxpemVyKSB7XG5cdFx0bm9ybWFsaXplciA9IHJlc29sdmVOb3JtYWxpemUob3B0aW9ucy5ub3JtYWxpemVyKTtcblx0XHRnZXQgPSBub3JtYWxpemVyLmdldDtcblx0XHRzZXQgPSBub3JtYWxpemVyLnNldDtcblx0XHRkZWwgPSBub3JtYWxpemVyLmRlbGV0ZTtcblx0XHRjbGVhciA9IG5vcm1hbGl6ZXIuY2xlYXI7XG5cdH1cblx0aWYgKG9wdGlvbnMucmVzb2x2ZXJzICE9IG51bGwpIHJlc29sdmUgPSByZXNvbHZlUmVzb2x2ZShvcHRpb25zLnJlc29sdmVycyk7XG5cblx0aWYgKGdldCkge1xuXHRcdG1lbW9pemVkID0gZGVmaW5lTGVuZ3RoKGZ1bmN0aW9uIChhcmcpIHtcblx0XHRcdHZhciBpZCwgcmVzdWx0LCBhcmdzID0gYXJndW1lbnRzO1xuXHRcdFx0aWYgKHJlc29sdmUpIGFyZ3MgPSByZXNvbHZlKGFyZ3MpO1xuXHRcdFx0aWQgPSBnZXQoYXJncyk7XG5cdFx0XHRpZiAoaWQgIT09IG51bGwpIHtcblx0XHRcdFx0aWYgKGhhc093blByb3BlcnR5LmNhbGwoY2FjaGUsIGlkKSkge1xuXHRcdFx0XHRcdGlmIChnZXRMaXN0ZW5lcnMpIGNvbmYuZW1pdCgnZ2V0JywgaWQsIGFyZ3MsIHRoaXMpO1xuXHRcdFx0XHRcdHJldHVybiBjYWNoZVtpZF07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGlmIChhcmdzLmxlbmd0aCA9PT0gMSkgcmVzdWx0ID0gY2FsbC5jYWxsKG9yaWdpbmFsLCB0aGlzLCBhcmdzWzBdKTtcblx0XHRcdGVsc2UgcmVzdWx0ID0gYXBwbHkuY2FsbChvcmlnaW5hbCwgdGhpcywgYXJncyk7XG5cdFx0XHRpZiAoaWQgPT09IG51bGwpIHtcblx0XHRcdFx0aWQgPSBnZXQoYXJncyk7XG5cdFx0XHRcdGlmIChpZCAhPT0gbnVsbCkgdGhyb3cgY3VzdG9tRXJyb3IoXCJDaXJjdWxhciBpbnZvY2F0aW9uXCIsICdDSVJDVUxBUl9JTlZPQ0FUSU9OJyk7XG5cdFx0XHRcdGlkID0gc2V0KGFyZ3MpO1xuXHRcdFx0fSBlbHNlIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNhY2hlLCBpZCkpIHtcblx0XHRcdFx0dGhyb3cgY3VzdG9tRXJyb3IoXCJDaXJjdWxhciBpbnZvY2F0aW9uXCIsICdDSVJDVUxBUl9JTlZPQ0FUSU9OJyk7XG5cdFx0XHR9XG5cdFx0XHRjYWNoZVtpZF0gPSByZXN1bHQ7XG5cdFx0XHRpZiAoc2V0TGlzdGVuZXJzKSBjb25mLmVtaXQoJ3NldCcsIGlkLCBudWxsLCByZXN1bHQpO1xuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9LCBtZW1MZW5ndGgpO1xuXHR9IGVsc2UgaWYgKGxlbmd0aCA9PT0gMCkge1xuXHRcdG1lbW9pemVkID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0dmFyIHJlc3VsdDtcblx0XHRcdGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNhY2hlLCAnZGF0YScpKSB7XG5cdFx0XHRcdGlmIChnZXRMaXN0ZW5lcnMpIGNvbmYuZW1pdCgnZ2V0JywgJ2RhdGEnLCBhcmd1bWVudHMsIHRoaXMpO1xuXHRcdFx0XHRyZXR1cm4gY2FjaGUuZGF0YTtcblx0XHRcdH1cblx0XHRcdGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmVzdWx0ID0gY2FsbC5jYWxsKG9yaWdpbmFsLCB0aGlzKTtcblx0XHRcdGVsc2UgcmVzdWx0ID0gYXBwbHkuY2FsbChvcmlnaW5hbCwgdGhpcywgYXJndW1lbnRzKTtcblx0XHRcdGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNhY2hlLCAnZGF0YScpKSB7XG5cdFx0XHRcdHRocm93IGN1c3RvbUVycm9yKFwiQ2lyY3VsYXIgaW52b2NhdGlvblwiLCAnQ0lSQ1VMQVJfSU5WT0NBVElPTicpO1xuXHRcdFx0fVxuXHRcdFx0Y2FjaGUuZGF0YSA9IHJlc3VsdDtcblx0XHRcdGlmIChzZXRMaXN0ZW5lcnMpIGNvbmYuZW1pdCgnc2V0JywgJ2RhdGEnLCBudWxsLCByZXN1bHQpO1xuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdG1lbW9pemVkID0gZnVuY3Rpb24gKGFyZykge1xuXHRcdFx0dmFyIHJlc3VsdCwgYXJncyA9IGFyZ3VtZW50cywgaWQ7XG5cdFx0XHRpZiAocmVzb2x2ZSkgYXJncyA9IHJlc29sdmUoYXJndW1lbnRzKTtcblx0XHRcdGlkID0gU3RyaW5nKGFyZ3NbMF0pO1xuXHRcdFx0aWYgKGhhc093blByb3BlcnR5LmNhbGwoY2FjaGUsIGlkKSkge1xuXHRcdFx0XHRpZiAoZ2V0TGlzdGVuZXJzKSBjb25mLmVtaXQoJ2dldCcsIGlkLCBhcmdzLCB0aGlzKTtcblx0XHRcdFx0cmV0dXJuIGNhY2hlW2lkXTtcblx0XHRcdH1cblx0XHRcdGlmIChhcmdzLmxlbmd0aCA9PT0gMSkgcmVzdWx0ID0gY2FsbC5jYWxsKG9yaWdpbmFsLCB0aGlzLCBhcmdzWzBdKTtcblx0XHRcdGVsc2UgcmVzdWx0ID0gYXBwbHkuY2FsbChvcmlnaW5hbCwgdGhpcywgYXJncyk7XG5cdFx0XHRpZiAoaGFzT3duUHJvcGVydHkuY2FsbChjYWNoZSwgaWQpKSB7XG5cdFx0XHRcdHRocm93IGN1c3RvbUVycm9yKFwiQ2lyY3VsYXIgaW52b2NhdGlvblwiLCAnQ0lSQ1VMQVJfSU5WT0NBVElPTicpO1xuXHRcdFx0fVxuXHRcdFx0Y2FjaGVbaWRdID0gcmVzdWx0O1xuXHRcdFx0aWYgKHNldExpc3RlbmVycykgY29uZi5lbWl0KCdzZXQnLCBpZCwgbnVsbCwgcmVzdWx0KTtcblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fTtcblx0fVxuXHRjb25mID0ge1xuXHRcdG9yaWdpbmFsOiBvcmlnaW5hbCxcblx0XHRtZW1vaXplZDogbWVtb2l6ZWQsXG5cdFx0Z2V0OiBmdW5jdGlvbiAoYXJncykge1xuXHRcdFx0aWYgKHJlc29sdmUpIGFyZ3MgPSByZXNvbHZlKGFyZ3MpO1xuXHRcdFx0aWYgKGdldCkgcmV0dXJuIGdldChhcmdzKTtcblx0XHRcdHJldHVybiBTdHJpbmcoYXJnc1swXSk7XG5cdFx0fSxcblx0XHRoYXM6IGZ1bmN0aW9uIChpZCkgeyByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChjYWNoZSwgaWQpOyB9LFxuXHRcdGRlbGV0ZTogZnVuY3Rpb24gKGlkKSB7XG5cdFx0XHR2YXIgcmVzdWx0O1xuXHRcdFx0aWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKGNhY2hlLCBpZCkpIHJldHVybjtcblx0XHRcdGlmIChkZWwpIGRlbChpZCk7XG5cdFx0XHRyZXN1bHQgPSBjYWNoZVtpZF07XG5cdFx0XHRkZWxldGUgY2FjaGVbaWRdO1xuXHRcdFx0aWYgKGRlbGV0ZUxpc3RlbmVycykgY29uZi5lbWl0KCdkZWxldGUnLCBpZCwgcmVzdWx0KTtcblx0XHR9LFxuXHRcdGNsZWFyOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHR2YXIgb2xkQ2FjaGUgPSBjYWNoZTtcblx0XHRcdGlmIChjbGVhcikgY2xlYXIoKTtcblx0XHRcdGNhY2hlID0gY3JlYXRlKG51bGwpO1xuXHRcdFx0Y29uZi5lbWl0KCdjbGVhcicsIG9sZENhY2hlKTtcblx0XHR9LFxuXHRcdG9uOiBmdW5jdGlvbiAodHlwZSwgbGlzdGVuZXIpIHtcblx0XHRcdGlmICh0eXBlID09PSAnZ2V0JykgZ2V0TGlzdGVuZXJzID0gdHJ1ZTtcblx0XHRcdGVsc2UgaWYgKHR5cGUgPT09ICdzZXQnKSBzZXRMaXN0ZW5lcnMgPSB0cnVlO1xuXHRcdFx0ZWxzZSBpZiAodHlwZSA9PT0gJ2RlbGV0ZScpIGRlbGV0ZUxpc3RlbmVycyA9IHRydWU7XG5cdFx0XHRyZXR1cm4gb24uY2FsbCh0aGlzLCB0eXBlLCBsaXN0ZW5lcik7XG5cdFx0fSxcblx0XHRlbWl0OiBlbWl0LFxuXHRcdHVwZGF0ZUVudjogZnVuY3Rpb24gKCkgeyBvcmlnaW5hbCA9IGNvbmYub3JpZ2luYWw7IH1cblx0fTtcblx0aWYgKGdldCkge1xuXHRcdGV4dERlbCA9IGRlZmluZUxlbmd0aChmdW5jdGlvbiAoYXJnKSB7XG5cdFx0XHR2YXIgaWQsIGFyZ3MgPSBhcmd1bWVudHM7XG5cdFx0XHRpZiAocmVzb2x2ZSkgYXJncyA9IHJlc29sdmUoYXJncyk7XG5cdFx0XHRpZCA9IGdldChhcmdzKTtcblx0XHRcdGlmIChpZCA9PT0gbnVsbCkgcmV0dXJuO1xuXHRcdFx0Y29uZi5kZWxldGUoaWQpO1xuXHRcdH0sIG1lbUxlbmd0aCk7XG5cdH0gZWxzZSBpZiAobGVuZ3RoID09PSAwKSB7XG5cdFx0ZXh0RGVsID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gY29uZi5kZWxldGUoJ2RhdGEnKTsgfTtcblx0fSBlbHNlIHtcblx0XHRleHREZWwgPSBmdW5jdGlvbiAoYXJnKSB7XG5cdFx0XHRpZiAocmVzb2x2ZSkgYXJnID0gcmVzb2x2ZShhcmd1bWVudHMpWzBdO1xuXHRcdFx0cmV0dXJuIGNvbmYuZGVsZXRlKGFyZyk7XG5cdFx0fTtcblx0fVxuXHRleHRHZXQgPSBkZWZpbmVMZW5ndGgoZnVuY3Rpb24gKCkge1xuXHRcdHZhciBpZCwgYXJncyA9IGFyZ3VtZW50cztcblx0XHRpZiAocmVzb2x2ZSkgYXJncyA9IHJlc29sdmUoYXJncyk7XG5cdFx0aWQgPSBnZXQoYXJncyk7XG5cdFx0cmV0dXJuIGNhY2hlW2lkXTtcblx0fSk7XG5cdGV4dEhhcyA9IGRlZmluZUxlbmd0aChmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIGlkLCBhcmdzID0gYXJndW1lbnRzO1xuXHRcdGlmIChyZXNvbHZlKSBhcmdzID0gcmVzb2x2ZShhcmdzKTtcblx0XHRpZCA9IGdldChhcmdzKTtcblx0XHRpZiAoaWQgPT09IG51bGwpIHJldHVybiBmYWxzZTtcblx0XHRyZXR1cm4gY29uZi5oYXMoaWQpO1xuXHR9KTtcblx0ZGVmaW5lUHJvcGVydGllcyhtZW1vaXplZCwge1xuXHRcdF9fbWVtb2l6ZWRfXzogZCh0cnVlKSxcblx0XHRkZWxldGU6IGQoZXh0RGVsKSxcblx0XHRjbGVhcjogZChjb25mLmNsZWFyKSxcblx0XHRfZ2V0OiBkKGV4dEdldCksXG5cdFx0X2hhczogZChleHRIYXMpXG5cdH0pO1xuXHRyZXR1cm4gY29uZjtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbWVtb2l6ZWUvbGliL2NvbmZpZ3VyZS1tYXAuanNcbi8vIG1vZHVsZSBpZCA9IDgxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxudmFyIGNhbGxhYmxlID0gcmVxdWlyZSgnZXM1LWV4dC9vYmplY3QvdmFsaWQtY2FsbGFibGUnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodXNlck5vcm1hbGl6ZXIpIHtcblx0dmFyIG5vcm1hbGl6ZXI7XG5cdGlmICh0eXBlb2YgdXNlck5vcm1hbGl6ZXIgPT09ICdmdW5jdGlvbicpIHJldHVybiB7IHNldDogdXNlck5vcm1hbGl6ZXIsIGdldDogdXNlck5vcm1hbGl6ZXIgfTtcblx0bm9ybWFsaXplciA9IHsgZ2V0OiBjYWxsYWJsZSh1c2VyTm9ybWFsaXplci5nZXQpIH07XG5cdGlmICh1c2VyTm9ybWFsaXplci5zZXQgIT09IHVuZGVmaW5lZCkge1xuXHRcdG5vcm1hbGl6ZXIuc2V0ID0gY2FsbGFibGUodXNlck5vcm1hbGl6ZXIuc2V0KTtcblx0XHRpZiAodXNlck5vcm1hbGl6ZXIuZGVsZXRlKSBub3JtYWxpemVyLmRlbGV0ZSA9IGNhbGxhYmxlKHVzZXJOb3JtYWxpemVyLmRlbGV0ZSk7XG5cdFx0aWYgKHVzZXJOb3JtYWxpemVyLmNsZWFyKSBub3JtYWxpemVyLmNsZWFyID0gY2FsbGFibGUodXNlck5vcm1hbGl6ZXIuY2xlYXIpO1xuXHRcdHJldHVybiBub3JtYWxpemVyO1xuXHR9XG5cdG5vcm1hbGl6ZXIuc2V0ID0gbm9ybWFsaXplci5nZXQ7XG5cdHJldHVybiBub3JtYWxpemVyO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tZW1vaXplZS9saWIvcmVzb2x2ZS1ub3JtYWxpemUuanNcbi8vIG1vZHVsZSBpZCA9IDgyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxudmFyIHRvQXJyYXkgID0gcmVxdWlyZSgnZXM1LWV4dC9hcnJheS90by1hcnJheScpXG4gICwgY2FsbGFibGUgPSByZXF1aXJlKCdlczUtZXh0L29iamVjdC92YWxpZC1jYWxsYWJsZScpXG5cbiAgLCBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZVxuICAsIHJlc29sdmVBcmdzO1xuXG5yZXNvbHZlQXJncyA9IGZ1bmN0aW9uIChhcmdzKSB7XG5cdHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAociwgaSkge1xuXHRcdHJldHVybiByID8gcihhcmdzW2ldKSA6IGFyZ3NbaV07XG5cdH0pLmNvbmNhdChzbGljZS5jYWxsKGFyZ3MsIHRoaXMubGVuZ3RoKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChyZXNvbHZlcnMpIHtcblx0cmVzb2x2ZXJzID0gdG9BcnJheShyZXNvbHZlcnMpO1xuXHRyZXNvbHZlcnMuZm9yRWFjaChmdW5jdGlvbiAocikge1xuXHRcdGlmIChyICE9IG51bGwpIGNhbGxhYmxlKHIpO1xuXHR9KTtcblx0cmV0dXJuIHJlc29sdmVBcmdzLmJpbmQocmVzb2x2ZXJzKTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbWVtb2l6ZWUvbGliL3Jlc29sdmUtcmVzb2x2ZS5qc1xuLy8gbW9kdWxlIGlkID0gODNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaW5kZXhPZiA9IHJlcXVpcmUoJ2VzNS1leHQvYXJyYXkvIy9lLWluZGV4LW9mJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuXHR2YXIgbGFzdElkID0gMCwgYXJnc01hcCA9IFtdLCBjYWNoZSA9IFtdO1xuXHRyZXR1cm4ge1xuXHRcdGdldDogZnVuY3Rpb24gKGFyZ3MpIHtcblx0XHRcdHZhciBpbmRleCA9IGluZGV4T2YuY2FsbChhcmdzTWFwLCBhcmdzWzBdKTtcblx0XHRcdHJldHVybiAoaW5kZXggPT09IC0xKSA/IG51bGwgOiBjYWNoZVtpbmRleF07XG5cdFx0fSxcblx0XHRzZXQ6IGZ1bmN0aW9uIChhcmdzKSB7XG5cdFx0XHRhcmdzTWFwLnB1c2goYXJnc1swXSk7XG5cdFx0XHRjYWNoZS5wdXNoKCsrbGFzdElkKTtcblx0XHRcdHJldHVybiBsYXN0SWQ7XG5cdFx0fSxcblx0XHRkZWxldGU6IGZ1bmN0aW9uIChpZCkge1xuXHRcdFx0dmFyIGluZGV4ID0gaW5kZXhPZi5jYWxsKGNhY2hlLCBpZCk7XG5cdFx0XHRpZiAoaW5kZXggIT09IC0xKSB7XG5cdFx0XHRcdGFyZ3NNYXAuc3BsaWNlKGluZGV4LCAxKTtcblx0XHRcdFx0Y2FjaGUuc3BsaWNlKGluZGV4LCAxKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGNsZWFyOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRhcmdzTWFwID0gW107XG5cdFx0XHRjYWNoZSA9IFtdO1xuXHRcdH1cblx0fTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbWVtb2l6ZWUvbm9ybWFsaXplcnMvZ2V0LTEuanNcbi8vIG1vZHVsZSBpZCA9IDg0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxudmFyIGluZGV4T2YgPSByZXF1aXJlKCdlczUtZXh0L2FycmF5LyMvZS1pbmRleC1vZicpXG4gICwgY3JlYXRlID0gT2JqZWN0LmNyZWF0ZTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGVuZ3RoKSB7XG5cdHZhciBsYXN0SWQgPSAwLCBtYXAgPSBbW10sIFtdXSwgY2FjaGUgPSBjcmVhdGUobnVsbCk7XG5cdHJldHVybiB7XG5cdFx0Z2V0OiBmdW5jdGlvbiAoYXJncykge1xuXHRcdFx0dmFyIGluZGV4ID0gMCwgc2V0ID0gbWFwLCBpO1xuXHRcdFx0d2hpbGUgKGluZGV4IDwgKGxlbmd0aCAtIDEpKSB7XG5cdFx0XHRcdGkgPSBpbmRleE9mLmNhbGwoc2V0WzBdLCBhcmdzW2luZGV4XSk7XG5cdFx0XHRcdGlmIChpID09PSAtMSkgcmV0dXJuIG51bGw7XG5cdFx0XHRcdHNldCA9IHNldFsxXVtpXTtcblx0XHRcdFx0KytpbmRleDtcblx0XHRcdH1cblx0XHRcdGkgPSBpbmRleE9mLmNhbGwoc2V0WzBdLCBhcmdzW2luZGV4XSk7XG5cdFx0XHRpZiAoaSA9PT0gLTEpIHJldHVybiBudWxsO1xuXHRcdFx0cmV0dXJuIHNldFsxXVtpXSB8fCBudWxsO1xuXHRcdH0sXG5cdFx0c2V0OiBmdW5jdGlvbiAoYXJncykge1xuXHRcdFx0dmFyIGluZGV4ID0gMCwgc2V0ID0gbWFwLCBpO1xuXHRcdFx0d2hpbGUgKGluZGV4IDwgKGxlbmd0aCAtIDEpKSB7XG5cdFx0XHRcdGkgPSBpbmRleE9mLmNhbGwoc2V0WzBdLCBhcmdzW2luZGV4XSk7XG5cdFx0XHRcdGlmIChpID09PSAtMSkge1xuXHRcdFx0XHRcdGkgPSBzZXRbMF0ucHVzaChhcmdzW2luZGV4XSkgLSAxO1xuXHRcdFx0XHRcdHNldFsxXS5wdXNoKFtbXSwgW11dKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRzZXQgPSBzZXRbMV1baV07XG5cdFx0XHRcdCsraW5kZXg7XG5cdFx0XHR9XG5cdFx0XHRpID0gaW5kZXhPZi5jYWxsKHNldFswXSwgYXJnc1tpbmRleF0pO1xuXHRcdFx0aWYgKGkgPT09IC0xKSB7XG5cdFx0XHRcdGkgPSBzZXRbMF0ucHVzaChhcmdzW2luZGV4XSkgLSAxO1xuXHRcdFx0fVxuXHRcdFx0c2V0WzFdW2ldID0gKytsYXN0SWQ7XG5cdFx0XHRjYWNoZVtsYXN0SWRdID0gYXJncztcblx0XHRcdHJldHVybiBsYXN0SWQ7XG5cdFx0fSxcblx0XHRkZWxldGU6IGZ1bmN0aW9uIChpZCkge1xuXHRcdFx0dmFyIGluZGV4ID0gMCwgc2V0ID0gbWFwLCBpLCBwYXRoID0gW10sIGFyZ3MgPSBjYWNoZVtpZF07XG5cdFx0XHR3aGlsZSAoaW5kZXggPCAobGVuZ3RoIC0gMSkpIHtcblx0XHRcdFx0aSA9IGluZGV4T2YuY2FsbChzZXRbMF0sIGFyZ3NbaW5kZXhdKTtcblx0XHRcdFx0aWYgKGkgPT09IC0xKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHBhdGgucHVzaChzZXQsIGkpO1xuXHRcdFx0XHRzZXQgPSBzZXRbMV1baV07XG5cdFx0XHRcdCsraW5kZXg7XG5cdFx0XHR9XG5cdFx0XHRpID0gaW5kZXhPZi5jYWxsKHNldFswXSwgYXJnc1tpbmRleF0pO1xuXHRcdFx0aWYgKGkgPT09IC0xKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdGlkID0gc2V0WzFdW2ldO1xuXHRcdFx0c2V0WzBdLnNwbGljZShpLCAxKTtcblx0XHRcdHNldFsxXS5zcGxpY2UoaSwgMSk7XG5cdFx0XHR3aGlsZSAoIXNldFswXS5sZW5ndGggJiYgcGF0aC5sZW5ndGgpIHtcblx0XHRcdFx0aSA9IHBhdGgucG9wKCk7XG5cdFx0XHRcdHNldCA9IHBhdGgucG9wKCk7XG5cdFx0XHRcdHNldFswXS5zcGxpY2UoaSwgMSk7XG5cdFx0XHRcdHNldFsxXS5zcGxpY2UoaSwgMSk7XG5cdFx0XHR9XG5cdFx0XHRkZWxldGUgY2FjaGVbaWRdO1xuXHRcdH0sXG5cdFx0Y2xlYXI6IGZ1bmN0aW9uICgpIHtcblx0XHRcdG1hcCA9IFtbXSwgW11dO1xuXHRcdFx0Y2FjaGUgPSBjcmVhdGUobnVsbCk7XG5cdFx0fVxuXHR9O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tZW1vaXplZS9ub3JtYWxpemVycy9nZXQtZml4ZWQuanNcbi8vIG1vZHVsZSBpZCA9IDg1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGVuZ3RoKSB7XG5cdGlmICghbGVuZ3RoKSB7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuICcnOyB9O1xuXHR9XG5cdHJldHVybiBmdW5jdGlvbiAoYXJncykge1xuXHRcdHZhciBpZCA9IFN0cmluZyhhcmdzWzBdKSwgaSA9IDAsIGwgPSBsZW5ndGg7XG5cdFx0d2hpbGUgKC0tbCkgeyBpZCArPSAnXFx1MDAwMScgKyBhcmdzWysraV07IH1cblx0XHRyZXR1cm4gaWQ7XG5cdH07XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L21lbW9pemVlL25vcm1hbGl6ZXJzL2dldC1wcmltaXRpdmUtZml4ZWQuanNcbi8vIG1vZHVsZSBpZCA9IDg2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxudmFyIGluZGV4T2YgPSByZXF1aXJlKCdlczUtZXh0L2FycmF5LyMvZS1pbmRleC1vZicpXG4gICwgY3JlYXRlID0gT2JqZWN0LmNyZWF0ZTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG5cdHZhciBsYXN0SWQgPSAwLCBtYXAgPSBbXSwgY2FjaGUgPSBjcmVhdGUobnVsbCk7XG5cdHJldHVybiB7XG5cdFx0Z2V0OiBmdW5jdGlvbiAoYXJncykge1xuXHRcdFx0dmFyIGluZGV4ID0gMCwgc2V0ID0gbWFwLCBpLCBsZW5ndGggPSBhcmdzLmxlbmd0aDtcblx0XHRcdGlmIChsZW5ndGggPT09IDApIHJldHVybiBzZXRbbGVuZ3RoXSB8fCBudWxsO1xuXHRcdFx0aWYgKChzZXQgPSBzZXRbbGVuZ3RoXSkpIHtcblx0XHRcdFx0d2hpbGUgKGluZGV4IDwgKGxlbmd0aCAtIDEpKSB7XG5cdFx0XHRcdFx0aSA9IGluZGV4T2YuY2FsbChzZXRbMF0sIGFyZ3NbaW5kZXhdKTtcblx0XHRcdFx0XHRpZiAoaSA9PT0gLTEpIHJldHVybiBudWxsO1xuXHRcdFx0XHRcdHNldCA9IHNldFsxXVtpXTtcblx0XHRcdFx0XHQrK2luZGV4O1xuXHRcdFx0XHR9XG5cdFx0XHRcdGkgPSBpbmRleE9mLmNhbGwoc2V0WzBdLCBhcmdzW2luZGV4XSk7XG5cdFx0XHRcdGlmIChpID09PSAtMSkgcmV0dXJuIG51bGw7XG5cdFx0XHRcdHJldHVybiBzZXRbMV1baV0gfHwgbnVsbDtcblx0XHRcdH1cblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH0sXG5cdFx0c2V0OiBmdW5jdGlvbiAoYXJncykge1xuXHRcdFx0dmFyIGluZGV4ID0gMCwgc2V0ID0gbWFwLCBpLCBsZW5ndGggPSBhcmdzLmxlbmd0aDtcblx0XHRcdGlmIChsZW5ndGggPT09IDApIHtcblx0XHRcdFx0c2V0W2xlbmd0aF0gPSArK2xhc3RJZDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmICghc2V0W2xlbmd0aF0pIHtcblx0XHRcdFx0XHRzZXRbbGVuZ3RoXSA9IFtbXSwgW11dO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHNldCA9IHNldFtsZW5ndGhdO1xuXHRcdFx0XHR3aGlsZSAoaW5kZXggPCAobGVuZ3RoIC0gMSkpIHtcblx0XHRcdFx0XHRpID0gaW5kZXhPZi5jYWxsKHNldFswXSwgYXJnc1tpbmRleF0pO1xuXHRcdFx0XHRcdGlmIChpID09PSAtMSkge1xuXHRcdFx0XHRcdFx0aSA9IHNldFswXS5wdXNoKGFyZ3NbaW5kZXhdKSAtIDE7XG5cdFx0XHRcdFx0XHRzZXRbMV0ucHVzaChbW10sIFtdXSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHNldCA9IHNldFsxXVtpXTtcblx0XHRcdFx0XHQrK2luZGV4O1xuXHRcdFx0XHR9XG5cdFx0XHRcdGkgPSBpbmRleE9mLmNhbGwoc2V0WzBdLCBhcmdzW2luZGV4XSk7XG5cdFx0XHRcdGlmIChpID09PSAtMSkge1xuXHRcdFx0XHRcdGkgPSBzZXRbMF0ucHVzaChhcmdzW2luZGV4XSkgLSAxO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHNldFsxXVtpXSA9ICsrbGFzdElkO1xuXHRcdFx0fVxuXHRcdFx0Y2FjaGVbbGFzdElkXSA9IGFyZ3M7XG5cdFx0XHRyZXR1cm4gbGFzdElkO1xuXHRcdH0sXG5cdFx0ZGVsZXRlOiBmdW5jdGlvbiAoaWQpIHtcblx0XHRcdHZhciBpbmRleCA9IDAsIHNldCA9IG1hcCwgaSwgYXJncyA9IGNhY2hlW2lkXSwgbGVuZ3RoID0gYXJncy5sZW5ndGhcblx0XHRcdCAgLCBwYXRoID0gW107XG5cdFx0XHRpZiAobGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdGRlbGV0ZSBzZXRbbGVuZ3RoXTtcblx0XHRcdH0gZWxzZSBpZiAoKHNldCA9IHNldFtsZW5ndGhdKSkge1xuXHRcdFx0XHR3aGlsZSAoaW5kZXggPCAobGVuZ3RoIC0gMSkpIHtcblx0XHRcdFx0XHRpID0gaW5kZXhPZi5jYWxsKHNldFswXSwgYXJnc1tpbmRleF0pO1xuXHRcdFx0XHRcdGlmIChpID09PSAtMSkge1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRwYXRoLnB1c2goc2V0LCBpKTtcblx0XHRcdFx0XHRzZXQgPSBzZXRbMV1baV07XG5cdFx0XHRcdFx0KytpbmRleDtcblx0XHRcdFx0fVxuXHRcdFx0XHRpID0gaW5kZXhPZi5jYWxsKHNldFswXSwgYXJnc1tpbmRleF0pO1xuXHRcdFx0XHRpZiAoaSA9PT0gLTEpIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdFx0aWQgPSBzZXRbMV1baV07XG5cdFx0XHRcdHNldFswXS5zcGxpY2UoaSwgMSk7XG5cdFx0XHRcdHNldFsxXS5zcGxpY2UoaSwgMSk7XG5cdFx0XHRcdHdoaWxlICghc2V0WzBdLmxlbmd0aCAmJiBwYXRoLmxlbmd0aCkge1xuXHRcdFx0XHRcdGkgPSBwYXRoLnBvcCgpO1xuXHRcdFx0XHRcdHNldCA9IHBhdGgucG9wKCk7XG5cdFx0XHRcdFx0c2V0WzBdLnNwbGljZShpLCAxKTtcblx0XHRcdFx0XHRzZXRbMV0uc3BsaWNlKGksIDEpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRkZWxldGUgY2FjaGVbaWRdO1xuXHRcdH0sXG5cdFx0Y2xlYXI6IGZ1bmN0aW9uICgpIHtcblx0XHRcdG1hcCA9IFtdO1xuXHRcdFx0Y2FjaGUgPSBjcmVhdGUobnVsbCk7XG5cdFx0fVxuXHR9O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tZW1vaXplZS9ub3JtYWxpemVycy9nZXQuanNcbi8vIG1vZHVsZSBpZCA9IDg3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXJncykge1xuXHR2YXIgaWQsIGksIGxlbmd0aCA9IGFyZ3MubGVuZ3RoO1xuXHRpZiAoIWxlbmd0aCkgcmV0dXJuICdcXHUwMDAyJztcblx0aWQgPSBTdHJpbmcoYXJnc1tpID0gMF0pO1xuXHR3aGlsZSAoLS1sZW5ndGgpIGlkICs9ICdcXHUwMDAxJyArIGFyZ3NbKytpXTtcblx0cmV0dXJuIGlkO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tZW1vaXplZS9ub3JtYWxpemVycy9wcmltaXRpdmUuanNcbi8vIG1vZHVsZSBpZCA9IDg4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxudmFyIGNhbGxhYmxlICAgICAgPSByZXF1aXJlKCdlczUtZXh0L29iamVjdC92YWxpZC1jYWxsYWJsZScpXG4gICwgZm9yRWFjaCAgICAgICA9IHJlcXVpcmUoJ2VzNS1leHQvb2JqZWN0L2Zvci1lYWNoJylcbiAgLCBleHRlbnNpb25zICAgID0gcmVxdWlyZSgnLi9saWIvcmVnaXN0ZXJlZC1leHRlbnNpb25zJylcbiAgLCBjb25maWd1cmUgICAgID0gcmVxdWlyZSgnLi9saWIvY29uZmlndXJlLW1hcCcpXG4gICwgcmVzb2x2ZUxlbmd0aCA9IHJlcXVpcmUoJy4vbGliL3Jlc29sdmUtbGVuZ3RoJylcblxuICAsIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzZWxmKGZuLyosIG9wdGlvbnMgKi8pIHtcblx0dmFyIG9wdGlvbnMsIGxlbmd0aCwgY29uZjtcblxuXHRjYWxsYWJsZShmbik7XG5cdG9wdGlvbnMgPSBPYmplY3QoYXJndW1lbnRzWzFdKTtcblxuXHRpZiAob3B0aW9ucy5hc3luYyAmJiBvcHRpb25zLnByb21pc2UpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJPcHRpb25zICdhc3luYycgYW5kICdwcm9taXNlJyBjYW5ub3QgYmUgdXNlZCB0b2dldGhlclwiKTtcblx0fVxuXG5cdC8vIERvIG5vdCBtZW1vaXplIGFscmVhZHkgbWVtb2l6ZWQgZnVuY3Rpb25cblx0aWYgKGhhc093blByb3BlcnR5LmNhbGwoZm4sICdfX21lbW9pemVkX18nKSAmJiAhb3B0aW9ucy5mb3JjZSkgcmV0dXJuIGZuO1xuXG5cdC8vIFJlc29sdmUgbGVuZ3RoO1xuXHRsZW5ndGggPSByZXNvbHZlTGVuZ3RoKG9wdGlvbnMubGVuZ3RoLCBmbi5sZW5ndGgsIG9wdGlvbnMuYXN5bmMgJiYgZXh0ZW5zaW9ucy5hc3luYyk7XG5cblx0Ly8gQ29uZmlndXJlIGNhY2hlIG1hcFxuXHRjb25mID0gY29uZmlndXJlKGZuLCBsZW5ndGgsIG9wdGlvbnMpO1xuXG5cdC8vIEJpbmQgZXZlbnR1YWwgZXh0ZW5zaW9uc1xuXHRmb3JFYWNoKGV4dGVuc2lvbnMsIGZ1bmN0aW9uIChmbiwgbmFtZSkge1xuXHRcdGlmIChvcHRpb25zW25hbWVdKSBmbihvcHRpb25zW25hbWVdLCBjb25mLCBvcHRpb25zKTtcblx0fSk7XG5cblx0aWYgKHNlbGYuX19wcm9maWxlcl9fKSBzZWxmLl9fcHJvZmlsZXJfXyhjb25mKTtcblxuXHRjb25mLnVwZGF0ZUVudigpO1xuXHRyZXR1cm4gY29uZi5tZW1vaXplZDtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbWVtb2l6ZWUvcGxhaW4uanNcbi8vIG1vZHVsZSBpZCA9IDg5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qKlxuICogSGVscGVycy5cbiAqL1xuXG52YXIgcyA9IDEwMDBcbnZhciBtID0gcyAqIDYwXG52YXIgaCA9IG0gKiA2MFxudmFyIGQgPSBoICogMjRcbnZhciB5ID0gZCAqIDM2NS4yNVxuXG4vKipcbiAqIFBhcnNlIG9yIGZvcm1hdCB0aGUgZ2l2ZW4gYHZhbGAuXG4gKlxuICogT3B0aW9uczpcbiAqXG4gKiAgLSBgbG9uZ2AgdmVyYm9zZSBmb3JtYXR0aW5nIFtmYWxzZV1cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IHZhbFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQHRocm93cyB7RXJyb3J9IHRocm93IGFuIGVycm9yIGlmIHZhbCBpcyBub3QgYSBub24tZW1wdHkgc3RyaW5nIG9yIGEgbnVtYmVyXG4gKiBAcmV0dXJuIHtTdHJpbmd8TnVtYmVyfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh2YWwsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge31cbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsXG4gIGlmICh0eXBlID09PSAnc3RyaW5nJyAmJiB2YWwubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiBwYXJzZSh2YWwpXG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gJ251bWJlcicgJiYgaXNOYU4odmFsKSA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm4gb3B0aW9ucy5sb25nID9cblx0XHRcdGZtdExvbmcodmFsKSA6XG5cdFx0XHRmbXRTaG9ydCh2YWwpXG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKCd2YWwgaXMgbm90IGEgbm9uLWVtcHR5IHN0cmluZyBvciBhIHZhbGlkIG51bWJlci4gdmFsPScgKyBKU09OLnN0cmluZ2lmeSh2YWwpKVxufVxuXG4vKipcbiAqIFBhcnNlIHRoZSBnaXZlbiBgc3RyYCBhbmQgcmV0dXJuIG1pbGxpc2Vjb25kcy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBwYXJzZShzdHIpIHtcbiAgc3RyID0gU3RyaW5nKHN0cilcbiAgaWYgKHN0ci5sZW5ndGggPiAxMDAwMCkge1xuICAgIHJldHVyblxuICB9XG4gIHZhciBtYXRjaCA9IC9eKCg/OlxcZCspP1xcLj9cXGQrKSAqKG1pbGxpc2Vjb25kcz98bXNlY3M/fG1zfHNlY29uZHM/fHNlY3M/fHN8bWludXRlcz98bWlucz98bXxob3Vycz98aHJzP3xofGRheXM/fGR8eWVhcnM/fHlycz98eSk/JC9pLmV4ZWMoc3RyKVxuICBpZiAoIW1hdGNoKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgdmFyIG4gPSBwYXJzZUZsb2F0KG1hdGNoWzFdKVxuICB2YXIgdHlwZSA9IChtYXRjaFsyXSB8fCAnbXMnKS50b0xvd2VyQ2FzZSgpXG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgJ3llYXJzJzpcbiAgICBjYXNlICd5ZWFyJzpcbiAgICBjYXNlICd5cnMnOlxuICAgIGNhc2UgJ3lyJzpcbiAgICBjYXNlICd5JzpcbiAgICAgIHJldHVybiBuICogeVxuICAgIGNhc2UgJ2RheXMnOlxuICAgIGNhc2UgJ2RheSc6XG4gICAgY2FzZSAnZCc6XG4gICAgICByZXR1cm4gbiAqIGRcbiAgICBjYXNlICdob3Vycyc6XG4gICAgY2FzZSAnaG91cic6XG4gICAgY2FzZSAnaHJzJzpcbiAgICBjYXNlICdocic6XG4gICAgY2FzZSAnaCc6XG4gICAgICByZXR1cm4gbiAqIGhcbiAgICBjYXNlICdtaW51dGVzJzpcbiAgICBjYXNlICdtaW51dGUnOlxuICAgIGNhc2UgJ21pbnMnOlxuICAgIGNhc2UgJ21pbic6XG4gICAgY2FzZSAnbSc6XG4gICAgICByZXR1cm4gbiAqIG1cbiAgICBjYXNlICdzZWNvbmRzJzpcbiAgICBjYXNlICdzZWNvbmQnOlxuICAgIGNhc2UgJ3NlY3MnOlxuICAgIGNhc2UgJ3NlYyc6XG4gICAgY2FzZSAncyc6XG4gICAgICByZXR1cm4gbiAqIHNcbiAgICBjYXNlICdtaWxsaXNlY29uZHMnOlxuICAgIGNhc2UgJ21pbGxpc2Vjb25kJzpcbiAgICBjYXNlICdtc2Vjcyc6XG4gICAgY2FzZSAnbXNlYyc6XG4gICAgY2FzZSAnbXMnOlxuICAgICAgcmV0dXJuIG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICB9XG59XG5cbi8qKlxuICogU2hvcnQgZm9ybWF0IGZvciBgbXNgLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBtc1xuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gZm10U2hvcnQobXMpIHtcbiAgaWYgKG1zID49IGQpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIGQpICsgJ2QnXG4gIH1cbiAgaWYgKG1zID49IGgpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIGgpICsgJ2gnXG4gIH1cbiAgaWYgKG1zID49IG0pIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIG0pICsgJ20nXG4gIH1cbiAgaWYgKG1zID49IHMpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIHMpICsgJ3MnXG4gIH1cbiAgcmV0dXJuIG1zICsgJ21zJ1xufVxuXG4vKipcbiAqIExvbmcgZm9ybWF0IGZvciBgbXNgLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBtc1xuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gZm10TG9uZyhtcykge1xuICByZXR1cm4gcGx1cmFsKG1zLCBkLCAnZGF5JykgfHxcbiAgICBwbHVyYWwobXMsIGgsICdob3VyJykgfHxcbiAgICBwbHVyYWwobXMsIG0sICdtaW51dGUnKSB8fFxuICAgIHBsdXJhbChtcywgcywgJ3NlY29uZCcpIHx8XG4gICAgbXMgKyAnIG1zJ1xufVxuXG4vKipcbiAqIFBsdXJhbGl6YXRpb24gaGVscGVyLlxuICovXG5cbmZ1bmN0aW9uIHBsdXJhbChtcywgbiwgbmFtZSkge1xuICBpZiAobXMgPCBuKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgaWYgKG1zIDwgbiAqIDEuNSkge1xuICAgIHJldHVybiBNYXRoLmZsb29yKG1zIC8gbikgKyAnICcgKyBuYW1lXG4gIH1cbiAgcmV0dXJuIE1hdGguY2VpbChtcyAvIG4pICsgJyAnICsgbmFtZSArICdzJ1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L21zL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA5MFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuLy8gcmVzb2x2ZXMgLiBhbmQgLi4gZWxlbWVudHMgaW4gYSBwYXRoIGFycmF5IHdpdGggZGlyZWN0b3J5IG5hbWVzIHRoZXJlXG4vLyBtdXN0IGJlIG5vIHNsYXNoZXMsIGVtcHR5IGVsZW1lbnRzLCBvciBkZXZpY2UgbmFtZXMgKGM6XFwpIGluIHRoZSBhcnJheVxuLy8gKHNvIGFsc28gbm8gbGVhZGluZyBhbmQgdHJhaWxpbmcgc2xhc2hlcyAtIGl0IGRvZXMgbm90IGRpc3Rpbmd1aXNoXG4vLyByZWxhdGl2ZSBhbmQgYWJzb2x1dGUgcGF0aHMpXG5mdW5jdGlvbiBub3JtYWxpemVBcnJheShwYXJ0cywgYWxsb3dBYm92ZVJvb3QpIHtcbiAgLy8gaWYgdGhlIHBhdGggdHJpZXMgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIGB1cGAgZW5kcyB1cCA+IDBcbiAgdmFyIHVwID0gMDtcbiAgZm9yICh2YXIgaSA9IHBhcnRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgdmFyIGxhc3QgPSBwYXJ0c1tpXTtcbiAgICBpZiAobGFzdCA9PT0gJy4nKSB7XG4gICAgICBwYXJ0cy5zcGxpY2UoaSwgMSk7XG4gICAgfSBlbHNlIGlmIChsYXN0ID09PSAnLi4nKSB7XG4gICAgICBwYXJ0cy5zcGxpY2UoaSwgMSk7XG4gICAgICB1cCsrO1xuICAgIH0gZWxzZSBpZiAodXApIHtcbiAgICAgIHBhcnRzLnNwbGljZShpLCAxKTtcbiAgICAgIHVwLS07XG4gICAgfVxuICB9XG5cbiAgLy8gaWYgdGhlIHBhdGggaXMgYWxsb3dlZCB0byBnbyBhYm92ZSB0aGUgcm9vdCwgcmVzdG9yZSBsZWFkaW5nIC4uc1xuICBpZiAoYWxsb3dBYm92ZVJvb3QpIHtcbiAgICBmb3IgKDsgdXAtLTsgdXApIHtcbiAgICAgIHBhcnRzLnVuc2hpZnQoJy4uJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHBhcnRzO1xufVxuXG4vLyBTcGxpdCBhIGZpbGVuYW1lIGludG8gW3Jvb3QsIGRpciwgYmFzZW5hbWUsIGV4dF0sIHVuaXggdmVyc2lvblxuLy8gJ3Jvb3QnIGlzIGp1c3QgYSBzbGFzaCwgb3Igbm90aGluZy5cbnZhciBzcGxpdFBhdGhSZSA9XG4gICAgL14oXFwvP3wpKFtcXHNcXFNdKj8pKCg/OlxcLnsxLDJ9fFteXFwvXSs/fCkoXFwuW14uXFwvXSp8KSkoPzpbXFwvXSopJC87XG52YXIgc3BsaXRQYXRoID0gZnVuY3Rpb24oZmlsZW5hbWUpIHtcbiAgcmV0dXJuIHNwbGl0UGF0aFJlLmV4ZWMoZmlsZW5hbWUpLnNsaWNlKDEpO1xufTtcblxuLy8gcGF0aC5yZXNvbHZlKFtmcm9tIC4uLl0sIHRvKVxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5yZXNvbHZlID0gZnVuY3Rpb24oKSB7XG4gIHZhciByZXNvbHZlZFBhdGggPSAnJyxcbiAgICAgIHJlc29sdmVkQWJzb2x1dGUgPSBmYWxzZTtcblxuICBmb3IgKHZhciBpID0gYXJndW1lbnRzLmxlbmd0aCAtIDE7IGkgPj0gLTEgJiYgIXJlc29sdmVkQWJzb2x1dGU7IGktLSkge1xuICAgIHZhciBwYXRoID0gKGkgPj0gMCkgPyBhcmd1bWVudHNbaV0gOiBwcm9jZXNzLmN3ZCgpO1xuXG4gICAgLy8gU2tpcCBlbXB0eSBhbmQgaW52YWxpZCBlbnRyaWVzXG4gICAgaWYgKHR5cGVvZiBwYXRoICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnRzIHRvIHBhdGgucmVzb2x2ZSBtdXN0IGJlIHN0cmluZ3MnKTtcbiAgICB9IGVsc2UgaWYgKCFwYXRoKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICByZXNvbHZlZFBhdGggPSBwYXRoICsgJy8nICsgcmVzb2x2ZWRQYXRoO1xuICAgIHJlc29sdmVkQWJzb2x1dGUgPSBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nO1xuICB9XG5cbiAgLy8gQXQgdGhpcyBwb2ludCB0aGUgcGF0aCBzaG91bGQgYmUgcmVzb2x2ZWQgdG8gYSBmdWxsIGFic29sdXRlIHBhdGgsIGJ1dFxuICAvLyBoYW5kbGUgcmVsYXRpdmUgcGF0aHMgdG8gYmUgc2FmZSAobWlnaHQgaGFwcGVuIHdoZW4gcHJvY2Vzcy5jd2QoKSBmYWlscylcblxuICAvLyBOb3JtYWxpemUgdGhlIHBhdGhcbiAgcmVzb2x2ZWRQYXRoID0gbm9ybWFsaXplQXJyYXkoZmlsdGVyKHJlc29sdmVkUGF0aC5zcGxpdCgnLycpLCBmdW5jdGlvbihwKSB7XG4gICAgcmV0dXJuICEhcDtcbiAgfSksICFyZXNvbHZlZEFic29sdXRlKS5qb2luKCcvJyk7XG5cbiAgcmV0dXJuICgocmVzb2x2ZWRBYnNvbHV0ZSA/ICcvJyA6ICcnKSArIHJlc29sdmVkUGF0aCkgfHwgJy4nO1xufTtcblxuLy8gcGF0aC5ub3JtYWxpemUocGF0aClcbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydHMubm9ybWFsaXplID0gZnVuY3Rpb24ocGF0aCkge1xuICB2YXIgaXNBYnNvbHV0ZSA9IGV4cG9ydHMuaXNBYnNvbHV0ZShwYXRoKSxcbiAgICAgIHRyYWlsaW5nU2xhc2ggPSBzdWJzdHIocGF0aCwgLTEpID09PSAnLyc7XG5cbiAgLy8gTm9ybWFsaXplIHRoZSBwYXRoXG4gIHBhdGggPSBub3JtYWxpemVBcnJheShmaWx0ZXIocGF0aC5zcGxpdCgnLycpLCBmdW5jdGlvbihwKSB7XG4gICAgcmV0dXJuICEhcDtcbiAgfSksICFpc0Fic29sdXRlKS5qb2luKCcvJyk7XG5cbiAgaWYgKCFwYXRoICYmICFpc0Fic29sdXRlKSB7XG4gICAgcGF0aCA9ICcuJztcbiAgfVxuICBpZiAocGF0aCAmJiB0cmFpbGluZ1NsYXNoKSB7XG4gICAgcGF0aCArPSAnLyc7XG4gIH1cblxuICByZXR1cm4gKGlzQWJzb2x1dGUgPyAnLycgOiAnJykgKyBwYXRoO1xufTtcblxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5pc0Fic29sdXRlID0gZnVuY3Rpb24ocGF0aCkge1xuICByZXR1cm4gcGF0aC5jaGFyQXQoMCkgPT09ICcvJztcbn07XG5cbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydHMuam9pbiA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcGF0aHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuICByZXR1cm4gZXhwb3J0cy5ub3JtYWxpemUoZmlsdGVyKHBhdGhzLCBmdW5jdGlvbihwLCBpbmRleCkge1xuICAgIGlmICh0eXBlb2YgcCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50cyB0byBwYXRoLmpvaW4gbXVzdCBiZSBzdHJpbmdzJyk7XG4gICAgfVxuICAgIHJldHVybiBwO1xuICB9KS5qb2luKCcvJykpO1xufTtcblxuXG4vLyBwYXRoLnJlbGF0aXZlKGZyb20sIHRvKVxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5yZWxhdGl2ZSA9IGZ1bmN0aW9uKGZyb20sIHRvKSB7XG4gIGZyb20gPSBleHBvcnRzLnJlc29sdmUoZnJvbSkuc3Vic3RyKDEpO1xuICB0byA9IGV4cG9ydHMucmVzb2x2ZSh0bykuc3Vic3RyKDEpO1xuXG4gIGZ1bmN0aW9uIHRyaW0oYXJyKSB7XG4gICAgdmFyIHN0YXJ0ID0gMDtcbiAgICBmb3IgKDsgc3RhcnQgPCBhcnIubGVuZ3RoOyBzdGFydCsrKSB7XG4gICAgICBpZiAoYXJyW3N0YXJ0XSAhPT0gJycpIGJyZWFrO1xuICAgIH1cblxuICAgIHZhciBlbmQgPSBhcnIubGVuZ3RoIC0gMTtcbiAgICBmb3IgKDsgZW5kID49IDA7IGVuZC0tKSB7XG4gICAgICBpZiAoYXJyW2VuZF0gIT09ICcnKSBicmVhaztcbiAgICB9XG5cbiAgICBpZiAoc3RhcnQgPiBlbmQpIHJldHVybiBbXTtcbiAgICByZXR1cm4gYXJyLnNsaWNlKHN0YXJ0LCBlbmQgLSBzdGFydCArIDEpO1xuICB9XG5cbiAgdmFyIGZyb21QYXJ0cyA9IHRyaW0oZnJvbS5zcGxpdCgnLycpKTtcbiAgdmFyIHRvUGFydHMgPSB0cmltKHRvLnNwbGl0KCcvJykpO1xuXG4gIHZhciBsZW5ndGggPSBNYXRoLm1pbihmcm9tUGFydHMubGVuZ3RoLCB0b1BhcnRzLmxlbmd0aCk7XG4gIHZhciBzYW1lUGFydHNMZW5ndGggPSBsZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoZnJvbVBhcnRzW2ldICE9PSB0b1BhcnRzW2ldKSB7XG4gICAgICBzYW1lUGFydHNMZW5ndGggPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgdmFyIG91dHB1dFBhcnRzID0gW107XG4gIGZvciAodmFyIGkgPSBzYW1lUGFydHNMZW5ndGg7IGkgPCBmcm9tUGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICBvdXRwdXRQYXJ0cy5wdXNoKCcuLicpO1xuICB9XG5cbiAgb3V0cHV0UGFydHMgPSBvdXRwdXRQYXJ0cy5jb25jYXQodG9QYXJ0cy5zbGljZShzYW1lUGFydHNMZW5ndGgpKTtcblxuICByZXR1cm4gb3V0cHV0UGFydHMuam9pbignLycpO1xufTtcblxuZXhwb3J0cy5zZXAgPSAnLyc7XG5leHBvcnRzLmRlbGltaXRlciA9ICc6JztcblxuZXhwb3J0cy5kaXJuYW1lID0gZnVuY3Rpb24ocGF0aCkge1xuICB2YXIgcmVzdWx0ID0gc3BsaXRQYXRoKHBhdGgpLFxuICAgICAgcm9vdCA9IHJlc3VsdFswXSxcbiAgICAgIGRpciA9IHJlc3VsdFsxXTtcblxuICBpZiAoIXJvb3QgJiYgIWRpcikge1xuICAgIC8vIE5vIGRpcm5hbWUgd2hhdHNvZXZlclxuICAgIHJldHVybiAnLic7XG4gIH1cblxuICBpZiAoZGlyKSB7XG4gICAgLy8gSXQgaGFzIGEgZGlybmFtZSwgc3RyaXAgdHJhaWxpbmcgc2xhc2hcbiAgICBkaXIgPSBkaXIuc3Vic3RyKDAsIGRpci5sZW5ndGggLSAxKTtcbiAgfVxuXG4gIHJldHVybiByb290ICsgZGlyO1xufTtcblxuXG5leHBvcnRzLmJhc2VuYW1lID0gZnVuY3Rpb24ocGF0aCwgZXh0KSB7XG4gIHZhciBmID0gc3BsaXRQYXRoKHBhdGgpWzJdO1xuICAvLyBUT0RPOiBtYWtlIHRoaXMgY29tcGFyaXNvbiBjYXNlLWluc2Vuc2l0aXZlIG9uIHdpbmRvd3M/XG4gIGlmIChleHQgJiYgZi5zdWJzdHIoLTEgKiBleHQubGVuZ3RoKSA9PT0gZXh0KSB7XG4gICAgZiA9IGYuc3Vic3RyKDAsIGYubGVuZ3RoIC0gZXh0Lmxlbmd0aCk7XG4gIH1cbiAgcmV0dXJuIGY7XG59O1xuXG5cbmV4cG9ydHMuZXh0bmFtZSA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgcmV0dXJuIHNwbGl0UGF0aChwYXRoKVszXTtcbn07XG5cbmZ1bmN0aW9uIGZpbHRlciAoeHMsIGYpIHtcbiAgICBpZiAoeHMuZmlsdGVyKSByZXR1cm4geHMuZmlsdGVyKGYpO1xuICAgIHZhciByZXMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHhzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChmKHhzW2ldLCBpLCB4cykpIHJlcy5wdXNoKHhzW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cblxuLy8gU3RyaW5nLnByb3RvdHlwZS5zdWJzdHIgLSBuZWdhdGl2ZSBpbmRleCBkb24ndCB3b3JrIGluIElFOFxudmFyIHN1YnN0ciA9ICdhYicuc3Vic3RyKC0xKSA9PT0gJ2InXG4gICAgPyBmdW5jdGlvbiAoc3RyLCBzdGFydCwgbGVuKSB7IHJldHVybiBzdHIuc3Vic3RyKHN0YXJ0LCBsZW4pIH1cbiAgICA6IGZ1bmN0aW9uIChzdHIsIHN0YXJ0LCBsZW4pIHtcbiAgICAgICAgaWYgKHN0YXJ0IDwgMCkgc3RhcnQgPSBzdHIubGVuZ3RoICsgc3RhcnQ7XG4gICAgICAgIHJldHVybiBzdHIuc3Vic3RyKHN0YXJ0LCBsZW4pO1xuICAgIH1cbjtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9wYXRoLWJyb3dzZXJpZnkvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDkxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIihmdW5jdGlvbiAoZ2xvYmFsLCB1bmRlZmluZWQpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIGlmIChnbG9iYWwuc2V0SW1tZWRpYXRlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgbmV4dEhhbmRsZSA9IDE7IC8vIFNwZWMgc2F5cyBncmVhdGVyIHRoYW4gemVyb1xuICAgIHZhciB0YXNrc0J5SGFuZGxlID0ge307XG4gICAgdmFyIGN1cnJlbnRseVJ1bm5pbmdBVGFzayA9IGZhbHNlO1xuICAgIHZhciBkb2MgPSBnbG9iYWwuZG9jdW1lbnQ7XG4gICAgdmFyIHJlZ2lzdGVySW1tZWRpYXRlO1xuXG4gICAgZnVuY3Rpb24gc2V0SW1tZWRpYXRlKGNhbGxiYWNrKSB7XG4gICAgICAvLyBDYWxsYmFjayBjYW4gZWl0aGVyIGJlIGEgZnVuY3Rpb24gb3IgYSBzdHJpbmdcbiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBjYWxsYmFjayA9IG5ldyBGdW5jdGlvbihcIlwiICsgY2FsbGJhY2spO1xuICAgICAgfVxuICAgICAgLy8gQ29weSBmdW5jdGlvbiBhcmd1bWVudHNcbiAgICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaSArIDFdO1xuICAgICAgfVxuICAgICAgLy8gU3RvcmUgYW5kIHJlZ2lzdGVyIHRoZSB0YXNrXG4gICAgICB2YXIgdGFzayA9IHsgY2FsbGJhY2s6IGNhbGxiYWNrLCBhcmdzOiBhcmdzIH07XG4gICAgICB0YXNrc0J5SGFuZGxlW25leHRIYW5kbGVdID0gdGFzaztcbiAgICAgIHJlZ2lzdGVySW1tZWRpYXRlKG5leHRIYW5kbGUpO1xuICAgICAgcmV0dXJuIG5leHRIYW5kbGUrKztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbGVhckltbWVkaWF0ZShoYW5kbGUpIHtcbiAgICAgICAgZGVsZXRlIHRhc2tzQnlIYW5kbGVbaGFuZGxlXTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBydW4odGFzaykge1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSB0YXNrLmNhbGxiYWNrO1xuICAgICAgICB2YXIgYXJncyA9IHRhc2suYXJncztcbiAgICAgICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIGNhbGxiYWNrKGFyZ3NbMF0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIGNhbGxiYWNrKGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIGNhbGxiYWNrKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjYWxsYmFjay5hcHBseSh1bmRlZmluZWQsIGFyZ3MpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBydW5JZlByZXNlbnQoaGFuZGxlKSB7XG4gICAgICAgIC8vIEZyb20gdGhlIHNwZWM6IFwiV2FpdCB1bnRpbCBhbnkgaW52b2NhdGlvbnMgb2YgdGhpcyBhbGdvcml0aG0gc3RhcnRlZCBiZWZvcmUgdGhpcyBvbmUgaGF2ZSBjb21wbGV0ZWQuXCJcbiAgICAgICAgLy8gU28gaWYgd2UncmUgY3VycmVudGx5IHJ1bm5pbmcgYSB0YXNrLCB3ZSdsbCBuZWVkIHRvIGRlbGF5IHRoaXMgaW52b2NhdGlvbi5cbiAgICAgICAgaWYgKGN1cnJlbnRseVJ1bm5pbmdBVGFzaykge1xuICAgICAgICAgICAgLy8gRGVsYXkgYnkgZG9pbmcgYSBzZXRUaW1lb3V0LiBzZXRJbW1lZGlhdGUgd2FzIHRyaWVkIGluc3RlYWQsIGJ1dCBpbiBGaXJlZm94IDcgaXQgZ2VuZXJhdGVkIGFcbiAgICAgICAgICAgIC8vIFwidG9vIG11Y2ggcmVjdXJzaW9uXCIgZXJyb3IuXG4gICAgICAgICAgICBzZXRUaW1lb3V0KHJ1bklmUHJlc2VudCwgMCwgaGFuZGxlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciB0YXNrID0gdGFza3NCeUhhbmRsZVtoYW5kbGVdO1xuICAgICAgICAgICAgaWYgKHRhc2spIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50bHlSdW5uaW5nQVRhc2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJ1bih0YXNrKTtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhckltbWVkaWF0ZShoYW5kbGUpO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50bHlSdW5uaW5nQVRhc2sgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsTmV4dFRpY2tJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24gKCkgeyBydW5JZlByZXNlbnQoaGFuZGxlKTsgfSk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2FuVXNlUG9zdE1lc3NhZ2UoKSB7XG4gICAgICAgIC8vIFRoZSB0ZXN0IGFnYWluc3QgYGltcG9ydFNjcmlwdHNgIHByZXZlbnRzIHRoaXMgaW1wbGVtZW50YXRpb24gZnJvbSBiZWluZyBpbnN0YWxsZWQgaW5zaWRlIGEgd2ViIHdvcmtlcixcbiAgICAgICAgLy8gd2hlcmUgYGdsb2JhbC5wb3N0TWVzc2FnZWAgbWVhbnMgc29tZXRoaW5nIGNvbXBsZXRlbHkgZGlmZmVyZW50IGFuZCBjYW4ndCBiZSB1c2VkIGZvciB0aGlzIHB1cnBvc2UuXG4gICAgICAgIGlmIChnbG9iYWwucG9zdE1lc3NhZ2UgJiYgIWdsb2JhbC5pbXBvcnRTY3JpcHRzKSB7XG4gICAgICAgICAgICB2YXIgcG9zdE1lc3NhZ2VJc0FzeW5jaHJvbm91cyA9IHRydWU7XG4gICAgICAgICAgICB2YXIgb2xkT25NZXNzYWdlID0gZ2xvYmFsLm9ubWVzc2FnZTtcbiAgICAgICAgICAgIGdsb2JhbC5vbm1lc3NhZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBwb3N0TWVzc2FnZUlzQXN5bmNocm9ub3VzID0gZmFsc2U7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZ2xvYmFsLnBvc3RNZXNzYWdlKFwiXCIsIFwiKlwiKTtcbiAgICAgICAgICAgIGdsb2JhbC5vbm1lc3NhZ2UgPSBvbGRPbk1lc3NhZ2U7XG4gICAgICAgICAgICByZXR1cm4gcG9zdE1lc3NhZ2VJc0FzeW5jaHJvbm91cztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxQb3N0TWVzc2FnZUltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICAvLyBJbnN0YWxscyBhbiBldmVudCBoYW5kbGVyIG9uIGBnbG9iYWxgIGZvciB0aGUgYG1lc3NhZ2VgIGV2ZW50OiBzZWVcbiAgICAgICAgLy8gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9ET00vd2luZG93LnBvc3RNZXNzYWdlXG4gICAgICAgIC8vICogaHR0cDovL3d3dy53aGF0d2cub3JnL3NwZWNzL3dlYi1hcHBzL2N1cnJlbnQtd29yay9tdWx0aXBhZ2UvY29tbXMuaHRtbCNjcm9zc0RvY3VtZW50TWVzc2FnZXNcblxuICAgICAgICB2YXIgbWVzc2FnZVByZWZpeCA9IFwic2V0SW1tZWRpYXRlJFwiICsgTWF0aC5yYW5kb20oKSArIFwiJFwiO1xuICAgICAgICB2YXIgb25HbG9iYWxNZXNzYWdlID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGlmIChldmVudC5zb3VyY2UgPT09IGdsb2JhbCAmJlxuICAgICAgICAgICAgICAgIHR5cGVvZiBldmVudC5kYXRhID09PSBcInN0cmluZ1wiICYmXG4gICAgICAgICAgICAgICAgZXZlbnQuZGF0YS5pbmRleE9mKG1lc3NhZ2VQcmVmaXgpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcnVuSWZQcmVzZW50KCtldmVudC5kYXRhLnNsaWNlKG1lc3NhZ2VQcmVmaXgubGVuZ3RoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICBnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgb25HbG9iYWxNZXNzYWdlLCBmYWxzZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnbG9iYWwuYXR0YWNoRXZlbnQoXCJvbm1lc3NhZ2VcIiwgb25HbG9iYWxNZXNzYWdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICBnbG9iYWwucG9zdE1lc3NhZ2UobWVzc2FnZVByZWZpeCArIGhhbmRsZSwgXCIqXCIpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxNZXNzYWdlQ2hhbm5lbEltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICB2YXIgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuICAgICAgICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgaGFuZGxlID0gZXZlbnQuZGF0YTtcbiAgICAgICAgICAgIHJ1bklmUHJlc2VudChoYW5kbGUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICBjaGFubmVsLnBvcnQyLnBvc3RNZXNzYWdlKGhhbmRsZSk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbFJlYWR5U3RhdGVDaGFuZ2VJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgdmFyIGh0bWwgPSBkb2MuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgLy8gQ3JlYXRlIGEgPHNjcmlwdD4gZWxlbWVudDsgaXRzIHJlYWR5c3RhdGVjaGFuZ2UgZXZlbnQgd2lsbCBiZSBmaXJlZCBhc3luY2hyb25vdXNseSBvbmNlIGl0IGlzIGluc2VydGVkXG4gICAgICAgICAgICAvLyBpbnRvIHRoZSBkb2N1bWVudC4gRG8gc28sIHRodXMgcXVldWluZyB1cCB0aGUgdGFzay4gUmVtZW1iZXIgdG8gY2xlYW4gdXAgb25jZSBpdCdzIGJlZW4gY2FsbGVkLlxuICAgICAgICAgICAgdmFyIHNjcmlwdCA9IGRvYy5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xuICAgICAgICAgICAgc2NyaXB0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBydW5JZlByZXNlbnQoaGFuZGxlKTtcbiAgICAgICAgICAgICAgICBzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBodG1sLnJlbW92ZUNoaWxkKHNjcmlwdCk7XG4gICAgICAgICAgICAgICAgc2NyaXB0ID0gbnVsbDtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBodG1sLmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbFNldFRpbWVvdXRJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQocnVuSWZQcmVzZW50LCAwLCBoYW5kbGUpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIElmIHN1cHBvcnRlZCwgd2Ugc2hvdWxkIGF0dGFjaCB0byB0aGUgcHJvdG90eXBlIG9mIGdsb2JhbCwgc2luY2UgdGhhdCBpcyB3aGVyZSBzZXRUaW1lb3V0IGV0IGFsLiBsaXZlLlxuICAgIHZhciBhdHRhY2hUbyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZ2xvYmFsKTtcbiAgICBhdHRhY2hUbyA9IGF0dGFjaFRvICYmIGF0dGFjaFRvLnNldFRpbWVvdXQgPyBhdHRhY2hUbyA6IGdsb2JhbDtcblxuICAgIC8vIERvbid0IGdldCBmb29sZWQgYnkgZS5nLiBicm93c2VyaWZ5IGVudmlyb25tZW50cy5cbiAgICBpZiAoe30udG9TdHJpbmcuY2FsbChnbG9iYWwucHJvY2VzcykgPT09IFwiW29iamVjdCBwcm9jZXNzXVwiKSB7XG4gICAgICAgIC8vIEZvciBOb2RlLmpzIGJlZm9yZSAwLjlcbiAgICAgICAgaW5zdGFsbE5leHRUaWNrSW1wbGVtZW50YXRpb24oKTtcblxuICAgIH0gZWxzZSBpZiAoY2FuVXNlUG9zdE1lc3NhZ2UoKSkge1xuICAgICAgICAvLyBGb3Igbm9uLUlFMTAgbW9kZXJuIGJyb3dzZXJzXG4gICAgICAgIGluc3RhbGxQb3N0TWVzc2FnZUltcGxlbWVudGF0aW9uKCk7XG5cbiAgICB9IGVsc2UgaWYgKGdsb2JhbC5NZXNzYWdlQ2hhbm5lbCkge1xuICAgICAgICAvLyBGb3Igd2ViIHdvcmtlcnMsIHdoZXJlIHN1cHBvcnRlZFxuICAgICAgICBpbnN0YWxsTWVzc2FnZUNoYW5uZWxJbXBsZW1lbnRhdGlvbigpO1xuXG4gICAgfSBlbHNlIGlmIChkb2MgJiYgXCJvbnJlYWR5c3RhdGVjaGFuZ2VcIiBpbiBkb2MuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKSkge1xuICAgICAgICAvLyBGb3IgSUUgNuKAkzhcbiAgICAgICAgaW5zdGFsbFJlYWR5U3RhdGVDaGFuZ2VJbXBsZW1lbnRhdGlvbigpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRm9yIG9sZGVyIGJyb3dzZXJzXG4gICAgICAgIGluc3RhbGxTZXRUaW1lb3V0SW1wbGVtZW50YXRpb24oKTtcbiAgICB9XG5cbiAgICBhdHRhY2hUby5zZXRJbW1lZGlhdGUgPSBzZXRJbW1lZGlhdGU7XG4gICAgYXR0YWNoVG8uY2xlYXJJbW1lZGlhdGUgPSBjbGVhckltbWVkaWF0ZTtcbn0odHlwZW9mIHNlbGYgPT09IFwidW5kZWZpbmVkXCIgPyB0eXBlb2YgZ2xvYmFsID09PSBcInVuZGVmaW5lZFwiID8gdGhpcyA6IGdsb2JhbCA6IHNlbGYpKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9zZXRpbW1lZGlhdGUvc2V0SW1tZWRpYXRlLmpzXG4vLyBtb2R1bGUgaWQgPSA5MlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnRzLmdldCA9IGZ1bmN0aW9uKGJlbG93Rm4pIHtcbiAgdmFyIG9sZExpbWl0ID0gRXJyb3Iuc3RhY2tUcmFjZUxpbWl0O1xuICBFcnJvci5zdGFja1RyYWNlTGltaXQgPSBJbmZpbml0eTtcblxuICB2YXIgZHVtbXlPYmplY3QgPSB7fTtcblxuICB2YXIgdjhIYW5kbGVyID0gRXJyb3IucHJlcGFyZVN0YWNrVHJhY2U7XG4gIEVycm9yLnByZXBhcmVTdGFja1RyYWNlID0gZnVuY3Rpb24oZHVtbXlPYmplY3QsIHY4U3RhY2tUcmFjZSkge1xuICAgIHJldHVybiB2OFN0YWNrVHJhY2U7XG4gIH07XG4gIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKGR1bW15T2JqZWN0LCBiZWxvd0ZuIHx8IGV4cG9ydHMuZ2V0KTtcblxuICB2YXIgdjhTdGFja1RyYWNlID0gZHVtbXlPYmplY3Quc3RhY2s7XG4gIEVycm9yLnByZXBhcmVTdGFja1RyYWNlID0gdjhIYW5kbGVyO1xuICBFcnJvci5zdGFja1RyYWNlTGltaXQgPSBvbGRMaW1pdDtcblxuICByZXR1cm4gdjhTdGFja1RyYWNlO1xufTtcblxuZXhwb3J0cy5wYXJzZSA9IGZ1bmN0aW9uKGVycikge1xuICBpZiAoIWVyci5zdGFjaykge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIHZhciBzZWxmID0gdGhpcztcbiAgdmFyIGxpbmVzID0gZXJyLnN0YWNrLnNwbGl0KCdcXG4nKS5zbGljZSgxKTtcblxuICByZXR1cm4gbGluZXNcbiAgICAubWFwKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgIGlmIChsaW5lLm1hdGNoKC9eXFxzKlstXXs0LH0kLykpIHtcbiAgICAgICAgcmV0dXJuIHNlbGYuX2NyZWF0ZVBhcnNlZENhbGxTaXRlKHtcbiAgICAgICAgICBmaWxlTmFtZTogbGluZSxcbiAgICAgICAgICBsaW5lTnVtYmVyOiBudWxsLFxuICAgICAgICAgIGZ1bmN0aW9uTmFtZTogbnVsbCxcbiAgICAgICAgICB0eXBlTmFtZTogbnVsbCxcbiAgICAgICAgICBtZXRob2ROYW1lOiBudWxsLFxuICAgICAgICAgIGNvbHVtbk51bWJlcjogbnVsbCxcbiAgICAgICAgICAnbmF0aXZlJzogbnVsbCxcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBsaW5lTWF0Y2ggPSBsaW5lLm1hdGNoKC9hdCAoPzooLispXFxzKyk/XFwoPyg/OiguKz8pOihcXGQrKTooXFxkKyl8KFteKV0rKSlcXCk/Lyk7XG4gICAgICBpZiAoIWxpbmVNYXRjaCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBvYmplY3QgPSBudWxsO1xuICAgICAgdmFyIG1ldGhvZCA9IG51bGw7XG4gICAgICB2YXIgZnVuY3Rpb25OYW1lID0gbnVsbDtcbiAgICAgIHZhciB0eXBlTmFtZSA9IG51bGw7XG4gICAgICB2YXIgbWV0aG9kTmFtZSA9IG51bGw7XG4gICAgICB2YXIgaXNOYXRpdmUgPSAobGluZU1hdGNoWzVdID09PSAnbmF0aXZlJyk7XG5cbiAgICAgIGlmIChsaW5lTWF0Y2hbMV0pIHtcbiAgICAgICAgdmFyIG1ldGhvZE1hdGNoID0gbGluZU1hdGNoWzFdLm1hdGNoKC8oW15cXC5dKykoPzpcXC4oLispKT8vKTtcbiAgICAgICAgb2JqZWN0ID0gbWV0aG9kTWF0Y2hbMV07XG4gICAgICAgIG1ldGhvZCA9IG1ldGhvZE1hdGNoWzJdO1xuICAgICAgICBmdW5jdGlvbk5hbWUgPSBsaW5lTWF0Y2hbMV07XG4gICAgICAgIHR5cGVOYW1lID0gJ09iamVjdCc7XG4gICAgICB9XG5cbiAgICAgIGlmIChtZXRob2QpIHtcbiAgICAgICAgdHlwZU5hbWUgPSBvYmplY3Q7XG4gICAgICAgIG1ldGhvZE5hbWUgPSBtZXRob2Q7XG4gICAgICB9XG5cbiAgICAgIGlmIChtZXRob2QgPT09ICc8YW5vbnltb3VzPicpIHtcbiAgICAgICAgbWV0aG9kTmFtZSA9IG51bGw7XG4gICAgICAgIGZ1bmN0aW9uTmFtZSA9ICcnO1xuICAgICAgfVxuXG4gICAgICB2YXIgcHJvcGVydGllcyA9IHtcbiAgICAgICAgZmlsZU5hbWU6IGxpbmVNYXRjaFsyXSB8fCBudWxsLFxuICAgICAgICBsaW5lTnVtYmVyOiBwYXJzZUludChsaW5lTWF0Y2hbM10sIDEwKSB8fCBudWxsLFxuICAgICAgICBmdW5jdGlvbk5hbWU6IGZ1bmN0aW9uTmFtZSxcbiAgICAgICAgdHlwZU5hbWU6IHR5cGVOYW1lLFxuICAgICAgICBtZXRob2ROYW1lOiBtZXRob2ROYW1lLFxuICAgICAgICBjb2x1bW5OdW1iZXI6IHBhcnNlSW50KGxpbmVNYXRjaFs0XSwgMTApIHx8IG51bGwsXG4gICAgICAgICduYXRpdmUnOiBpc05hdGl2ZSxcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBzZWxmLl9jcmVhdGVQYXJzZWRDYWxsU2l0ZShwcm9wZXJ0aWVzKTtcbiAgICB9KVxuICAgIC5maWx0ZXIoZnVuY3Rpb24oY2FsbFNpdGUpIHtcbiAgICAgIHJldHVybiAhIWNhbGxTaXRlO1xuICAgIH0pO1xufTtcblxuZXhwb3J0cy5fY3JlYXRlUGFyc2VkQ2FsbFNpdGUgPSBmdW5jdGlvbihwcm9wZXJ0aWVzKSB7XG4gIHZhciBtZXRob2RzID0ge307XG4gIGZvciAodmFyIHByb3BlcnR5IGluIHByb3BlcnRpZXMpIHtcbiAgICB2YXIgcHJlZml4ID0gJ2dldCc7XG4gICAgaWYgKHByb3BlcnR5ID09PSAnbmF0aXZlJykge1xuICAgICAgcHJlZml4ID0gJ2lzJztcbiAgICB9XG4gICAgdmFyIG1ldGhvZCA9IHByZWZpeCArIHByb3BlcnR5LnN1YnN0cigwLCAxKS50b1VwcGVyQ2FzZSgpICsgcHJvcGVydHkuc3Vic3RyKDEpO1xuXG4gICAgKGZ1bmN0aW9uKHByb3BlcnR5KSB7XG4gICAgICBtZXRob2RzW21ldGhvZF0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHByb3BlcnRpZXNbcHJvcGVydHldO1xuICAgICAgfVxuICAgIH0pKHByb3BlcnR5KTtcbiAgfVxuXG4gIHZhciBjYWxsU2l0ZSA9IE9iamVjdC5jcmVhdGUobWV0aG9kcyk7XG4gIGZvciAodmFyIHByb3BlcnR5IGluIHByb3BlcnRpZXMpIHtcbiAgICBjYWxsU2l0ZVtwcm9wZXJ0eV0gPSBwcm9wZXJ0aWVzW3Byb3BlcnR5XTtcbiAgfVxuXG4gIHJldHVybiBjYWxsU2l0ZTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vc3RhY2stdHJhY2UvbGliL3N0YWNrLXRyYWNlLmpzXG4vLyBtb2R1bGUgaWQgPSA5M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgYXBwbHkgPSBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHk7XG5cbi8vIERPTSBBUElzLCBmb3IgY29tcGxldGVuZXNzXG5cbmV4cG9ydHMuc2V0VGltZW91dCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFRpbWVvdXQoYXBwbHkuY2FsbChzZXRUaW1lb3V0LCB3aW5kb3csIGFyZ3VtZW50cyksIGNsZWFyVGltZW91dCk7XG59O1xuZXhwb3J0cy5zZXRJbnRlcnZhbCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFRpbWVvdXQoYXBwbHkuY2FsbChzZXRJbnRlcnZhbCwgd2luZG93LCBhcmd1bWVudHMpLCBjbGVhckludGVydmFsKTtcbn07XG5leHBvcnRzLmNsZWFyVGltZW91dCA9XG5leHBvcnRzLmNsZWFySW50ZXJ2YWwgPSBmdW5jdGlvbih0aW1lb3V0KSB7XG4gIGlmICh0aW1lb3V0KSB7XG4gICAgdGltZW91dC5jbG9zZSgpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBUaW1lb3V0KGlkLCBjbGVhckZuKSB7XG4gIHRoaXMuX2lkID0gaWQ7XG4gIHRoaXMuX2NsZWFyRm4gPSBjbGVhckZuO1xufVxuVGltZW91dC5wcm90b3R5cGUudW5yZWYgPSBUaW1lb3V0LnByb3RvdHlwZS5yZWYgPSBmdW5jdGlvbigpIHt9O1xuVGltZW91dC5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fY2xlYXJGbi5jYWxsKHdpbmRvdywgdGhpcy5faWQpO1xufTtcblxuLy8gRG9lcyBub3Qgc3RhcnQgdGhlIHRpbWUsIGp1c3Qgc2V0cyB1cCB0aGUgbWVtYmVycyBuZWVkZWQuXG5leHBvcnRzLmVucm9sbCA9IGZ1bmN0aW9uKGl0ZW0sIG1zZWNzKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcbiAgaXRlbS5faWRsZVRpbWVvdXQgPSBtc2Vjcztcbn07XG5cbmV4cG9ydHMudW5lbnJvbGwgPSBmdW5jdGlvbihpdGVtKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcbiAgaXRlbS5faWRsZVRpbWVvdXQgPSAtMTtcbn07XG5cbmV4cG9ydHMuX3VucmVmQWN0aXZlID0gZXhwb3J0cy5hY3RpdmUgPSBmdW5jdGlvbihpdGVtKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcblxuICB2YXIgbXNlY3MgPSBpdGVtLl9pZGxlVGltZW91dDtcbiAgaWYgKG1zZWNzID49IDApIHtcbiAgICBpdGVtLl9pZGxlVGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiBvblRpbWVvdXQoKSB7XG4gICAgICBpZiAoaXRlbS5fb25UaW1lb3V0KVxuICAgICAgICBpdGVtLl9vblRpbWVvdXQoKTtcbiAgICB9LCBtc2Vjcyk7XG4gIH1cbn07XG5cbi8vIHNldGltbWVkaWF0ZSBhdHRhY2hlcyBpdHNlbGYgdG8gdGhlIGdsb2JhbCBvYmplY3RcbnJlcXVpcmUoXCJzZXRpbW1lZGlhdGVcIik7XG5leHBvcnRzLnNldEltbWVkaWF0ZSA9IHNldEltbWVkaWF0ZTtcbmV4cG9ydHMuY2xlYXJJbW1lZGlhdGUgPSBjbGVhckltbWVkaWF0ZTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi90aW1lcnMtYnJvd3NlcmlmeS9tYWluLmpzXG4vLyBtb2R1bGUgaWQgPSA5NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gMjE0NzQ4MzY0NztcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi90aW1lcnMtZXh0L21heC10aW1lb3V0LmpzXG4vLyBtb2R1bGUgaWQgPSA5NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbnZhciB0b1Bvc0ludCAgID0gcmVxdWlyZSgnZXM1LWV4dC9udW1iZXIvdG8tcG9zLWludGVnZXInKVxuICAsIG1heFRpbWVvdXQgPSByZXF1aXJlKCcuL21heC10aW1lb3V0Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdHZhbHVlID0gdG9Qb3NJbnQodmFsdWUpO1xuXHRpZiAodmFsdWUgPiBtYXhUaW1lb3V0KSB0aHJvdyBuZXcgVHlwZUVycm9yKHZhbHVlICsgXCIgZXhjZWVkcyBtYXhpbXVtIHBvc3NpYmxlIHRpbWVvdXRcIik7XG5cdHJldHVybiB2YWx1ZTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vdGltZXJzLWV4dC92YWxpZC10aW1lb3V0LmpzXG4vLyBtb2R1bGUgaWQgPSA5NlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpZiAodHlwZW9mIE9iamVjdC5jcmVhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgLy8gaW1wbGVtZW50YXRpb24gZnJvbSBzdGFuZGFyZCBub2RlLmpzICd1dGlsJyBtb2R1bGVcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvclxuICAgIGN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckN0b3IucHJvdG90eXBlLCB7XG4gICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICB2YWx1ZTogY3RvcixcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbn0gZWxzZSB7XG4gIC8vIG9sZCBzY2hvb2wgc2hpbSBmb3Igb2xkIGJyb3dzZXJzXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3JcbiAgICB2YXIgVGVtcEN0b3IgPSBmdW5jdGlvbiAoKSB7fVxuICAgIFRlbXBDdG9yLnByb3RvdHlwZSA9IHN1cGVyQ3Rvci5wcm90b3R5cGVcbiAgICBjdG9yLnByb3RvdHlwZSA9IG5ldyBUZW1wQ3RvcigpXG4gICAgY3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBjdG9yXG4gIH1cbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi91dGlsL34vaW5oZXJpdHMvaW5oZXJpdHNfYnJvd3Nlci5qc1xuLy8gbW9kdWxlIGlkID0gOTdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0J1ZmZlcihhcmcpIHtcbiAgcmV0dXJuIGFyZyAmJiB0eXBlb2YgYXJnID09PSAnb2JqZWN0J1xuICAgICYmIHR5cGVvZiBhcmcuY29weSA9PT0gJ2Z1bmN0aW9uJ1xuICAgICYmIHR5cGVvZiBhcmcuZmlsbCA9PT0gJ2Z1bmN0aW9uJ1xuICAgICYmIHR5cGVvZiBhcmcucmVhZFVJbnQ4ID09PSAnZnVuY3Rpb24nO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi91dGlsL3N1cHBvcnQvaXNCdWZmZXJCcm93c2VyLmpzXG4vLyBtb2R1bGUgaWQgPSA5OFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxudmFyIGZvcm1hdFJlZ0V4cCA9IC8lW3NkaiVdL2c7XG5leHBvcnRzLmZvcm1hdCA9IGZ1bmN0aW9uKGYpIHtcbiAgaWYgKCFpc1N0cmluZyhmKSkge1xuICAgIHZhciBvYmplY3RzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIG9iamVjdHMucHVzaChpbnNwZWN0KGFyZ3VtZW50c1tpXSkpO1xuICAgIH1cbiAgICByZXR1cm4gb2JqZWN0cy5qb2luKCcgJyk7XG4gIH1cblxuICB2YXIgaSA9IDE7XG4gIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICB2YXIgbGVuID0gYXJncy5sZW5ndGg7XG4gIHZhciBzdHIgPSBTdHJpbmcoZikucmVwbGFjZShmb3JtYXRSZWdFeHAsIGZ1bmN0aW9uKHgpIHtcbiAgICBpZiAoeCA9PT0gJyUlJykgcmV0dXJuICclJztcbiAgICBpZiAoaSA+PSBsZW4pIHJldHVybiB4O1xuICAgIHN3aXRjaCAoeCkge1xuICAgICAgY2FzZSAnJXMnOiByZXR1cm4gU3RyaW5nKGFyZ3NbaSsrXSk7XG4gICAgICBjYXNlICclZCc6IHJldHVybiBOdW1iZXIoYXJnc1tpKytdKTtcbiAgICAgIGNhc2UgJyVqJzpcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoYXJnc1tpKytdKTtcbiAgICAgICAgfSBjYXRjaCAoXykge1xuICAgICAgICAgIHJldHVybiAnW0NpcmN1bGFyXSc7XG4gICAgICAgIH1cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB4O1xuICAgIH1cbiAgfSk7XG4gIGZvciAodmFyIHggPSBhcmdzW2ldOyBpIDwgbGVuOyB4ID0gYXJnc1srK2ldKSB7XG4gICAgaWYgKGlzTnVsbCh4KSB8fCAhaXNPYmplY3QoeCkpIHtcbiAgICAgIHN0ciArPSAnICcgKyB4O1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHIgKz0gJyAnICsgaW5zcGVjdCh4KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0cjtcbn07XG5cblxuLy8gTWFyayB0aGF0IGEgbWV0aG9kIHNob3VsZCBub3QgYmUgdXNlZC5cbi8vIFJldHVybnMgYSBtb2RpZmllZCBmdW5jdGlvbiB3aGljaCB3YXJucyBvbmNlIGJ5IGRlZmF1bHQuXG4vLyBJZiAtLW5vLWRlcHJlY2F0aW9uIGlzIHNldCwgdGhlbiBpdCBpcyBhIG5vLW9wLlxuZXhwb3J0cy5kZXByZWNhdGUgPSBmdW5jdGlvbihmbiwgbXNnKSB7XG4gIC8vIEFsbG93IGZvciBkZXByZWNhdGluZyB0aGluZ3MgaW4gdGhlIHByb2Nlc3Mgb2Ygc3RhcnRpbmcgdXAuXG4gIGlmIChpc1VuZGVmaW5lZChnbG9iYWwucHJvY2VzcykpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZXhwb3J0cy5kZXByZWNhdGUoZm4sIG1zZykuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xuICB9XG5cbiAgaWYgKHByb2Nlc3Mubm9EZXByZWNhdGlvbiA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiBmbjtcbiAgfVxuXG4gIHZhciB3YXJuZWQgPSBmYWxzZTtcbiAgZnVuY3Rpb24gZGVwcmVjYXRlZCgpIHtcbiAgICBpZiAoIXdhcm5lZCkge1xuICAgICAgaWYgKHByb2Nlc3MudGhyb3dEZXByZWNhdGlvbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICAgIH0gZWxzZSBpZiAocHJvY2Vzcy50cmFjZURlcHJlY2F0aW9uKSB7XG4gICAgICAgIGNvbnNvbGUudHJhY2UobXNnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IobXNnKTtcbiAgICAgIH1cbiAgICAgIHdhcm5lZCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgcmV0dXJuIGRlcHJlY2F0ZWQ7XG59O1xuXG5cbnZhciBkZWJ1Z3MgPSB7fTtcbnZhciBkZWJ1Z0Vudmlyb247XG5leHBvcnRzLmRlYnVnbG9nID0gZnVuY3Rpb24oc2V0KSB7XG4gIGlmIChpc1VuZGVmaW5lZChkZWJ1Z0Vudmlyb24pKVxuICAgIGRlYnVnRW52aXJvbiA9IHByb2Nlc3MuZW52Lk5PREVfREVCVUcgfHwgJyc7XG4gIHNldCA9IHNldC50b1VwcGVyQ2FzZSgpO1xuICBpZiAoIWRlYnVnc1tzZXRdKSB7XG4gICAgaWYgKG5ldyBSZWdFeHAoJ1xcXFxiJyArIHNldCArICdcXFxcYicsICdpJykudGVzdChkZWJ1Z0Vudmlyb24pKSB7XG4gICAgICB2YXIgcGlkID0gcHJvY2Vzcy5waWQ7XG4gICAgICBkZWJ1Z3Nbc2V0XSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbXNnID0gZXhwb3J0cy5mb3JtYXQuYXBwbHkoZXhwb3J0cywgYXJndW1lbnRzKTtcbiAgICAgICAgY29uc29sZS5lcnJvcignJXMgJWQ6ICVzJywgc2V0LCBwaWQsIG1zZyk7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWJ1Z3Nbc2V0XSA9IGZ1bmN0aW9uKCkge307XG4gICAgfVxuICB9XG4gIHJldHVybiBkZWJ1Z3Nbc2V0XTtcbn07XG5cblxuLyoqXG4gKiBFY2hvcyB0aGUgdmFsdWUgb2YgYSB2YWx1ZS4gVHJ5cyB0byBwcmludCB0aGUgdmFsdWUgb3V0XG4gKiBpbiB0aGUgYmVzdCB3YXkgcG9zc2libGUgZ2l2ZW4gdGhlIGRpZmZlcmVudCB0eXBlcy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqIFRoZSBvYmplY3QgdG8gcHJpbnQgb3V0LlxuICogQHBhcmFtIHtPYmplY3R9IG9wdHMgT3B0aW9uYWwgb3B0aW9ucyBvYmplY3QgdGhhdCBhbHRlcnMgdGhlIG91dHB1dC5cbiAqL1xuLyogbGVnYWN5OiBvYmosIHNob3dIaWRkZW4sIGRlcHRoLCBjb2xvcnMqL1xuZnVuY3Rpb24gaW5zcGVjdChvYmosIG9wdHMpIHtcbiAgLy8gZGVmYXVsdCBvcHRpb25zXG4gIHZhciBjdHggPSB7XG4gICAgc2VlbjogW10sXG4gICAgc3R5bGl6ZTogc3R5bGl6ZU5vQ29sb3JcbiAgfTtcbiAgLy8gbGVnYWN5Li4uXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDMpIGN0eC5kZXB0aCA9IGFyZ3VtZW50c1syXTtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gNCkgY3R4LmNvbG9ycyA9IGFyZ3VtZW50c1szXTtcbiAgaWYgKGlzQm9vbGVhbihvcHRzKSkge1xuICAgIC8vIGxlZ2FjeS4uLlxuICAgIGN0eC5zaG93SGlkZGVuID0gb3B0cztcbiAgfSBlbHNlIGlmIChvcHRzKSB7XG4gICAgLy8gZ290IGFuIFwib3B0aW9uc1wiIG9iamVjdFxuICAgIGV4cG9ydHMuX2V4dGVuZChjdHgsIG9wdHMpO1xuICB9XG4gIC8vIHNldCBkZWZhdWx0IG9wdGlvbnNcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5zaG93SGlkZGVuKSkgY3R4LnNob3dIaWRkZW4gPSBmYWxzZTtcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5kZXB0aCkpIGN0eC5kZXB0aCA9IDI7XG4gIGlmIChpc1VuZGVmaW5lZChjdHguY29sb3JzKSkgY3R4LmNvbG9ycyA9IGZhbHNlO1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LmN1c3RvbUluc3BlY3QpKSBjdHguY3VzdG9tSW5zcGVjdCA9IHRydWU7XG4gIGlmIChjdHguY29sb3JzKSBjdHguc3R5bGl6ZSA9IHN0eWxpemVXaXRoQ29sb3I7XG4gIHJldHVybiBmb3JtYXRWYWx1ZShjdHgsIG9iaiwgY3R4LmRlcHRoKTtcbn1cbmV4cG9ydHMuaW5zcGVjdCA9IGluc3BlY3Q7XG5cblxuLy8gaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9BTlNJX2VzY2FwZV9jb2RlI2dyYXBoaWNzXG5pbnNwZWN0LmNvbG9ycyA9IHtcbiAgJ2JvbGQnIDogWzEsIDIyXSxcbiAgJ2l0YWxpYycgOiBbMywgMjNdLFxuICAndW5kZXJsaW5lJyA6IFs0LCAyNF0sXG4gICdpbnZlcnNlJyA6IFs3LCAyN10sXG4gICd3aGl0ZScgOiBbMzcsIDM5XSxcbiAgJ2dyZXknIDogWzkwLCAzOV0sXG4gICdibGFjaycgOiBbMzAsIDM5XSxcbiAgJ2JsdWUnIDogWzM0LCAzOV0sXG4gICdjeWFuJyA6IFszNiwgMzldLFxuICAnZ3JlZW4nIDogWzMyLCAzOV0sXG4gICdtYWdlbnRhJyA6IFszNSwgMzldLFxuICAncmVkJyA6IFszMSwgMzldLFxuICAneWVsbG93JyA6IFszMywgMzldXG59O1xuXG4vLyBEb24ndCB1c2UgJ2JsdWUnIG5vdCB2aXNpYmxlIG9uIGNtZC5leGVcbmluc3BlY3Quc3R5bGVzID0ge1xuICAnc3BlY2lhbCc6ICdjeWFuJyxcbiAgJ251bWJlcic6ICd5ZWxsb3cnLFxuICAnYm9vbGVhbic6ICd5ZWxsb3cnLFxuICAndW5kZWZpbmVkJzogJ2dyZXknLFxuICAnbnVsbCc6ICdib2xkJyxcbiAgJ3N0cmluZyc6ICdncmVlbicsXG4gICdkYXRlJzogJ21hZ2VudGEnLFxuICAvLyBcIm5hbWVcIjogaW50ZW50aW9uYWxseSBub3Qgc3R5bGluZ1xuICAncmVnZXhwJzogJ3JlZCdcbn07XG5cblxuZnVuY3Rpb24gc3R5bGl6ZVdpdGhDb2xvcihzdHIsIHN0eWxlVHlwZSkge1xuICB2YXIgc3R5bGUgPSBpbnNwZWN0LnN0eWxlc1tzdHlsZVR5cGVdO1xuXG4gIGlmIChzdHlsZSkge1xuICAgIHJldHVybiAnXFx1MDAxYlsnICsgaW5zcGVjdC5jb2xvcnNbc3R5bGVdWzBdICsgJ20nICsgc3RyICtcbiAgICAgICAgICAgJ1xcdTAwMWJbJyArIGluc3BlY3QuY29sb3JzW3N0eWxlXVsxXSArICdtJztcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gc3RyO1xuICB9XG59XG5cblxuZnVuY3Rpb24gc3R5bGl6ZU5vQ29sb3Ioc3RyLCBzdHlsZVR5cGUpIHtcbiAgcmV0dXJuIHN0cjtcbn1cblxuXG5mdW5jdGlvbiBhcnJheVRvSGFzaChhcnJheSkge1xuICB2YXIgaGFzaCA9IHt9O1xuXG4gIGFycmF5LmZvckVhY2goZnVuY3Rpb24odmFsLCBpZHgpIHtcbiAgICBoYXNoW3ZhbF0gPSB0cnVlO1xuICB9KTtcblxuICByZXR1cm4gaGFzaDtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRWYWx1ZShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMpIHtcbiAgLy8gUHJvdmlkZSBhIGhvb2sgZm9yIHVzZXItc3BlY2lmaWVkIGluc3BlY3QgZnVuY3Rpb25zLlxuICAvLyBDaGVjayB0aGF0IHZhbHVlIGlzIGFuIG9iamVjdCB3aXRoIGFuIGluc3BlY3QgZnVuY3Rpb24gb24gaXRcbiAgaWYgKGN0eC5jdXN0b21JbnNwZWN0ICYmXG4gICAgICB2YWx1ZSAmJlxuICAgICAgaXNGdW5jdGlvbih2YWx1ZS5pbnNwZWN0KSAmJlxuICAgICAgLy8gRmlsdGVyIG91dCB0aGUgdXRpbCBtb2R1bGUsIGl0J3MgaW5zcGVjdCBmdW5jdGlvbiBpcyBzcGVjaWFsXG4gICAgICB2YWx1ZS5pbnNwZWN0ICE9PSBleHBvcnRzLmluc3BlY3QgJiZcbiAgICAgIC8vIEFsc28gZmlsdGVyIG91dCBhbnkgcHJvdG90eXBlIG9iamVjdHMgdXNpbmcgdGhlIGNpcmN1bGFyIGNoZWNrLlxuICAgICAgISh2YWx1ZS5jb25zdHJ1Y3RvciAmJiB2YWx1ZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgPT09IHZhbHVlKSkge1xuICAgIHZhciByZXQgPSB2YWx1ZS5pbnNwZWN0KHJlY3Vyc2VUaW1lcywgY3R4KTtcbiAgICBpZiAoIWlzU3RyaW5nKHJldCkpIHtcbiAgICAgIHJldCA9IGZvcm1hdFZhbHVlKGN0eCwgcmV0LCByZWN1cnNlVGltZXMpO1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xuICB9XG5cbiAgLy8gUHJpbWl0aXZlIHR5cGVzIGNhbm5vdCBoYXZlIHByb3BlcnRpZXNcbiAgdmFyIHByaW1pdGl2ZSA9IGZvcm1hdFByaW1pdGl2ZShjdHgsIHZhbHVlKTtcbiAgaWYgKHByaW1pdGl2ZSkge1xuICAgIHJldHVybiBwcmltaXRpdmU7XG4gIH1cblxuICAvLyBMb29rIHVwIHRoZSBrZXlzIG9mIHRoZSBvYmplY3QuXG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXModmFsdWUpO1xuICB2YXIgdmlzaWJsZUtleXMgPSBhcnJheVRvSGFzaChrZXlzKTtcblxuICBpZiAoY3R4LnNob3dIaWRkZW4pIHtcbiAgICBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpO1xuICB9XG5cbiAgLy8gSUUgZG9lc24ndCBtYWtlIGVycm9yIGZpZWxkcyBub24tZW51bWVyYWJsZVxuICAvLyBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvaWUvZHd3NTJzYnQodj12cy45NCkuYXNweFxuICBpZiAoaXNFcnJvcih2YWx1ZSlcbiAgICAgICYmIChrZXlzLmluZGV4T2YoJ21lc3NhZ2UnKSA+PSAwIHx8IGtleXMuaW5kZXhPZignZGVzY3JpcHRpb24nKSA+PSAwKSkge1xuICAgIHJldHVybiBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gIH1cblxuICAvLyBTb21lIHR5cGUgb2Ygb2JqZWN0IHdpdGhvdXQgcHJvcGVydGllcyBjYW4gYmUgc2hvcnRjdXR0ZWQuXG4gIGlmIChrZXlzLmxlbmd0aCA9PT0gMCkge1xuICAgIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgdmFyIG5hbWUgPSB2YWx1ZS5uYW1lID8gJzogJyArIHZhbHVlLm5hbWUgOiAnJztcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZSgnW0Z1bmN0aW9uJyArIG5hbWUgKyAnXScsICdzcGVjaWFsJyk7XG4gICAgfVxuICAgIGlmIChpc1JlZ0V4cCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZShSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAncmVnZXhwJyk7XG4gICAgfVxuICAgIGlmIChpc0RhdGUodmFsdWUpKSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdkYXRlJyk7XG4gICAgfVxuICAgIGlmIChpc0Vycm9yKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGZvcm1hdEVycm9yKHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICB2YXIgYmFzZSA9ICcnLCBhcnJheSA9IGZhbHNlLCBicmFjZXMgPSBbJ3snLCAnfSddO1xuXG4gIC8vIE1ha2UgQXJyYXkgc2F5IHRoYXQgdGhleSBhcmUgQXJyYXlcbiAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgYXJyYXkgPSB0cnVlO1xuICAgIGJyYWNlcyA9IFsnWycsICddJ107XG4gIH1cblxuICAvLyBNYWtlIGZ1bmN0aW9ucyBzYXkgdGhhdCB0aGV5IGFyZSBmdW5jdGlvbnNcbiAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgdmFyIG4gPSB2YWx1ZS5uYW1lID8gJzogJyArIHZhbHVlLm5hbWUgOiAnJztcbiAgICBiYXNlID0gJyBbRnVuY3Rpb24nICsgbiArICddJztcbiAgfVxuXG4gIC8vIE1ha2UgUmVnRXhwcyBzYXkgdGhhdCB0aGV5IGFyZSBSZWdFeHBzXG4gIGlmIChpc1JlZ0V4cCh2YWx1ZSkpIHtcbiAgICBiYXNlID0gJyAnICsgUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgfVxuXG4gIC8vIE1ha2UgZGF0ZXMgd2l0aCBwcm9wZXJ0aWVzIGZpcnN0IHNheSB0aGUgZGF0ZVxuICBpZiAoaXNEYXRlKHZhbHVlKSkge1xuICAgIGJhc2UgPSAnICcgKyBEYXRlLnByb3RvdHlwZS50b1VUQ1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgfVxuXG4gIC8vIE1ha2UgZXJyb3Igd2l0aCBtZXNzYWdlIGZpcnN0IHNheSB0aGUgZXJyb3JcbiAgaWYgKGlzRXJyb3IodmFsdWUpKSB7XG4gICAgYmFzZSA9ICcgJyArIGZvcm1hdEVycm9yKHZhbHVlKTtcbiAgfVxuXG4gIGlmIChrZXlzLmxlbmd0aCA9PT0gMCAmJiAoIWFycmF5IHx8IHZhbHVlLmxlbmd0aCA9PSAwKSkge1xuICAgIHJldHVybiBicmFjZXNbMF0gKyBiYXNlICsgYnJhY2VzWzFdO1xuICB9XG5cbiAgaWYgKHJlY3Vyc2VUaW1lcyA8IDApIHtcbiAgICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ3JlZ2V4cCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoJ1tPYmplY3RdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH1cblxuICBjdHguc2Vlbi5wdXNoKHZhbHVlKTtcblxuICB2YXIgb3V0cHV0O1xuICBpZiAoYXJyYXkpIHtcbiAgICBvdXRwdXQgPSBmb3JtYXRBcnJheShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXlzKTtcbiAgfSBlbHNlIHtcbiAgICBvdXRwdXQgPSBrZXlzLm1hcChmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXksIGFycmF5KTtcbiAgICB9KTtcbiAgfVxuXG4gIGN0eC5zZWVuLnBvcCgpO1xuXG4gIHJldHVybiByZWR1Y2VUb1NpbmdsZVN0cmluZyhvdXRwdXQsIGJhc2UsIGJyYWNlcyk7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0UHJpbWl0aXZlKGN0eCwgdmFsdWUpIHtcbiAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJ3VuZGVmaW5lZCcsICd1bmRlZmluZWQnKTtcbiAgaWYgKGlzU3RyaW5nKHZhbHVlKSkge1xuICAgIHZhciBzaW1wbGUgPSAnXFwnJyArIEpTT04uc3RyaW5naWZ5KHZhbHVlKS5yZXBsYWNlKC9eXCJ8XCIkL2csICcnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLycvZywgXCJcXFxcJ1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFxcIi9nLCAnXCInKSArICdcXCcnO1xuICAgIHJldHVybiBjdHguc3R5bGl6ZShzaW1wbGUsICdzdHJpbmcnKTtcbiAgfVxuICBpZiAoaXNOdW1iZXIodmFsdWUpKVxuICAgIHJldHVybiBjdHguc3R5bGl6ZSgnJyArIHZhbHVlLCAnbnVtYmVyJyk7XG4gIGlmIChpc0Jvb2xlYW4odmFsdWUpKVxuICAgIHJldHVybiBjdHguc3R5bGl6ZSgnJyArIHZhbHVlLCAnYm9vbGVhbicpO1xuICAvLyBGb3Igc29tZSByZWFzb24gdHlwZW9mIG51bGwgaXMgXCJvYmplY3RcIiwgc28gc3BlY2lhbCBjYXNlIGhlcmUuXG4gIGlmIChpc051bGwodmFsdWUpKVxuICAgIHJldHVybiBjdHguc3R5bGl6ZSgnbnVsbCcsICdudWxsJyk7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0RXJyb3IodmFsdWUpIHtcbiAgcmV0dXJuICdbJyArIEVycm9yLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSArICddJztcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRBcnJheShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXlzKSB7XG4gIHZhciBvdXRwdXQgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDAsIGwgPSB2YWx1ZS5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkodmFsdWUsIFN0cmluZyhpKSkpIHtcbiAgICAgIG91dHB1dC5wdXNoKGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsXG4gICAgICAgICAgU3RyaW5nKGkpLCB0cnVlKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dHB1dC5wdXNoKCcnKTtcbiAgICB9XG4gIH1cbiAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgIGlmICgha2V5Lm1hdGNoKC9eXFxkKyQvKSkge1xuICAgICAgb3V0cHV0LnB1c2goZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cyxcbiAgICAgICAgICBrZXksIHRydWUpKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gb3V0cHV0O1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleSwgYXJyYXkpIHtcbiAgdmFyIG5hbWUsIHN0ciwgZGVzYztcbiAgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodmFsdWUsIGtleSkgfHwgeyB2YWx1ZTogdmFsdWVba2V5XSB9O1xuICBpZiAoZGVzYy5nZXQpIHtcbiAgICBpZiAoZGVzYy5zZXQpIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbR2V0dGVyL1NldHRlcl0nLCAnc3BlY2lhbCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0dldHRlcl0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoZGVzYy5zZXQpIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbU2V0dGVyXScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9XG4gIGlmICghaGFzT3duUHJvcGVydHkodmlzaWJsZUtleXMsIGtleSkpIHtcbiAgICBuYW1lID0gJ1snICsga2V5ICsgJ10nO1xuICB9XG4gIGlmICghc3RyKSB7XG4gICAgaWYgKGN0eC5zZWVuLmluZGV4T2YoZGVzYy52YWx1ZSkgPCAwKSB7XG4gICAgICBpZiAoaXNOdWxsKHJlY3Vyc2VUaW1lcykpIHtcbiAgICAgICAgc3RyID0gZm9ybWF0VmFsdWUoY3R4LCBkZXNjLnZhbHVlLCBudWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0ciA9IGZvcm1hdFZhbHVlKGN0eCwgZGVzYy52YWx1ZSwgcmVjdXJzZVRpbWVzIC0gMSk7XG4gICAgICB9XG4gICAgICBpZiAoc3RyLmluZGV4T2YoJ1xcbicpID4gLTEpIHtcbiAgICAgICAgaWYgKGFycmF5KSB7XG4gICAgICAgICAgc3RyID0gc3RyLnNwbGl0KCdcXG4nKS5tYXAoZnVuY3Rpb24obGluZSkge1xuICAgICAgICAgICAgcmV0dXJuICcgICcgKyBsaW5lO1xuICAgICAgICAgIH0pLmpvaW4oJ1xcbicpLnN1YnN0cigyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdHIgPSAnXFxuJyArIHN0ci5zcGxpdCgnXFxuJykubWFwKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgICAgIHJldHVybiAnICAgJyArIGxpbmU7XG4gICAgICAgICAgfSkuam9pbignXFxuJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tDaXJjdWxhcl0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfVxuICBpZiAoaXNVbmRlZmluZWQobmFtZSkpIHtcbiAgICBpZiAoYXJyYXkgJiYga2V5Lm1hdGNoKC9eXFxkKyQvKSkge1xuICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG4gICAgbmFtZSA9IEpTT04uc3RyaW5naWZ5KCcnICsga2V5KTtcbiAgICBpZiAobmFtZS5tYXRjaCgvXlwiKFthLXpBLVpfXVthLXpBLVpfMC05XSopXCIkLykpIHtcbiAgICAgIG5hbWUgPSBuYW1lLnN1YnN0cigxLCBuYW1lLmxlbmd0aCAtIDIpO1xuICAgICAgbmFtZSA9IGN0eC5zdHlsaXplKG5hbWUsICduYW1lJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoLycvZywgXCJcXFxcJ1wiKVxuICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFxcXFwiL2csICdcIicpXG4gICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8oXlwifFwiJCkvZywgXCInXCIpO1xuICAgICAgbmFtZSA9IGN0eC5zdHlsaXplKG5hbWUsICdzdHJpbmcnKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmFtZSArICc6ICcgKyBzdHI7XG59XG5cblxuZnVuY3Rpb24gcmVkdWNlVG9TaW5nbGVTdHJpbmcob3V0cHV0LCBiYXNlLCBicmFjZXMpIHtcbiAgdmFyIG51bUxpbmVzRXN0ID0gMDtcbiAgdmFyIGxlbmd0aCA9IG91dHB1dC5yZWR1Y2UoZnVuY3Rpb24ocHJldiwgY3VyKSB7XG4gICAgbnVtTGluZXNFc3QrKztcbiAgICBpZiAoY3VyLmluZGV4T2YoJ1xcbicpID49IDApIG51bUxpbmVzRXN0Kys7XG4gICAgcmV0dXJuIHByZXYgKyBjdXIucmVwbGFjZSgvXFx1MDAxYlxcW1xcZFxcZD9tL2csICcnKS5sZW5ndGggKyAxO1xuICB9LCAwKTtcblxuICBpZiAobGVuZ3RoID4gNjApIHtcbiAgICByZXR1cm4gYnJhY2VzWzBdICtcbiAgICAgICAgICAgKGJhc2UgPT09ICcnID8gJycgOiBiYXNlICsgJ1xcbiAnKSArXG4gICAgICAgICAgICcgJyArXG4gICAgICAgICAgIG91dHB1dC5qb2luKCcsXFxuICAnKSArXG4gICAgICAgICAgICcgJyArXG4gICAgICAgICAgIGJyYWNlc1sxXTtcbiAgfVxuXG4gIHJldHVybiBicmFjZXNbMF0gKyBiYXNlICsgJyAnICsgb3V0cHV0LmpvaW4oJywgJykgKyAnICcgKyBicmFjZXNbMV07XG59XG5cblxuLy8gTk9URTogVGhlc2UgdHlwZSBjaGVja2luZyBmdW5jdGlvbnMgaW50ZW50aW9uYWxseSBkb24ndCB1c2UgYGluc3RhbmNlb2ZgXG4vLyBiZWNhdXNlIGl0IGlzIGZyYWdpbGUgYW5kIGNhbiBiZSBlYXNpbHkgZmFrZWQgd2l0aCBgT2JqZWN0LmNyZWF0ZSgpYC5cbmZ1bmN0aW9uIGlzQXJyYXkoYXIpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYXIpO1xufVxuZXhwb3J0cy5pc0FycmF5ID0gaXNBcnJheTtcblxuZnVuY3Rpb24gaXNCb29sZWFuKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Jvb2xlYW4nO1xufVxuZXhwb3J0cy5pc0Jvb2xlYW4gPSBpc0Jvb2xlYW47XG5cbmZ1bmN0aW9uIGlzTnVsbChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNOdWxsID0gaXNOdWxsO1xuXG5mdW5jdGlvbiBpc051bGxPclVuZGVmaW5lZChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PSBudWxsO1xufVxuZXhwb3J0cy5pc051bGxPclVuZGVmaW5lZCA9IGlzTnVsbE9yVW5kZWZpbmVkO1xuXG5mdW5jdGlvbiBpc051bWJlcihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdudW1iZXInO1xufVxuZXhwb3J0cy5pc051bWJlciA9IGlzTnVtYmVyO1xuXG5mdW5jdGlvbiBpc1N0cmluZyhhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnO1xufVxuZXhwb3J0cy5pc1N0cmluZyA9IGlzU3RyaW5nO1xuXG5mdW5jdGlvbiBpc1N5bWJvbChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdzeW1ib2wnO1xufVxuZXhwb3J0cy5pc1N5bWJvbCA9IGlzU3ltYm9sO1xuXG5mdW5jdGlvbiBpc1VuZGVmaW5lZChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gdm9pZCAwO1xufVxuZXhwb3J0cy5pc1VuZGVmaW5lZCA9IGlzVW5kZWZpbmVkO1xuXG5mdW5jdGlvbiBpc1JlZ0V4cChyZSkge1xuICByZXR1cm4gaXNPYmplY3QocmUpICYmIG9iamVjdFRvU3RyaW5nKHJlKSA9PT0gJ1tvYmplY3QgUmVnRXhwXSc7XG59XG5leHBvcnRzLmlzUmVnRXhwID0gaXNSZWdFeHA7XG5cbmZ1bmN0aW9uIGlzT2JqZWN0KGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ29iamVjdCcgJiYgYXJnICE9PSBudWxsO1xufVxuZXhwb3J0cy5pc09iamVjdCA9IGlzT2JqZWN0O1xuXG5mdW5jdGlvbiBpc0RhdGUoZCkge1xuICByZXR1cm4gaXNPYmplY3QoZCkgJiYgb2JqZWN0VG9TdHJpbmcoZCkgPT09ICdbb2JqZWN0IERhdGVdJztcbn1cbmV4cG9ydHMuaXNEYXRlID0gaXNEYXRlO1xuXG5mdW5jdGlvbiBpc0Vycm9yKGUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KGUpICYmXG4gICAgICAob2JqZWN0VG9TdHJpbmcoZSkgPT09ICdbb2JqZWN0IEVycm9yXScgfHwgZSBpbnN0YW5jZW9mIEVycm9yKTtcbn1cbmV4cG9ydHMuaXNFcnJvciA9IGlzRXJyb3I7XG5cbmZ1bmN0aW9uIGlzRnVuY3Rpb24oYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnZnVuY3Rpb24nO1xufVxuZXhwb3J0cy5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvbjtcblxuZnVuY3Rpb24gaXNQcmltaXRpdmUoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IG51bGwgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdib29sZWFuJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ251bWJlcicgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnc3ltYm9sJyB8fCAgLy8gRVM2IHN5bWJvbFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3VuZGVmaW5lZCc7XG59XG5leHBvcnRzLmlzUHJpbWl0aXZlID0gaXNQcmltaXRpdmU7XG5cbmV4cG9ydHMuaXNCdWZmZXIgPSByZXF1aXJlKCcuL3N1cHBvcnQvaXNCdWZmZXInKTtcblxuZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcobykge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pO1xufVxuXG5cbmZ1bmN0aW9uIHBhZChuKSB7XG4gIHJldHVybiBuIDwgMTAgPyAnMCcgKyBuLnRvU3RyaW5nKDEwKSA6IG4udG9TdHJpbmcoMTApO1xufVxuXG5cbnZhciBtb250aHMgPSBbJ0phbicsICdGZWInLCAnTWFyJywgJ0FwcicsICdNYXknLCAnSnVuJywgJ0p1bCcsICdBdWcnLCAnU2VwJyxcbiAgICAgICAgICAgICAgJ09jdCcsICdOb3YnLCAnRGVjJ107XG5cbi8vIDI2IEZlYiAxNjoxOTozNFxuZnVuY3Rpb24gdGltZXN0YW1wKCkge1xuICB2YXIgZCA9IG5ldyBEYXRlKCk7XG4gIHZhciB0aW1lID0gW3BhZChkLmdldEhvdXJzKCkpLFxuICAgICAgICAgICAgICBwYWQoZC5nZXRNaW51dGVzKCkpLFxuICAgICAgICAgICAgICBwYWQoZC5nZXRTZWNvbmRzKCkpXS5qb2luKCc6Jyk7XG4gIHJldHVybiBbZC5nZXREYXRlKCksIG1vbnRoc1tkLmdldE1vbnRoKCldLCB0aW1lXS5qb2luKCcgJyk7XG59XG5cblxuLy8gbG9nIGlzIGp1c3QgYSB0aGluIHdyYXBwZXIgdG8gY29uc29sZS5sb2cgdGhhdCBwcmVwZW5kcyBhIHRpbWVzdGFtcFxuZXhwb3J0cy5sb2cgPSBmdW5jdGlvbigpIHtcbiAgY29uc29sZS5sb2coJyVzIC0gJXMnLCB0aW1lc3RhbXAoKSwgZXhwb3J0cy5mb3JtYXQuYXBwbHkoZXhwb3J0cywgYXJndW1lbnRzKSk7XG59O1xuXG5cbi8qKlxuICogSW5oZXJpdCB0aGUgcHJvdG90eXBlIG1ldGhvZHMgZnJvbSBvbmUgY29uc3RydWN0b3IgaW50byBhbm90aGVyLlxuICpcbiAqIFRoZSBGdW5jdGlvbi5wcm90b3R5cGUuaW5oZXJpdHMgZnJvbSBsYW5nLmpzIHJld3JpdHRlbiBhcyBhIHN0YW5kYWxvbmVcbiAqIGZ1bmN0aW9uIChub3Qgb24gRnVuY3Rpb24ucHJvdG90eXBlKS4gTk9URTogSWYgdGhpcyBmaWxlIGlzIHRvIGJlIGxvYWRlZFxuICogZHVyaW5nIGJvb3RzdHJhcHBpbmcgdGhpcyBmdW5jdGlvbiBuZWVkcyB0byBiZSByZXdyaXR0ZW4gdXNpbmcgc29tZSBuYXRpdmVcbiAqIGZ1bmN0aW9ucyBhcyBwcm90b3R5cGUgc2V0dXAgdXNpbmcgbm9ybWFsIEphdmFTY3JpcHQgZG9lcyBub3Qgd29yayBhc1xuICogZXhwZWN0ZWQgZHVyaW5nIGJvb3RzdHJhcHBpbmcgKHNlZSBtaXJyb3IuanMgaW4gcjExNDkwMykuXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbn0gY3RvciBDb25zdHJ1Y3RvciBmdW5jdGlvbiB3aGljaCBuZWVkcyB0byBpbmhlcml0IHRoZVxuICogICAgIHByb3RvdHlwZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHN1cGVyQ3RvciBDb25zdHJ1Y3RvciBmdW5jdGlvbiB0byBpbmhlcml0IHByb3RvdHlwZSBmcm9tLlxuICovXG5leHBvcnRzLmluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcblxuZXhwb3J0cy5fZXh0ZW5kID0gZnVuY3Rpb24ob3JpZ2luLCBhZGQpIHtcbiAgLy8gRG9uJ3QgZG8gYW55dGhpbmcgaWYgYWRkIGlzbid0IGFuIG9iamVjdFxuICBpZiAoIWFkZCB8fCAhaXNPYmplY3QoYWRkKSkgcmV0dXJuIG9yaWdpbjtcblxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGFkZCk7XG4gIHZhciBpID0ga2V5cy5sZW5ndGg7XG4gIHdoaWxlIChpLS0pIHtcbiAgICBvcmlnaW5ba2V5c1tpXV0gPSBhZGRba2V5c1tpXV07XG4gIH1cbiAgcmV0dXJuIG9yaWdpbjtcbn07XG5cbmZ1bmN0aW9uIGhhc093blByb3BlcnR5KG9iaiwgcHJvcCkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vdXRpbC91dGlsLmpzXG4vLyBtb2R1bGUgaWQgPSA5OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHtcblx0XCJuYW1lXCI6IFwicHJlYWNoZXJcIixcblx0XCJ2ZXJzaW9uXCI6IFwiMC4wLjFcIixcblx0XCJkZXNjcmlwdGlvblwiOiBcIkxvZ2dpbmcgd3JhcHBlciB0byBleHRlbmQgY29uc29sZSBvciB5b3VyIGZhdm9yaXRlIGxvZ2dlci5cIixcblx0XCJtYWluXCI6IFwiZGlzdC9wcmVhY2hlci5qc1wiLFxuXHRcInNjcmlwdHNcIjoge1xuXHRcdFwibGludFwiOiBcImVzbGludCAqLmpzIC4vKiovKi5qcyAtLWlnbm9yZS1wYXRoIC4vLmVzbGludGlnbm9yZSAtLXF1aWV0XCIsXG5cdFx0XCJtb2NoYVwiOiBcIm1vY2hhIC0tY29sb3JzIC0tY29tcGlsZXJzIGpzOmJhYmVsLXJlZ2lzdGVyICRAXCIsXG5cdFx0XCJ0ZXN0XCI6IFwibnBtIHJ1biBsaW50ICYmIG1vY2hhIC0tY29sb3JzIC0tY29tcGlsZXJzIGpzOmJhYmVsLXJlZ2lzdGVyIC4vdGVzdC8qKi8qdGVzdC5qcyAuL3Rlc3QvKi50ZXN0LmpzXCIsXG5cdFx0XCJidWlsZDpicm93c2VyXCI6IFwid2VicGFjayAtcFwiLFxuXHRcdFwiYnVpbGQ6bm9kZVwiOiBcIm1rZGlyIC1wIGRpc3QvICYmIGJhYmVsIC4vc3JjIC0tb3V0LWRpciBkaXN0XCIsXG5cdFx0XCJidWlsZFwiOiBcIm5wbSBydW4gYnVpbGQ6YnJvd3NlciAmJiBucG0gcnVuIGJ1aWxkOm5vZGVcIixcblx0XHRcInN0YXJ0XCI6IFwid2VicGFjay1kZXYtc2VydmVyIC0tcHJvZ3Jlc3MgLS1pbmxpbmUgLS1ob3QgLS1vcGVuXCIsXG5cdFx0XCJwcmVwdWJsaXNoXCI6IFwibnBtIHJ1biBidWlsZDpub2RlXCJcblx0fSxcblx0XCJyZXBvc2l0b3J5XCI6IHtcblx0XHRcInR5cGVcIjogXCJnaXRcIixcblx0XHRcInVybFwiOiBcImh0dHA6Ly93d3cuZ2l0aHViLmNvbS9ubWNjcmVhZHkvcHJlYWNoZXJcIlxuXHR9LFxuXHRcImtleXdvcmRzXCI6IFtcblx0XHRcImxvZ2dpbmdcIixcblx0XHRcImxvZ2dlclwiLFxuXHRcdFwibGF6eS1ldmFsXCIsXG5cdFx0XCJkZWJ1Z1wiXG5cdF0sXG5cdFwiYXV0aG9yXCI6IFwiTmljaG9sYXMgTWNDcmVhZHlcIixcblx0XCJjb250cmlidXRvcnNcIjogW1xuXHRcdFwiSm9lIEliZXJzaG9mZlwiXG5cdF0sXG5cdFwibGljZW5zZVwiOiBcIk1JVFwiLFxuXHRcImRlcGVuZGVuY2llc1wiOiB7XG5cdFx0XCJjb2xvci13cmFwXCI6IFwiMC4wLjNcIixcblx0XHRcImRlYnVnLWZhYnVsb3VzXCI6IFwiMC4xLlhcIixcblx0XHRcIm1lbW9pemVlXCI6IFwiMC40LlhcIixcblx0XHRcIm9iamVjdC1hc3NpZ25cIjogXCI0LjEuWFwiLFxuXHRcdFwic3RhY2stdHJhY2VcIjogXCIwLjAuOVwiXG5cdH0sXG5cdFwiZGV2RGVwZW5kZW5jaWVzXCI6IHtcblx0XHRcImJhYmVsLWNsaVwiOiBcIl42LjI0LjFcIixcblx0XHRcImJhYmVsLWNvcmVcIjogXCJeNi4zLjI2XCIsXG5cdFx0XCJiYWJlbC1lc2xpbnRcIjogXCJeNi4xLjBcIixcblx0XHRcImJhYmVsLWxvYWRlclwiOiBcIl42LjQuMVwiLFxuXHRcdFwiYmFiZWwtcGx1Z2luLXRyYW5zZm9ybS1jbGFzcy1wcm9wZXJ0aWVzXCI6IFwiXjYuMjQuMVwiLFxuXHRcdFwiYmFiZWwtcGx1Z2luLXRyYW5zZm9ybS1leHBvcnQtZXh0ZW5zaW9uc1wiOiBcIl42LjIyLjBcIixcblx0XHRcImJhYmVsLXBsdWdpbi10cmFuc2Zvcm0tb2JqZWN0LWFzc2lnblwiOiBcIl42LjIyLjBcIixcblx0XHRcImJhYmVsLXBsdWdpbi10cmFuc2Zvcm0tb2JqZWN0LXJlc3Qtc3ByZWFkXCI6IFwiXjYuMjMuMFwiLFxuXHRcdFwiYmFiZWwtcHJlc2V0LWVzMjAxNVwiOiBcIl42LjMuMTNcIixcblx0XHRcImJhYmVsLXByZXNldC1yZWFjdFwiOiBcIl42LjMuMTNcIixcblx0XHRcImJhYmVsLXJlZ2lzdGVyXCI6IFwiXjYuMy4xM1wiLFxuXHRcdFwiYmx1ZWJpcmRcIjogXCJeMy41LjBcIixcblx0XHRcImNoYWlcIjogXCIzLlhcIixcblx0XHRcImVzbGludFwiOiBcIjMuWFwiLFxuXHRcdFwiaG9vay1zdGRcIjogXCIwLlhcIixcblx0XHRcIm1vY2hhXCI6IFwiMy5YXCIsXG5cdFx0XCJyaW1yYWZcIjogXCJeMi42LjFcIixcblx0XHRcInNpbm9uXCI6IFwiXjIuMS4wXCIsXG5cdFx0XCJ3ZWJwYWNrXCI6IFwiXjIuNC4xXCIsXG5cdFx0XCJ3ZWJwYWNrLWRldi1zZXJ2ZXJcIjogXCJeMi40LjRcIixcblx0XHRcIndpbnN0b25cIjogXCJeMi4zLjFcIlxuXHR9XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vcGFja2FnZS5qc29uXG4vLyBtb2R1bGUgaWQgPSAxMDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==